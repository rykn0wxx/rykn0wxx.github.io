{"version":3,"sources":["scripts/app-b7bce0e47a.js"],"names":["routeConfig","$urlRouterProvider","baSidebarServiceProvider","otherwise","chartJsConfig","ChartJsProvider","baConfigProvider","layoutColors","colors","setOptions","responsive","maintainAspectRatio","animation","duration","scale","gridLines","color","border","scaleLabel","display","datasetFill","tooltips","enabled","angular","module","config","$stateProvider","state","url","template","title","sidebarMeta","icon","order","resolve","collection","urlUtil","$q","pClient","getJson","pRegion","pData","mycollection","all","zClient","zRegion","zData","then","data","templateUrl","controller","runConfig","$rootScope","$location","$cookies","$http","$state","globals","get","isLogedIn","currentUser","$on","event","next","current","path","ev","toState","toParams","fromState","fromParams","isLoggedIn","InitPageCtrl","$scope","$cookieStore","$timeout","checkConn","defer","method","apipath","headers","Accept","Content-Type","resp","promise","apistatus","curUser","conCon","res","status","element","addClass","removeClass","run","abstract","urlUtilFactory","$window","cleanData","respObj","convData","tmpMonth","Date","_","forEach","val","ind","tmp","map","v","k","indexOf","camelCase","d3","time","month","push","fileName","isUndefined","factory","colorHelper","$provide","decorator","uiViewScrollDecorator","$delegate","$anchorScroll","baUtil","uiViewElement","hasAttr","configProvider","conf","theme","blur","default","basic","defaultText","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","themeRun","layoutPaths","preloader","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","$pageFinishedLoading","$baSidebarService","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","document","body","service","toastrLibConfig","toastrConfig","extend","closeButton","closeHtml","timeOut","autoDismiss","containerId","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","target","animatedChange","link","scope","changeValue","html","newValue","attr","oldvalue","j","find","directive","autoExpand","restrict","elem","bind","$event","$","height","scrollHeight","setTimeout","autoFocus","$parse","attrs","model","$watch","value","focus","select","$apply","assign","btnDaterange","BtnDaterangeLink","modelCtrl","BtnDaterangeCtrl","$element","$attrs","$compile","$log","$document","require","controllerAs","opts","includeWithScope","ele","ionSlider","replace","min","max","type","prefix","maxPostfix","prettify","prettifySeparator","grid","gridMargin","postfix","step","hideMinMax","hideFromTo","from","to","disable","onChange","onFinish","values","timeout","ionRangeSlider","prettify_enabled","prettify_separator","update","ngFileSelect","el","e","file","srcElement","files","getFile","scrollPosition","maxHeight","window","on","scrollTop","prevScrollTop","trackWidth","minWidth","width","prevTrackWidth","resize","zoomIn","delay","baProgressModal","$uibModal","methods","progress","opened","setProgress","Error","getProgress","open","size","keyboard","backdrop","close","this","isDescendant","parent","child","node","parentNode","hexToRGB","hex","alpha","r","g","b","attrName","csmMediaFactory","csmMedia","query","validated","queries","validate","results","add","kConstant","MEDIA","charAt","mqls","matchMedia","addListener","onQueryChange","media","matches","$evalAsync","getQuery","name","getResponsiveAttribute","MEDIA_PRIORITY","length","mediaName","normalizedName","getNormalizedName","watchResponsiveAttributes","attrNames","watchFn","unwatchFns","isDefined","$observe","$mdConstant","fn","normalizeCache","$normalize","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","landscape","portrait","print","fileReader","onLoad","reader","deferred","onError","reject","onProgress","$broadcast","total","loaded","getReader","FileReader","onload","onerror","onprogress","readAsDataURL","readAsDataUrl","src","img","Image","AmCharts","ready","stopableInterval","start","interval","calback","startInterval","cancel","dashboardBlock","DashboardBlockCtrl","$filter","o","ndx","crossfilter","widgetObj","metrics","revenue","ebitPercent","iph","costPerTkt","ebitPerTkt","revPerHead","$resolve","tmpId","filter","clientId","regionId","clientName","code","regionName","global","n","dimMonth","dimension","repmonth","dimRegion","dimClient","perRegion","group","reduce","grpAdd","grpRemove","grpBase","perMonth","perGlobal","perClient","metric","at","regions","ztmp","key","zGlobal","perClients","p","count","ebit","ebitDollar","ebitMin","ebitMax","ebitScore","round","revenueDollar","revenueMin","revenueMax","revenueScore","ebitPercentScore","expense","avgExpense","tktVolume","ticketVolume","avgTktVolume","tktFte","fte","avgTktFte","backTop","position","speed","baPanel","baPanelClass","transclude","baPanelTitle","titleTpl","baPanelBlur","baPanelBlurHelper","bodyBgSize","bodyBgLoad","getBodyBgImageSizes","addEventListener","recalculatePanelStyle","css","backgroundSize","backgroundPosition","positionX","positionY","$isMobile","removeEventListener","computedStyle","getComputedStyle","image","backgroundImage","elemW","documentElement","clientWidth","elemH","clientHeight","finalHeight","finalWidth","imgRatio","containerRatio","baPanelSelf","baSidebar","layoutSizes","jqWindow","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","canSidebarBeHidden","setMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","childNodes","off","staticMenuItems","addStaticItem","apply","arguments","_factory","defineMenuItemStates","s","meta","level","match","stateRef","sort","a","innerWidth","getMenuItems","states","menuItems","item","children","subMenu","concat","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","BaSidebarCtrl","defaultSidebarState","hoverItem","showHoverElem","hoverElemHeight","currentTarget","menuTopValue","hoverElemTop","getBoundingClientRect","top","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","_isState","subItemsStateRefs","some","subItemState","vm","menuItem","$$menuItem","$eval","$$expandSubmenu","console","warn","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","baUiSrefTogglingSubmenu","slideDown","slideUp","baUiSrefToggler","baWizard","baWizardCtrl","calcProgress","tabNum","tabs","addTab","tab","setPrev","selectTab","submit","isAvailiable","t","tIndex","isFirstTab","isLastTab","nextTab","previousTab","baWizardStep","form","wizard","isSelected","selected","$setSubmitted","isComplete","$valid","prevTab","pTab","undefined","contentTop","activePageTitle","msgCenter","MsgCenterCtrl","$sce","users","0","1","2","3","notifications","userId","messages","text","getMessage","msg","trustAsHtml","pageTop","aaa","progressBarRound","animateBar","circle","setAttribute","PI","baProgressDialog","widgets","ngModel","appImage","input","kameleonImg","profilePicture","ext","baSwitcher","switcherStyle","switcherValue","plainText","String","toTitleCase","string","out","str","offset","toUpperCase","toTitleCaseFilter","toCurrency","isNumber","toNumber","toPercent","multiply","dimensionalView","DimensionalViewCtrl","dc","cloneDeep","dMonth","dRegion","gRegion","revRegion","reduceSum","ebiMonth","orBarChrt","avg","barChart","volumeChart","moveChart","lineChart","elasticY","x","ordinal","xUnits","units","renderArea","transitionDuration","margins","right","bottom","left","mouseZoomable","rangeChart","domain","months","renderHorizontalGridLines","legend","y","itemHeight","gap","brushOn","valueAccessor","centerBar","alwaysUseRounding","render","CurrentKpiCtrl","$stateParams","kNdx","$parent","sParm","perKpi","label","kpiName","sub","getFullYear","toDateString","split","options","fill","backgroundColor","scales","yAxes","ticks","callback","vals","numFormat","lowerCase","toPrecision","beginAtZero","xAxes","currentPerformance","CurrentPerformanceCtrl","updateValues","charts","pieColor","description","startCase","stats","regData","regLabel","toOpen","customTp","tooltip","getBody","bodyItem","lines","tooltipEl","getElementById","createElement","id","innerHTML","appendChild","opacity","style","classList","remove","yAlign","titleLines","bodyLines","innerHtml","labelColors","borderColor","span","tableRoot","querySelector","_chart","canvas","caretX","caretY","fontFamily","_fontFamily","fontSize","fontStyle","_fontStyle","padding","yPadding","xPadding","datePicker","date","startDate","endDate","mode","format","maxMode","minMode","med","nVal","oVal","sc","dt","filterFunction","getMonth","ch","labels","custom","dashboardPieChart","c","scroll","fadeIn","fadeOut","click","animate","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-b7bce0e47a.js","sourcesContent":["/**\n * @author rykn0wxx\n * created on 31 01 2017\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages', [\n    'ui.router',\n    'chart.js',\n\n    'BlurAdmin.pages.init',\n    'BlurAdmin.pages.dashboard',\n    'BlurAdmin.pages.version'\n  ])\n      .config(routeConfig).config(chartJsConfig);\n\n  /** @ngInject */\n  function routeConfig($urlRouterProvider, baSidebarServiceProvider) {\n    $urlRouterProvider.otherwise('/dashboard');\n  }\n  function chartJsConfig (ChartJsProvider, baConfigProvider) {\n    var layoutColors = baConfigProvider.colors;\n    ChartJsProvider.setOptions({\n      // chartColors: [\n      //   layoutColors.primary, layoutColors.danger, layoutColors.warning, layoutColors.success, layoutColors.info, layoutColors.default, layoutColors.primaryDark, layoutColors.successDark, layoutColors.warningLight, layoutColors.successLight, layoutColors.primaryLight\n      // ],\n      responsive: true,\n      maintainAspectRatio: false,\n      animation: {\n        duration: 1000\n      },\n      scale: {\n        gridLines: {\n          color: layoutColors.border\n        },\n        scaleLabel: {\n          display: false\n        }\n      }\n    });\n    ChartJsProvider.setOptions('line', {\n      datasetFill: false\n    });\n    ChartJsProvider.setOptions('bar', {\n      tooltips: {\n        enabled: false\n      }\n    });\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme', [\n      'toastr',\n      'chart.js',\n      'angular-chartist',\n      'angular.morris-chart',\n      'textAngular',\n      'BlurAdmin.theme.components',\n      'BlurAdmin.theme.inputs'\n  ]);\n\n})();\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.dashboard', [])\r\n      .config(routeConfig);\r\n\r\n  /** @ngInject */\r\n  function routeConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('dashboard', {\r\n        url: '/dashboard',\r\n        template: '<div ui-view=\"\" autoscroll=\"true\" autoscroll-body-top=\"></div>',\r\n        title: 'Executive KPI',\r\n        sidebarMeta: {\r\n          icon: 'ion-android-home',\r\n          order: 0\r\n        },\r\n        resolve: {\r\n          collection: function (urlUtil, $q) {\r\n            var pClient = urlUtil.getJson('clients');\r\n            var pRegion = urlUtil.getJson('regions');\r\n            var pData = urlUtil.getJson('rawexecs');\r\n            var mycollection = $q.all({\r\n              zClient:pClient,\r\n              zRegion:pRegion,\r\n              zData:pData\r\n            }).then(function (data) {\r\n              return data;\r\n            });\r\n            return mycollection;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 01 02 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.init', [\r\n    'ngCookies'\r\n  ])\r\n    .config(routeConfig)\r\n    .run(runConfig)\r\n    .controller('InitPageCtrl', InitPageCtrl);\r\n\r\n  /** @ngInject */\r\n  function routeConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('init', {\r\n        url: '/init',\r\n        templateUrl: 'app/pages/init/init.html',\r\n        controller: 'InitPageCtrl',\r\n        title: 'Configuration'\r\n      });\r\n  }\r\n\r\n  function runConfig ($rootScope, $location, $cookies, $http, $state) {\r\n    $rootScope.globals = $cookies.get('globals') || {};\r\n    $rootScope.globals.isLogedIn = false;\r\n\r\n    if (!$rootScope.globals.currentUser) {\r\n      //$location.path('/init');\r\n    }\r\n\r\n\r\n    $rootScope.$on('$locationChangeStart', function (event, next, current) {\r\n\t\t\tif ($location.path() !== '/init' && !$rootScope.globals.currentUser) {\r\n\t\t\t\t///$location.path('/init');\r\n\t\t\t}\r\n\t\t});\r\n\r\n    $rootScope.$on('$stateChangeStart', function (ev, toState, toParams, fromState, fromParams) {\r\n\t\t\tif (toState.url !== '/init' && !$rootScope.globals.currentUser) {\r\n\t\t\t\t//$state.go('/init');\r\n\t\t\t}\r\n\t\t});\r\n\r\n    $rootScope.globals = {\r\n      isLoggedIn : true,\r\n      currentUser: true\r\n    };\r\n\r\n\r\n  }\r\n\r\n  function InitPageCtrl ($scope, $rootScope, $cookieStore, $http, $state, $q, $timeout, $location) {\r\n    $scope.apistatus = 'offline';\r\n    $scope.apipath = 'localhost:3000';\r\n    $scope.curUser = null;\r\n    $scope.conCon = function () {\r\n      checkConn().then(function (res) {\r\n        $scope.apistatus = res.status === 200 ? 'online':'offline';\r\n        angular.element('.box-mail').addClass('issent');\r\n        $timeout(function () {\r\n          if (res.status === 200) {\r\n            $rootScope.globals = {\r\n              isLoggedIn : true,\r\n              currentUser: true\r\n            };\r\n            $scope.curUser = $rootScope.globals.currentUser;\r\n            $location.path('/dashboard');\r\n          } else {\r\n            angular.element('.box-mail').removeClass('issent');\r\n          }\r\n        }, 1800);\r\n      });\r\n    };\r\n\r\n    function checkConn () {\r\n      var defer = $q.defer();\r\n      $http({\r\n        method: 'GET',\r\n        url: 'http://' + $scope.apipath + '/regions',\r\n        headers: {\r\n          'Accept': 'application/vnd.api+json',\r\n          'Content-Type': 'application/vnd.api+json'\r\n        }\r\n      }).then(function (resp) {\r\n        defer.resolve(resp);\r\n      });\r\n      return defer.promise;\r\n    }\r\n  }\r\n})();\r\n\n/**\n * @author k.danovsky\n * created on 12.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.version', [\n    'BlurAdmin.pages.version.executive'\n  ])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('trending', {\n          url: '/trending',\n          template : '<ui-view  autoscroll=\"true\" autoscroll-body-top></ui-view>',\n          abstract: true,\n          title: 'Trending',\n          sidebarMeta: {\n            icon: 'ion-android-laptop',\n            order: 200,\n          },\n          resolve: {\n            collection: function (urlUtil, $q) {\n              var pClient = urlUtil.getJson('clients');\n              var pRegion = urlUtil.getJson('regions');\n              var pData = urlUtil.getJson('rawexecs');\n              var mycollection = $q.all({\n                zClient:pClient,\n                zRegion:pRegion,\n                zData:pData\n              }).then(function (data) {\n                return data;\n              });\n              return mycollection;\n            }\n          }\n        });\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components', []);\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 10.12.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.inputs', []);\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.version.executive', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n      .state('trending.executive', {\n        url: '/executive',\n        templateUrl: 'app/pages/version/executive/executive.html',\n        title: 'Executive',\n        sidebarMeta: {\n          order: 0,\n        },\n        resolve: {\n          collection: function (urlUtil, $q) {\n            var pClient = urlUtil.getJson('clients');\n            var pRegion = urlUtil.getJson('regions');\n            var pData = urlUtil.getJson('rawexecs');\n            var mycollection = $q.all({\n              zClient:pClient,\n              zRegion:pRegion,\n              zData:pData\n            }).then(function (data) {\n              return data;\n            });\n            return mycollection;\n          }\n        }\n      })\n      .state('trending.executive.kpi', {\n        url: '/{type}',\n        templateUrl: 'app/pages/version/executive/currentPerformance/currentKpi.html',\n        controller: 'CurrentKpiCtrl',\n        title: 'KPI'\n      });\n  }\n\n})();\n\n'use strict';\n\nangular.module('BlurAdmin', [\n  'ngAnimate',\n  'ui.bootstrap',\n  'ui.sortable',\n  'ui.router',\n  'ngTouch',\n  'toastr',\n  'smart-table',\n  \"xeditable\",\n  'ui.slimscroll',\n  'ngJsTree',\n  'angular-progress-button-styles',\n  'ui.knob',\n  'daterangepicker',\n\n  'BlurAdmin.theme',\n  'BlurAdmin.pages'\n]);\n\n/**\r\n * @author v.lugovsky\r\n * created on 03.05.2016\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages')\r\n    .factory('urlUtil', urlUtilFactory);\r\n\r\n  /** @ngInject */\r\n  function urlUtilFactory ($q, $http, $window) {\r\n    var d3 = $window.d3;\r\n    var _ = $window._;\r\n\r\n    function cleanData (respObj) {\r\n      var convData = [];\r\n      var tmpMonth = new Date();\r\n      _.forEach(respObj, function(val, ind) {\r\n        var tmp = {};\r\n        _.map(val, function(v, k) {\r\n          if (k.indexOf('month') !== -1) {\r\n            tmpMonth = new Date(((v - (25567+1))*86400*1000)-72000000);\r\n            tmp[_.camelCase(k)] = d3.time.month(tmpMonth);\r\n          } else {\r\n            tmp[_.camelCase(k)] = v;\r\n          }\r\n        });\r\n        convData.push(tmp);\r\n\t\t\t});\r\n      // _.forEach(convData, function(val, ind) {\r\n      //   var tmpMonth = new Date(((val.repmonth-(25567+1))*86400*1000)-72000000);\r\n\t\t\t// \tval.repmonth = d3.time.month(tmpMonth);\r\n\t\t\t// });\r\n      return convData;\r\n    }\r\n\r\n    return {\r\n\r\n      getJson : function getJsonFunc (fileName) {\r\n        if (_.isUndefined(fileName)) {\r\n  \t\t\t\treturn [];\r\n  \t\t\t}\r\n\r\n        var defer = $q.defer();\r\n\r\n        $http({\r\n          method: 'GET',\r\n          url: 'http://localhost:3000/' + fileName,\r\n          headers: {\r\n            'Accept': 'application/vnd.api+json',\r\n            'Content-Type': 'application/vnd.api+json'\r\n          }\r\n        }).then(function (resp) {\r\n          defer.resolve(cleanData(resp.data));\r\n        });\r\n\r\n        return defer.promise;\r\n      }\r\n    };\r\n\r\n  }\r\n})();\r\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .config(config);\n\n  /** @ngInject */\n  function config(baConfigProvider, colorHelper, $provide) {\n    $provide.decorator('$uiViewScroll', uiViewScrollDecorator);\n    //baConfigProvider.changeTheme({blur: true});\n    //\n    // baConfigProvider.changeColors({\n    //  default: '#ff00ef',\n    //  defaultText: '#ff0000',\n    //  dashboard: {\n    //    white: '#ffffff',\n    //  },\n    // });\n  }\n\n  /** @ngInject */\n  function uiViewScrollDecorator($delegate, $anchorScroll, baUtil) {\n    return function (uiViewElement) {\n      if (baUtil.hasAttr(uiViewElement, \"autoscroll-body-top\")) {\n        $anchorScroll();\n      } else {\n        $delegate(uiViewElement);\n      }\n    };\n  }\n})();\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  var basic = {\n    default: '#ffffff',\n    defaultText: '#666666',\n    border: '#dddddd',\n    borderDark: '#aaaaaa',\n  };\n\n  // main functional color scheme\n  var colorScheme = {\n    primary: '#005eb8',\n    info: '#0262bb',\n    success: '#00a378',\n    warning: '#a34f00',\n    danger: '#c81a14',\n  };\n\n  // dashboard colors for charts\n  var dashboardColors = {\n    blueStone: '#005562',\n    surfieGreen: '#0e8174',\n    silverTree: '#6eba8c',\n    gossip: '#b9f2a1',\n    white: '#10c4b5',\n  };\n\n  angular.module('BlurAdmin.theme')\n    .provider('baConfig', configProvider);\n\n  /** @ngInject */\n  function configProvider(colorHelper) {\n    var conf = {\n      theme: {\n        blur: false,\n      },\n      colors: {\n        default: basic.default,\n        defaultText: basic.defaultText,\n        border: basic.border,\n        borderDark: basic.borderDark,\n\n        primary: colorScheme.primary,\n        info: colorScheme.info,\n        success: colorScheme.success,\n        warning: colorScheme.warning,\n        danger: colorScheme.danger,\n\n        primaryLight: colorHelper.tint(colorScheme.primary, 30),\n        infoLight: colorHelper.tint(colorScheme.info, 30),\n        successLight: colorHelper.tint(colorScheme.success, 30),\n        warningLight: colorHelper.tint(colorScheme.warning, 30),\n        dangerLight: colorHelper.tint(colorScheme.danger, 30),\n\n        primaryDark: colorHelper.shade(colorScheme.primary, 15),\n        infoDark: colorHelper.shade(colorScheme.info, 15),\n        successDark: colorHelper.shade(colorScheme.success, 15),\n        warningDark: colorHelper.shade(colorScheme.warning, 15),\n        dangerDark: colorHelper.shade(colorScheme.danger, 15),\n\n        dashboard: {\n          blueStone: dashboardColors.blueStone,\n          surfieGreen: dashboardColors.surfieGreen,\n          silverTree: dashboardColors.silverTree,\n          gossip: dashboardColors.gossip,\n          white: dashboardColors.white,\n        },\n      }\n    };\n\n    conf.changeTheme = function(theme) {\n      angular.merge(conf.theme, theme)\n    };\n\n    conf.changeColors = function(colors) {\n      angular.merge(conf.colors, colors)\n    };\n\n    conf.$get = function () {\n      delete conf.$get;\n      return conf;\n    };\n    return conf;\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  var IMAGES_ROOT = 'assets/img/';\n\n  angular.module('BlurAdmin.theme')\n    .constant('layoutSizes', {\n      resWidthCollapseSidebar: 1200,\n      resWidthHideSidebar: 500\n    })\n    .constant('layoutPaths', {\n      images: {\n        root: IMAGES_ROOT,\n        profile: IMAGES_ROOT + 'app/profile/',\n        amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\n        amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\n      }\n    })\n    .constant('colorHelper', {\n      tint: function(color, weight) {\n        return mix('#ffffff', color, weight);\n      },\n      shade: function(color, weight) {\n        return mix('#000000', color, weight);\n      },\n    });\n\n  function shade(color, weight) {\n    return mix('#000000', color, weight);\n  }\n\n  function tint(color, weight) {\n    return mix('#ffffff', color, weight);\n  }\n\n  //SASS mix function\n  function mix(color1, color2, weight) {\n    // convert a decimal value to hex\n    function d2h(d) {\n      return d.toString(16);\n    }\n    // convert a hex value to decimal\n    function h2d(h) {\n      return parseInt(h, 16);\n    }\n\n    var result = \"#\";\n    for(var i = 1; i < 7; i += 2) {\n      var color1Part = h2d(color1.substr(i, 2));\n      var color2Part = h2d(color2.substr(i, 2));\n      var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\n      result += ('0' + resultPart).slice(-2);\n    }\n    return result;\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .run(themeRun);\n\n  /** @ngInject */\n  function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\n    var whatToWait = [\n      preloader.loadAmCharts(),\n      $timeout(1000)\n    ];\n\n    var theme = themeLayoutSettings;\n    if (theme.blur) {\n      if (theme.mobile) {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\n      } else {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\n      }\n    }\n\n    $q.all(whatToWait).then(function () {\n      $rootScope.$pageFinishedLoading = true;\n    });\n\n    $timeout(function () {\n      if (!$rootScope.$pageFinishedLoading) {\n        $rootScope.$pageFinishedLoading = true;\n      }\n    }, 1000);\n\n    $rootScope.$baSidebarService = baSidebarService;\n  }\n\n})();\n\n/**\n * Created by k.danovsky on 12.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('themeLayoutSettings', themeLayoutSettings);\n\n  /** @ngInject */\n  function themeLayoutSettings(baConfig) {\n    var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\n    var mobileClass = isMobile ? 'mobile' : '';\n    var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\n    angular.element(document.body).addClass(mobileClass).addClass(blurClass);\n\n    return {\n      blur: baConfig.theme.blur,\n      mobile: isMobile,\n    }\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .config(toastrLibConfig);\n\n  /** @ngInject */\n  function toastrLibConfig(toastrConfig) {\n    angular.extend(toastrConfig, {\n      closeButton: true,\n      closeHtml: '<button>&times;</button>',\n      timeOut: 5000,\n      autoDismiss: false,\n      containerId: 'toast-container',\n      maxOpened: 0,\n      newestOnTop: true,\n      positionClass: 'toast-top-right',\n      preventDuplicates: false,\n      preventOpenDuplicates: false,\n      target: 'body'\n    });\n  }\n})();\n/**\n * Change top \"Daily Downloads\", \"Active Users\" values with animation effect\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('animatedChange', animatedChange);\n\n  /** @ngInject */\n  function animatedChange($timeout) {\n    return {\n      link: function (scope, element) {\n        $timeout(function () {\n          var newValue = element.attr('new-value');\n          var oldvalue = parseInt(element.html());\n\n          function changeValue(val) {\n            $timeout(function () {\n              element.html(val);\n            }, 30);\n          }\n\n          if (newValue > oldvalue) {\n            for (var i = oldvalue; i <= newValue; i++) {\n              changeValue(i);\n            }\n          } else {\n            for (var j = oldvalue; j >= newValue; j--) {\n              changeValue(j);\n            }\n          }\n          $timeout(function () {\n            element.next().find('i').addClass('show-arr');\n          }, 500);\n        }, 3500);\n      }\n    };\n  }\n\n})();\n/**\n * Auto expand textarea field\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoExpand', autoExpand);\n\n  /** @ngInject */\n  function autoExpand() {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        elem.bind('keydown', function ($event) {\n          var element = $event.target;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        });\n\n        // Expand the textarea as soon as it is added to the DOM\n        setTimeout(function () {\n          var element = elem;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        }, 0)\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($timeout, $parse) {\n    return {\n      link: function (scope, element, attrs) {\n        var model = $parse(attrs.autoFocus);\n        scope.$watch(model, function (value) {\n          if (value === true) {\n            $timeout(function () {\n              element[0].focus();\n              element[0].select();\n            });\n          }\n        });\n        element.bind('blur', function () {\n          scope.$apply(model.assign(scope, false));\n        });\n      }\n    };\n  }\n\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n      .directive('btnDaterange', btnDaterange);\r\n\r\n  /** @ngInject */\r\n  function btnDaterange($timeout, $parse) {\r\n    function BtnDaterangeLink ($scope, element, attrs, modelCtrl) {\r\n\r\n    }\r\n    function BtnDaterangeCtrl ($scope, $element, $attrs, $compile, $log, $parse, $window, $document, $rootScope) {\r\n\r\n    }\r\n    return {\r\n      require: ['ngModel', 'btnDaterange'],\r\n      restrict: 'E',\r\n      controller: BtnDaterangeCtrl,\r\n      controllerAs: 'vmBtnDate',\r\n      scope: {\r\n        model: '=ngModel',\r\n        opts: '=options'\r\n      },\r\n      link: BtnDaterangeLink,\r\n      template: '<button type=\"button\" class=\"btn btn-primary pull-left btn-daterange\" id=\"daterange-btn\">' +\r\n        '<span><i class=\"fa fa-calendar\"></i> Date range picker </span> <i class=\"fa fa-caret-down\"></i>' +\r\n        '</button>'\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('includeWithScope', includeWithScope);\n\n  /** @ngInject */\n  function includeWithScope() {\n    return {\n      restrict: 'AE',\n      templateUrl: function(ele, attrs) {\n        return attrs.includeWithScope;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 22.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .directive('ionSlider', ionSlider);\n\n  /** @ngInject */\n  function ionSlider($timeout) {\n    return {\n      restrict: 'EA',\n      template: '<div></div>',\n      replace: true,\n      scope: {\n        min: '=',\n        max: '=',\n        type: '@',\n        prefix: '@',\n        maxPostfix: '@',\n        prettify: '=',\n        prettifySeparator: '@',\n        grid: '=',\n        gridMargin: '@',\n        postfix: '@',\n        step: '@',\n        hideMinMax: '@',\n        hideFromTo: '@',\n        from: '=',\n        to: '=',\n        disable: '=',\n        onChange: '=',\n        onFinish: '=',\n        values: '=',\n        timeout: '@'\n      },\n      link: function ($scope, $element) {\n            $element.ionRangeSlider({\n              min: $scope.min,\n              max: $scope.max,\n              type: $scope.type,\n              prefix: $scope.prefix,\n              maxPostfix: $scope.maxPostfix,\n              prettify_enabled: $scope.prettify,\n              prettify_separator: $scope.prettifySeparator,\n              grid: $scope.grid,\n              gridMargin: $scope.gridMargin,\n              postfix: $scope.postfix,\n              step: $scope.step,\n              hideMinMax: $scope.hideMinMax,\n              hideFromTo: $scope.hideFromTo,\n              from: $scope.from,\n              to: $scope.to,\n              disable: $scope.disable,\n              onChange: $scope.onChange,\n              onFinish: $scope.onFinish,\n              values: $scope.values\n            });\n\n            $scope.$watch('min', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({min: value});\n              });\n            }, true);\n            $scope.$watch('max', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({max: value});\n              });\n            });\n            $scope.$watch('from', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({from: value});\n              });\n            });\n            $scope.$watch('to', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({to: value});\n              });\n            });\n            $scope.$watch('disable', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({disable: value});\n              });\n            });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('ngFileSelect', ngFileSelect);\n\n  /** @ngInject */\n  function ngFileSelect() {\n    return {\n      link: function ($scope, el) {\n        el.bind('change', function (e) {\n          $scope.file = (e.srcElement || e.target).files[0];\n          $scope.getFile();\n        })\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('scrollPosition', scrollPosition);\n\n  /** @ngInject */\n  function scrollPosition() {\n    return {\n      scope: {\n        scrollPosition: '=',\n        maxHeight: '='\n      },\n      link: function (scope) {\n        $(window).on('scroll', function() {\n          var scrollTop = $(window).scrollTop() > scope.maxHeight;\n          if (scrollTop !== scope.prevScrollTop) {\n            scope.$apply(function() {\n              scope.scrollPosition = scrollTop;\n            });\n          }\n          scope.prevScrollTop = scrollTop;\n        });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('trackWidth', trackWidth);\n\n  /** @ngInject */\n  function trackWidth() {\n    return {\n      scope: {\n        trackWidth: '=',\n        minWidth: '=',\n      },\n      link: function (scope, element) {\n        scope.trackWidth = $(element).width() < scope.minWidth;\n        scope.prevTrackWidth = scope.trackWidth;\n\n        $(window).resize(function() {\n          var trackWidth = $(element).width() < scope.minWidth;\n          if (trackWidth !== scope.prevTrackWidth) {\n            scope.$apply(function() {\n              scope.trackWidth = trackWidth;\n            });\n          }\n          scope.prevTrackWidth = trackWidth;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * Animated load block\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('zoomIn', zoomIn);\n\n  /** @ngInject */\n  function zoomIn($timeout, $rootScope) {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        var delay = 1000;\n\n        if ($rootScope.$pageFinishedLoading) {\n          delay = 100;\n        }\n\n        $timeout(function () {\n          elem.removeClass('full-invisible');\n          elem.addClass('animated zoomIn');\n        }, delay);\n      }\n    };\n  }\n\n})();\n/**\n * @author n.poltoratsky\n * created on 27.06.2016\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.theme')\n        .factory('baProgressModal', baProgressModal);\n\n    /** @ngInject */\n    function baProgressModal($uibModal) {\n        var methods = {};\n        var progress = 0;\n        var max = 100;\n        var opened = false;\n\n        return {\n            setProgress: function (value) {\n                if (value > max) {\n                    throw Error('Progress can\\'t be greater than max');\n                }\n                progress = value;\n            },\n            getProgress: function () {\n                return progress;\n            },\n            open: function() {\n                if (!opened) {\n                    methods = $uibModal.open({\n                        animation: true,\n                        templateUrl: 'app/pages/ui/modals/progressModal/progressModal.html',\n                        size: 'sm',\n                        keyboard: false,\n                        backdrop: 'static'\n                    });\n                    opened = true;\n                } else {\n                    throw Error('Progress modal opened now');\n                }\n\n            },\n            close: function() {\n                if (opened) {\n                    methods.close();\n                    opened = false;\n                } else {\n                    throw Error('Progress modal is not active');\n                }\n\n            }\n        };\n    }\n\n})();\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baUtil', baUtil);\n\n  /** @ngInject */\n  function baUtil() {\n\n    this.isDescendant = function(parent, child) {\n      var node = child.parentNode;\n      while (node != null) {\n        if (node == parent) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n\n    this.hexToRGB = function(hex, alpha) {\n      var r = parseInt( hex.slice(1,3), 16 );\n      var g = parseInt( hex.slice(3,5), 16 );\n      var b = parseInt( hex.slice(5,7), 16 );\n      return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n    };\n\n    this.hasAttr = function (elem, attrName) {\n      var attr = $(elem).attr(attrName);\n      return (typeof attr !== typeof undefined && attr !== false);\n    }\n  }\n})();\n\n/**\r\n * @author rykn0wxx\r\n * created on 01 02 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n    .factory('csmMedia', csmMediaFactory);\r\n\r\n  /** @ngInject */\r\n  function csmMediaFactory($rootScope, $window) {\r\n    var queries = {};\r\n    var mqls = {};\r\n    var results = {};\r\n    var normalizeCache = {};\r\n    var kConstant = {\r\n      MEDIA: {\r\n        'xs'        : '(max-width: 599px)'                         ,\r\n        'gt-xs'     : '(min-width: 600px)'                         ,\r\n        'sm'        : '(min-width: 600px) and (max-width: 959px)'  ,\r\n        'gt-sm'     : '(min-width: 960px)'                         ,\r\n        'md'        : '(min-width: 960px) and (max-width: 1279px)' ,\r\n        'gt-md'     : '(min-width: 1280px)'                        ,\r\n        'lg'        : '(min-width: 1280px) and (max-width: 1919px)',\r\n        'gt-lg'     : '(min-width: 1920px)'                        ,\r\n        'xl'        : '(min-width: 1920px)'                        ,\r\n        'landscape' : '(orientation: landscape)'                   ,\r\n        'portrait'  : '(orientation: portrait)'                    ,\r\n        'print' : 'print'\r\n      },\r\n      MEDIA_PRIORITY: [\r\n        'xl',\r\n        'gt-lg',\r\n        'lg',\r\n        'gt-md',\r\n        'md',\r\n        'gt-sm',\r\n        'sm',\r\n        'gt-xs',\r\n        'xs',\r\n        'landscape',\r\n        'portrait',\r\n        'print'\r\n      ]\r\n    };\r\n\r\n    csmMedia.getResponsiveAttribute = getResponsiveAttribute;\r\n    csmMedia.getQuery = getQuery;\r\n    csmMedia.watchResponsiveAttributes = watchResponsiveAttributes;\r\n\r\n    return csmMedia;\r\n\r\n    function csmMedia(query) {\r\n      var validated = queries[query];\r\n      if (angular.isUndefined(validated)) {\r\n        validated = queries[query] = validate(query);\r\n      }\r\n\r\n      var result = results[validated];\r\n      if (angular.isUndefined(result)) {\r\n        result = add(validated);\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    function validate(query) {\r\n      return kConstant.MEDIA[query] ||\r\n             ((query.charAt(0) !== '(') ? ('(' + query + ')') : query);\r\n    }\r\n\r\n    function add(query) {\r\n      var result = mqls[query];\r\n      if ( !result ) {\r\n        result = mqls[query] = $window.matchMedia(query);\r\n      }\r\n\r\n      result.addListener(onQueryChange);\r\n      return (results[result.media] = !!result.matches);\r\n    }\r\n\r\n    function onQueryChange(query) {\r\n      $rootScope.$evalAsync(function() {\r\n        results[query.media] = !!query.matches;\r\n      });\r\n    }\r\n\r\n    function getQuery(name) {\r\n      return mqls[name];\r\n    }\r\n\r\n    function getResponsiveAttribute(attrs, attrName) {\r\n      for (var i = 0; i < kConstant.MEDIA_PRIORITY.length; i++) {\r\n        var mediaName = kConstant.MEDIA_PRIORITY[i];\r\n        if (!mqls[queries[mediaName]].matches) {\r\n          continue;\r\n        }\r\n\r\n        var normalizedName = getNormalizedName(attrs, attrName + '-' + mediaName);\r\n        if (attrs[normalizedName]) {\r\n          return attrs[normalizedName];\r\n        }\r\n      }\r\n\r\n      // fallback on unprefixed\r\n      return attrs[getNormalizedName(attrs, attrName)];\r\n    }\r\n\r\n    function watchResponsiveAttributes(attrNames, attrs, watchFn) {\r\n      var unwatchFns = [];\r\n      attrNames.forEach(function(attrName) {\r\n        var normalizedName = getNormalizedName(attrs, attrName);\r\n        if (angular.isDefined(attrs[normalizedName])) {\r\n          unwatchFns.push(\r\n              attrs.$observe(normalizedName, angular.bind(void 0, watchFn, null)));\r\n        }\r\n\r\n        for (var mediaName in $mdConstant.MEDIA) {\r\n          normalizedName = getNormalizedName(attrs, attrName + '-' + mediaName);\r\n          if (angular.isDefined(attrs[normalizedName])) {\r\n            unwatchFns.push(\r\n                attrs.$observe(normalizedName, angular.bind(void 0, watchFn, mediaName)));\r\n          }\r\n        }\r\n      });\r\n\r\n      return function unwatch() {\r\n        unwatchFns.forEach(function(fn) { fn(); })\r\n      };\r\n    }\r\n\r\n    // Improves performance dramatically\r\n    function getNormalizedName(attrs, attrName) {\r\n      return normalizeCache[attrName] ||\r\n          (normalizeCache[attrName] = attrs.$normalize(attrName));\r\n    }\r\n  }\r\n\r\n})();\r\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('fileReader', fileReader);\n\n  /** @ngInject */\n  function fileReader($q) {\n    var onLoad = function(reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.resolve(reader.result);\n        });\n      };\n    };\n\n    var onError = function (reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.reject(reader.result);\n        });\n      };\n    };\n\n    var onProgress = function(reader, scope) {\n      return function (event) {\n        scope.$broadcast('fileProgress',\n            {\n              total: event.total,\n              loaded: event.loaded\n            });\n      };\n    };\n\n    var getReader = function(deferred, scope) {\n      var reader = new FileReader();\n      reader.onload = onLoad(reader, deferred, scope);\n      reader.onerror = onError(reader, deferred, scope);\n      reader.onprogress = onProgress(reader, scope);\n      return reader;\n    };\n\n    var readAsDataURL = function (file, scope) {\n      var deferred = $q.defer();\n\n      var reader = getReader(deferred, scope);\n      reader.readAsDataURL(file);\n\n      return deferred.promise;\n    };\n\n    return {\n      readAsDataUrl: readAsDataURL\n    };\n  }\n})();\n/**\n * @author a.demeshko\n * created on 3/1/16\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('preloader', preloader);\n\n  /** @ngInject */\n  function preloader($q) {\n    return {\n      loadImg: function (src) {\n        var d = $q.defer();\n        var img = new Image();\n        img.src = src;\n        img.onload = function(){\n          d.resolve();\n        };\n        return d.promise;\n      },\n      loadAmCharts : function(){\n        var d = $q.defer();\n        AmCharts.ready(function(){\n          d.resolve();\n        });\n        return d.promise;\n      }\n    }\n  }\n\n})();\n/**\n * @author a.demeshko\n * created on 12/21/15\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('stopableInterval', stopableInterval);\n\n  /** @ngInject */\n  function stopableInterval($window) {\n    return {\n      start: function (interval, calback, time) {\n        function startInterval() {\n          return interval(calback, time);\n        }\n\n        var i = startInterval();\n\n        angular.element($window).bind('focus', function () {\n          if (i) interval.cancel(i);\n          i = startInterval();\n        });\n\n        angular.element($window).bind('blur', function () {\n          if (i) interval.cancel(i);\n        });\n      }\n    }\n  }\n\n})();\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.dashboard')\r\n    .directive('dashboardBlock', dashboardBlock);\r\n\r\n  /** @ngInject */\r\n  function dashboardBlock () {\r\n    return {\r\n      restrict: 'E',\r\n      controller: 'DashboardBlockCtrl',\r\n      templateUrl: 'app/pages/dashboard/dashboardBlock/dashboardBlock.html',\r\n      controllerAs: 'vmdashboardCtrl'\r\n    };\r\n  }\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.dashboard')\r\n    .controller('DashboardBlockCtrl', DashboardBlockCtrl);\r\n\r\n  /** @ngInject */\r\n  function DashboardBlockCtrl ($scope, $window, $filter) {\r\n    var o = this;\r\n    o.$scope = $scope;\r\n    var ndx = $window.crossfilter;\r\n    var _ = $window._;\r\n    var d3 = $window.d3;\r\n    $scope.widgetObj = [];\r\n    $scope.metrics = {\r\n      'revenue':'zCurrency',\r\n      'ebitPercent':'zPercent',\r\n      'iph':'zNumber',\r\n      'costPerTkt':'currency',\r\n      'ebitPerTkt':'currency',\r\n      'revPerHead':'currency'\r\n    };\r\n    var zData = $scope.$resolve.collection.zData;\r\n    var zClient = $scope.$resolve.collection.zClient;\r\n    var zRegion = $scope.$resolve.collection.zRegion;\r\n    var tmpId = null;\r\n    _.map(zData, function (val, ind) {\r\n      tmpId = _.filter(zClient, ['id', val.clientId])[0].regionId;\r\n      val.clientName = _.filter(zClient, ['id', val.clientId])[0].code;\r\n      val.regionName = _.filter(zRegion, ['id', tmpId])[0].name;\r\n      val.global = 'global';\r\n    });\r\n    var n = {};\r\n    n.ndx = ndx(zData);\r\n    n.dimMonth = n.ndx.dimension(function (d) {return d.repmonth;});\r\n    n.global = n.ndx.dimension(function (d) {return d.global;});\r\n    n.dimRegion = n.ndx.dimension(function (d) {return d.regionName;});\r\n    n.dimClient = n.ndx.dimension(function (d) {return d.clientName;});\r\n    n.perRegion = n.dimRegion.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perMonth = n.dimMonth.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perGlobal = n.global.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perClient = n.dimClient.group().reduce(grpAdd,grpRemove,grpBase);\r\n    o.n = n;\r\n    _.forEach($scope.metrics, function(v, i) {\r\n    \tvar tmp = {\r\n    \t\tmetric: i,\r\n    \t\ttype: v,\r\n    \t\tglobal: $filter(v)(_.at(n.perGlobal.all()[0].value, i)[0]),\r\n    \t\tregions: []\r\n    \t}\r\n    \t_.forEach(n.perRegion.all(), function(val, ind) {\r\n    \t\tvar ztmp = {};\r\n        ztmp.name = val.key;\r\n        ztmp.value = $filter(v)(_.at(val.value, i)[0]);\r\n    \t\ttmp.regions.push(ztmp);\r\n    \t});\r\n    \t$scope.widgetObj.push(tmp);\r\n      $scope.zGlobal = n.perGlobal.all();\r\n    });\r\n    $scope.perClients = n.perClient.all();\r\n    $scope.perRegion = n.perRegion.all();\r\n  }\r\n\r\n\r\n  function grpAdd (p, v) {\r\n    ++p.count;\r\n    p.ebit += +v.ebitDollar;\r\n    p.ebitMin = Math.min(p.ebitMin, v.ebitDollar);\r\n    p.ebitMax = Math.max(p.ebitMax, v.ebitDollar);\r\n    p.ebitScore = Math.round((( v.ebitDollar - p.ebitMin) / (p.ebitMax - p.ebitMin))*100) / 100;\r\n\r\n    p.revenue += +v.revenueDollar;\r\n    p.revenueMin = Math.min(p.revenueMin, v.revenueDollar);\r\n    p.revenueMax = Math.max(p.revenueMax, v.revenueDollar);\r\n    p.revenueScore = Math.round((( v.revenueDollar - p.revenueMin) / (p.revenueMax - p.revenueMin))*100) / 100;\r\n\r\n    p.ebitPercent = p.ebit/p.revenue;\r\n    p.ebitPercentScore = p.ebitScore / p.revenueScore;\r\n\r\n    p.expense = p.revenue - p.ebit;\r\n    p.avgExpense = p.expense / p.count;\r\n\r\n    p.tktVolume += +v.ticketVolume;\r\n    p.avgTktVolume = p.tktVolume / p.count;\r\n\r\n    p.tktFte += +v.fte;\r\n    p.avgTktFte = p.tktFte / p.count;\r\n\r\n    p.iph = p.tktVolume/p.tktFte;\r\n\r\n    p.costPerTkt = p.expense / p.tktVolume;\r\n    p.ebitPerTkt = p.ebit / p.tktVolume;\r\n    p.revPerHead = p.revenue / p.tktFte;\r\n    return p;\r\n  };\r\n\r\n  function grpRemove (p, v) {\r\n    --p.count;\r\n    p.ebit -= +v.ebitDollar;\r\n    p.ebitMin = Math.min(p.ebitMin, v.ebitDollar);\r\n    p.ebitMax = Math.max(p.ebitMax, v.ebitDollar);\r\n    p.ebitScore = Math.round((( v.ebitDollar - p.ebitMin) / (p.ebitMax - p.ebitMin))*100) / 100;\r\n\r\n    p.revenue -= +v.revenueDollar;\r\n    p.revenueMin = Math.min(p.revenueMin, v.revenueDollar);\r\n    p.revenueMax = Math.max(p.revenueMax, v.revenueDollar);\r\n    p.revenueScore = Math.round((( v.revenueDollar - p.revenueMin) / (p.revenueMax - p.revenueMin))*100) / 100;\r\n\r\n    p.ebitPercent = p.ebit/p.revenue;\r\n    p.ebitPercentScore = p.ebitScore / p.revenueScore;\r\n\r\n    p.expense = p.revenue - p.ebit;\r\n    p.avgExpense = p.expense / p.count;\r\n\r\n    p.tktVolume -= +v.ticketVolume;\r\n    p.avgTktVolume = p.tktVolume / p.count;\r\n\r\n    p.tktFte -= +v.fte;\r\n    p.avgTktFte = p.tktFte / p.count;\r\n\r\n    p.iph = p.tktVolume/p.tktFte;\r\n\r\n    p.costPerTkt = p.expense / p.tktVolume;\r\n    p.ebitPerTkt = p.ebit / p.tktVolume;\r\n    p.revPerHead = p.revenue / p.tktFte;\r\n    return p;\r\n  }\r\n\r\n  function grpBase () {\r\n    return {\r\n      count: 0,\r\n      ebit: 0,\r\n      ebitMin: 0,\r\n      ebitMax: 0,\r\n      ebitScore: 0,\r\n\r\n      revenue: 0,\r\n      revenueMin: 0,\r\n      revenueMax: 0,\r\n      revenueScore: 0,\r\n\r\n      ebitPercent: 0,\r\n      ebitPercentScore: 0,\r\n\r\n      expense: 0,\r\n      avgExpense: 0,\r\n\r\n      tktVolume: 0,\r\n      avgTktVolume: 0,\r\n\r\n      tktFte: 0,\r\n      avgTktFte: 0,\r\n\r\n      iph: 0,\r\n\r\n      costPerTkt: 0,\r\n      ebitPerTkt: 0,\r\n      revPerHead: 0\r\n    }\r\n  }\r\n})();\r\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('backTop', backTop);\n\n  /** @ngInject */\n  function backTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/backTop/backTop.html',\n      controller: function () {\n        $('#backTop').backTop({\n          'position': 200,\n          'speed': 100\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Includes basic panel layout inside of current element.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel(baPanel, baConfig) {\n    return angular.extend({}, baPanel, {\n      template: function(el, attrs) {\n        var res = '<div  class=\"panel ' + (baConfig.theme.blur ? 'panel-blur' : '') + ' full-invisible ' + (attrs.baPanelClass || '');\n        res += '\" zoom-in ' + (baConfig.theme.blur ? 'ba-panel-blur' : '') + '>';\n        res += baPanel.template(el, attrs);\n        res += '</div>';\n        return res;\n      }\n    });\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .factory('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel() {\n\n    /** Base baPanel directive */\n    return {\n      restrict: 'A',\n      transclude: true,\n      template: function(elem, attrs) {\n        var res = '<div class=\"csm-panel-body\" ng-transclude></div>';\n        if (attrs.baPanelTitle) {\n          var titleTpl = '<div class=\"panel-heading clearfix\"><h3 class=\"panel-title\">' + attrs.baPanelTitle + '</h3></div>';\n          res = titleTpl + res; // title should be before\n        }\n\n        return res;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelBlur', baPanelBlur);\n\n  /** @ngInject */\n  function baPanelBlur(baPanelBlurHelper, $window, $rootScope) {\n    var bodyBgSize;\n\n    baPanelBlurHelper.bodyBgLoad().then(function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    $window.addEventListener('resize', function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    return {\n      restrict: 'A',\n      link: function($scope, elem) {\n        if(!$rootScope.$isMobile) {\n          baPanelBlurHelper.bodyBgLoad().then(function () {\n            setTimeout(recalculatePanelStyle);\n          });\n          $window.addEventListener('resize', recalculatePanelStyle);\n\n          $scope.$on('$destroy', function () {\n            $window.removeEventListener('resize', recalculatePanelStyle);\n          });\n        }\n\n        function recalculatePanelStyle() {\n          if (!bodyBgSize) {\n            return;\n          }\n          elem.css({\n            backgroundSize: Math.round(bodyBgSize.width) + 'px ' + Math.round(bodyBgSize.height) + 'px',\n            backgroundPosition: Math.floor(bodyBgSize.positionX) + 'px ' + Math.floor(bodyBgSize.positionY) + 'px'\n          });\n        }\n\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baPanelBlurHelper', baPanelBlurHelper);\n\n  /** @ngInject */\n  function baPanelBlurHelper($q) {\n    var res = $q.defer();\n    var computedStyle = getComputedStyle(document.body, ':before');\n    var image = new Image();\n    image.src = computedStyle.backgroundImage.replace(/url\\((['\"])?(.*?)\\1\\)/gi, '$2');\n    image.onerror = function() {\n      res.reject();\n    };\n    image.onload = function() {\n      res.resolve();\n    };\n\n    this.bodyBgLoad = function() {\n      return res.promise;\n    };\n\n    this.getBodyBgImageSizes = function() {\n      var elemW = document.documentElement.clientWidth;\n      var elemH = document.documentElement.clientHeight;\n      if(elemW <= 640) return;\n      var imgRatio = (image.height / image.width);       // original img ratio\n      var containerRatio = (elemH / elemW);     // container ratio\n\n      var finalHeight, finalWidth;\n      if (containerRatio > imgRatio) {\n        finalHeight = elemH;\n        finalWidth = (elemH / imgRatio);\n      } else {\n        finalWidth = elemW;\n        finalHeight = (elemW * imgRatio);\n      }\n      return { width: finalWidth, height: finalHeight, positionX: (elemW - finalWidth)/2, positionY: (elemH - finalHeight)/2};\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Represents current element as panel, adding all necessary classes.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelSelf', baPanelSelf);\n\n  /** @ngInject */\n  function baPanelSelf(baPanel) {\n    return angular.extend({}, baPanel, {\n      link: function(scope, el, attrs) {\n        el.addClass('panel panel-white');\n        if (attrs.baPanelClass) {\n          el.addClass(attrs.baPanelClass);\n        }\n      }\n    });\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebar', baSidebar);\n\n  /** @ngInject */\n  function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\n    var jqWindow = $(window);\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\n      controller: 'BaSidebarCtrl',\n      link: function(scope, el) {\n\n        scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\n        jqWindow.on('click', _onWindowClick);\n        jqWindow.on('resize', _onWindowResize);\n\n        scope.$on('$destroy', function() {\n          jqWindow.off('click', _onWindowClick);\n          jqWindow.off('resize', _onWindowResize);\n        });\n\n        function _onWindowClick($evt) {\n          if (!baUtil.isDescendant(el[0], $evt.target) &&\n              !$evt.originalEvent.$sidebarEventProcessed &&\n              !baSidebarService.isMenuCollapsed() &&\n              baSidebarService.canSidebarBeHidden()) {\n            $evt.originalEvent.$sidebarEventProcessed = true;\n            $timeout(function () {\n              baSidebarService.setMenuCollapsed(true);\n            }, 10);\n          }\n        }\n\n        // watch window resize to change menu collapsed state if needed\n        function _onWindowResize() {\n          var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\n          var newMenuHeight = _calculateMenuHeight();\n          if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\n            scope.$apply(function () {\n              scope.menuHeight = newMenuHeight;\n              baSidebarService.setMenuCollapsed(newMenuCollapsed)\n            });\n          }\n        }\n\n        function _calculateMenuHeight() {\n          return el[0].childNodes[0].clientHeight - 84;\n        }\n      }\n    };\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .provider('baSidebarService', baSidebarServiceProvider);\n\n  /** @ngInject */\n  function baSidebarServiceProvider() {\n    var staticMenuItems = [];\n\n    this.addStaticItem = function() {\n      staticMenuItems.push.apply(staticMenuItems, arguments);\n    };\n\n    /** @ngInject */\n    this.$get = function($state, layoutSizes) {\n      return new _factory();\n\n      function _factory() {\n        var isMenuCollapsed = shouldMenuBeCollapsed();\n\n        this.getMenuItems = function() {\n          var states = defineMenuItemStates();\n          var menuItems = states.filter(function(item) {\n            return item.level == 0;\n          });\n\n          menuItems.forEach(function(item) {\n            var children = states.filter(function(child) {\n              return child.level == 1 && child.name.indexOf(item.name) === 0;\n            });\n            item.subMenu = children.length ? children : null;\n          });\n\n          return menuItems.concat(staticMenuItems);\n        };\n\n        this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\n        this.canSidebarBeHidden = canSidebarBeHidden;\n\n        this.setMenuCollapsed = function(isCollapsed) {\n          isMenuCollapsed = isCollapsed;\n        };\n\n        this.isMenuCollapsed = function() {\n          return isMenuCollapsed;\n        };\n\n        this.toggleMenuCollapsed = function() {\n          isMenuCollapsed = !isMenuCollapsed;\n        };\n\n        this.getAllStateRefsRecursive = function(item) {\n          var result = [];\n          _iterateSubItems(item);\n          return result;\n\n          function _iterateSubItems(currentItem) {\n            currentItem.subMenu && currentItem.subMenu.forEach(function(subItem) {\n              subItem.stateRef && result.push(subItem.stateRef);\n              _iterateSubItems(subItem);\n            });\n          }\n        };\n\n        function defineMenuItemStates() {\n          return $state.get()\n              .filter(function(s) {\n                return s.sidebarMeta;\n              })\n              .map(function(s) {\n                var meta = s.sidebarMeta;\n                return {\n                  name: s.name,\n                  title: s.title,\n                  level: (s.name.match(/\\./g) || []).length,\n                  order: meta.order,\n                  icon: meta.icon,\n                  stateRef: s.name,\n                };\n              })\n              .sort(function(a, b) {\n                return (a.level - b.level) * 100 + a.order - b.order;\n              });\n        }\n\n        function shouldMenuBeCollapsed() {\n          return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\n        }\n\n        function canSidebarBeHidden() {\n          return window.innerWidth <= layoutSizes.resWidthHideSidebar;\n        }\n      }\n\n    };\n\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('BaSidebarCtrl', BaSidebarCtrl);\n\n  /** @ngInject */\n  function BaSidebarCtrl($scope, baSidebarService) {\n\n    $scope.menuItems = baSidebarService.getMenuItems();\n    $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\n\n    $scope.hoverItem = function ($event) {\n      $scope.showHoverElem = true;\n      $scope.hoverElemHeight =  $event.currentTarget.clientHeight;\n      var menuTopValue = 66;\n      $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\n    };\n\n    $scope.$on('$stateChangeSuccess', function () {\n      if (baSidebarService.canSidebarBeHidden()) {\n        baSidebarService.setMenuCollapsed(true);\n      }\n    });\n  }\n})();\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebarToggleMenu', baSidebarToggleMenu)\n      .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\n      .directive('baSidebarTogglingItem', baSidebarTogglingItem)\n      .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\n      .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\n      .directive('baUiSrefToggler', baUiSrefToggler);\n\n  /** @ngInject */\n  function baSidebarToggleMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          scope.$apply(function() {\n            baSidebarService.toggleMenuCollapsed();\n          });\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarCollapseMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          if (!baSidebarService.isMenuCollapsed()) {\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(true);\n            });\n          }\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarTogglingItem() {\n    return {\n      restrict: 'A',\n      controller: 'BaSidebarTogglingItemCtrl'\n    };\n  }\n\n  /** @ngInject */\n  function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\n    var vm = this;\n    var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\n    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\n      vm.$$expandSubmenu = function() { console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu') };\n      vm.$$collapseSubmenu = function() { console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu') };\n\n      var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\n\n      vm.$expand = function() {\n        vm.$$expandSubmenu();\n        $element.addClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$collapse = function() {\n        vm.$$collapseSubmenu();\n        $element.removeClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$toggle = function() {\n        $element.hasClass('ba-sidebar-item-expanded') ?\n            vm.$collapse() :\n            vm.$expand();\n      };\n\n      if (_isState($state.current)) {\n        $element.addClass('ba-sidebar-item-expanded');\n      }\n\n      $scope.$on('$stateChangeStart', function (event, toState) {\n        if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$collapse();\n          $element.removeClass('ba-sidebar-item-expanded');\n        }\n      });\n\n      $scope.$on('$stateChangeSuccess', function (event, toState) {\n        if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$expand();\n          $element.addClass('ba-sidebar-item-expanded');\n        }\n      });\n    }\n\n    function _isState(state) {\n      return state && subItemsStateRefs.some(function(subItemState) {\n            return state.name.indexOf(subItemState) == 0;\n          });\n    }\n  }\n\n  /** @ngInject */\n  function baUiSrefTogglingSubmenu($state) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        baSidebarTogglingItem.$$expandSubmenu = function() { el.slideDown(); };\n        baSidebarTogglingItem.$$collapseSubmenu = function() { el.slideUp(); };\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baUiSrefToggler(baSidebarService) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        el.on('click', function() {\n          if (baSidebarService.isMenuCollapsed()) {\n            // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\n            // This should not affect mobiles, because on mobiles sidebar should be hidden at all\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(false);\n            });\n            baSidebarTogglingItem.$expand();\n          } else {\n            baSidebarTogglingItem.$toggle();\n          }\n        });\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizard', baWizard);\n\n  /** @ngInject */\n  function baWizard() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      templateUrl: 'app/theme/components/baWizard/baWizard.html',\n      controllerAs: '$baWizardController',\n      controller: 'baWizardCtrl'\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('baWizardCtrl', baWizardCtrl);\n\n  /** @ngInject */\n  function baWizardCtrl($scope) {\n    var vm = this;\n    vm.tabs = [];\n\n    vm.tabNum = 0;\n    vm.progress = 0;\n\n    vm.addTab = function(tab) {\n      tab.setPrev(vm.tabs[vm.tabs.length - 1]);\n      vm.tabs.push(tab);\n      vm.selectTab(0);\n    };\n\n    $scope.$watch(angular.bind(vm, function () {return vm.tabNum;}), calcProgress);\n\n    vm.selectTab = function (tabNum) {\n      vm.tabs[vm.tabNum].submit();\n      if (vm.tabs[tabNum].isAvailiable()) {\n        vm.tabNum = tabNum;\n        vm.tabs.forEach(function (t, tIndex) {\n          tIndex == vm.tabNum ? t.select(true) : t.select(false);\n        });\n      }\n    };\n\n    vm.isFirstTab = function () {\n      return vm.tabNum == 0;\n    };\n\n    vm.isLastTab = function () {\n      return vm.tabNum == vm.tabs.length - 1 ;\n    };\n\n    vm.nextTab = function () {\n      vm.selectTab(vm.tabNum + 1)\n    };\n\n    vm.previousTab = function () {\n      vm.selectTab(vm.tabNum - 1)\n    };\n\n    function calcProgress() {\n      vm.progress = ((vm.tabNum + 1) / vm.tabs.length) * 100;\n    }\n  }\n})();\n\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizardStep', baWizardStep);\n\n  /** @ngInject */\n  function baWizardStep() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      require: '^baWizard',\n      scope: {\n        form: '='\n      },\n      templateUrl:  'app/theme/components/baWizard/baWizardStep.html',\n      link: function($scope, $element, $attrs, wizard) {\n        $scope.selected = true;\n\n        var tab = {\n          title: $attrs.title,\n          select: select,\n          submit: submit,\n          isComplete: isComplete,\n          isAvailiable: isAvailiable,\n          prevTab: undefined,\n          setPrev: setPrev\n        };\n\n        wizard.addTab(tab);\n\n        function select(isSelected) {\n          if (isSelected) {\n            $scope.selected = true;\n          } else {\n            $scope.selected = false;\n          }\n        }\n\n        function submit() {\n          $scope.form && $scope.form.$setSubmitted(true);\n        }\n\n        function isComplete() {\n          return $scope.form ? $scope.form.$valid : true;\n        }\n\n        function isAvailiable() {\n          return tab.prevTab ? tab.prevTab.isComplete() : true;\n        }\n\n        function setPrev(pTab) {\n          tab.prevTab = pTab;\n        }\n      }\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('contentTop', contentTop);\n\n  /** @ngInject */\n  function contentTop($location, $state) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/contentTop/contentTop.html',\n      link: function($scope) {\n        $scope.$watch(function () {\n          $scope.activePageTitle = $state.current.title;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('msgCenter', msgCenter);\n\n  /** @ngInject */\n  function msgCenter() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/msgCenter/msgCenter.html',\n      controller: 'MsgCenterCtrl'\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .controller('MsgCenterCtrl', MsgCenterCtrl);\n\n  /** @ngInject */\n  function MsgCenterCtrl($scope, $sce) {\n    $scope.users = {\n      0: {\n        name: 'Vlad',\n      },\n      1: {\n        name: 'Kostya',\n      },\n      2: {\n        name: 'Andrey',\n      },\n      3: {\n        name: 'Nasta',\n      }\n    };\n\n    $scope.notifications = [\n      {\n        userId: 0,\n        template: '&name posted a new article.',\n        time: '1 min ago'\n      },\n      {\n        userId: 1,\n        template: '&name changed his contact information.',\n        time: '2 hrs ago'\n      },\n      {\n        image: 'assets/img/shopping-cart.svg',\n        template: 'New orders received.',\n        time: '5 hrs ago'\n      },\n      {\n        userId: 2,\n        template: '&name replied to your comment.',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        template: 'Today is &name\\'s birthday.',\n        time: '2 days ago'\n      },\n      {\n        image: 'assets/img/comments.svg',\n        template: 'New comments on your post.',\n        time: '3 days ago'\n      },\n      {\n        userId: 1,\n        template: '&name invited you to join the event.',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.messages = [\n      {\n        userId: 3,\n        text: 'After you get up and running, you can place Font Awesome icons just about...',\n        time: '1 min ago'\n      },\n      {\n        userId: 0,\n        text: 'You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.',\n        time: '2 hrs ago'\n      },\n      {\n        userId: 1,\n        text: 'Want to request new icons? Here\\'s how. Need vectors or want to use on the...',\n        time: '10 hrs ago'\n      },\n      {\n        userId: 2,\n        text: 'Explore your passions and discover new ones by getting involved. Stretch your...',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        text: 'Get to know who we are - from the inside out. From our history and culture, to the...',\n        time: '1 day ago'\n      },\n      {\n        userId: 1,\n        text: 'Need some support to reach your goals? Apply for scholarships across a variety of...',\n        time: '2 days ago'\n      },\n      {\n        userId: 0,\n        text: 'Wrap the dropdown\\'s trigger and the dropdown menu within .dropdown, or...',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.getMessage = function(msg) {\n      var text = msg.template;\n      if (msg.userId || msg.userId === 0) {\n        text = text.replace('&name', '<strong>' + $scope.users[msg.userId].name + '</strong>');\n      }\n      return $sce.trustAsHtml(text);\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('pageTop', pageTop);\n\n  /** @ngInject */\n  function pageTop(csmMedia) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/pageTop/pageTop.html',\n      link: function pageTopLink ($scope) {\n        $scope.aaa = csmMedia;\n      }\n    };\n  }\n\n})();\n\n/**\n * Created by n.poltoratsky\n * on 28.06.2016.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.theme.components')\n        .directive('progressBarRound', progressBarRound);\n\n    /** @ngInject */\n    function progressBarRound(baProgressModal) {\n        return {\n            restrict: 'E',\n            templateUrl: 'app/theme/components/progressBarRound/progressBarRound.html',\n            link:function($scope, element, attrs) {\n                $scope.baProgressDialog = baProgressModal;\n                $scope.$watch(function () {\n                    return baProgressModal.getProgress();\n                }, animateBar);\n\n                function animateBar() {\n                    var circle = element.find('#loader')[0];\n                    circle.setAttribute(\"stroke-dasharray\", baProgressModal.getProgress() * 180 * Math.PI / 100 + \", 20000\");\n                    $scope.progress = baProgressModal.getProgress();\n                }\n            }\n        }\n    }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('widgets', widgets);\n\n  /** @ngInject */\n  function widgets() {\n    return {\n      restrict: 'EA',\n      scope: {\n        ngModel: '='\n      },\n      templateUrl: 'app/theme/components/widgets/widgets.html',\n      replace: true\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('appImage', appImage);\n\n  /** @ngInject */\n  function appImage(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + input;\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('kameleonImg', kameleonImg);\n\n  /** @ngInject */\n  function kameleonImg(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + 'theme/icon/kameleon/' + input + '.svg';\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('profilePicture', profilePicture);\n\n  /** @ngInject */\n  function profilePicture(layoutPaths) {\n    return function(input, ext) {\n      ext = ext || 'png';\n      return layoutPaths.images.profile + input + '.' + ext;\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 10.12.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.inputs')\n      .directive('baSwitcher', baSwitcher);\n\n  /** @ngInject */\n  function baSwitcher() {\n    return {\n      templateUrl: 'app/theme/inputs/baSwitcher/baSwitcher.html',\n      scope: {\n        switcherStyle: '@',\n        switcherValue: '='\n      }\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .filter('plainText', plainText);\n\n  /** @ngInject */\n  function plainText() {\n    return function(text) {\n      return  text ? String(text).replace(/<[^>]+>/gm, '') : '';\n    };\n  }\n\n})();\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2016\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n    .constant('toTitleCase', toTitleCase)\r\n    .filter('toTitleCase', toTitleCaseFilter);\r\n\r\n  /** @ngInject */\r\n  function toTitleCase(string) {\r\n    var out = string.replace(/^\\s*/, '');  // strip leading spaces\r\n    out = out.replace(/^[a-z]|[^\\s][A-Z]/g, function(str, offset) {\r\n      if (offset === 0) {\r\n        return str.toUpperCase();\r\n      } else {\r\n        return str.substr(0, 1) + ' ' + str.substr(1).toUpperCase();\r\n      }\r\n    });\r\n\r\n    return out;\r\n  }\r\n  function toTitleCaseFilter() {\r\n    return function(input) {\r\n      return toTitleCase(input);\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n    .filter('zCurrency', toCurrency);\r\n\r\n  /** @ngInject */\r\n  function toCurrency($filter) {\r\n    var _ = window._;\r\n    return function(input) {\r\n      return  angular.isNumber(input) ? $filter('currency')(_.round(input),'$',0): input;\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n    .filter('zNumber', toNumber);\r\n\r\n  /** @ngInject */\r\n  function toNumber() {\r\n    var _ = window._;\r\n    return function(input) {\r\n      return  angular.isNumber(input) ? _.round(input): input;\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.theme')\r\n    .filter('zPercent', toPercent);\r\n\r\n  /** @ngInject */\r\n  function toPercent() {\r\n    var _ = window._;\r\n    return function(input) {\r\n      return  angular.isNumber(input) ? _.round(_.multiply(input, 100),2) + '%' : input;\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n      .directive('dimensionalView', dimensionalView);\r\n\r\n  /** @ngInject */\r\n  function dimensionalView() {\r\n    return {\r\n      restrict: 'E',\r\n      controller: 'DimensionalViewCtrl',\r\n      templateUrl: 'app/pages/version/executive/dimensionalView/dimensionalView.html'\r\n    };\r\n  } \r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n      .controller('DimensionalViewCtrl', DimensionalViewCtrl);\r\n\r\n  /** @ngInject */\r\n  function DimensionalViewCtrl($scope, $timeout, $window) {\r\n    var _ = $window._;\r\n    var dc = $window.dc\r\n    var data = _.cloneDeep($scope.n.ndx);\r\n\r\n    var dMonth = data.dimension(function(d) {return d.repmonth;});\r\n    var dGlobal = data.dimension(function (d) {return d.global;});\r\n    var dRegion = data.dimension(function (d) {return d.regionName;});\r\n    var gRegion = dRegion.group();\r\n    var revRegion = dRegion.group().reduceSum(function(d){return +d.revenueDollar;});\r\n    var ebiMonth = dMonth.group().reduceSum(function(d){return +d.ebitDollar;});\r\n    var mRegion = gRegion.reduce(\r\n      function(p, v) {\r\n        ++p.count;\r\n        p.revenueDollar += +v.revenueDollar;\r\n        p.ebitDollar += +v.ebitDollar;\r\n        p.total += (v.revenueDollar + (v.revenueDollar - v.ebitDollar)) / 2;\r\n        p.avg = Math.round(p.total / p.count);\r\n        return p;\r\n      },\r\n      function(p, v) {\r\n        --p.count;\r\n        p.revenueDollar -= +v.revenueDollar;\r\n        p.ebitDollar -= +v.ebitDollar;\r\n        p.total -= (v.revenueDollar + (v.revenueDollar - v.ebitDollar)) / 2;\r\n        p.avg = p.count ? Math.round(p.total / p.count) : 0;\r\n        return p;\r\n      },\r\n      function(p, v) {\r\n        return {count:0,revenueDollar:0,ebitDollar:0,total:0,avg:0};\r\n      }\r\n    );\r\n    var orBarChrt = dc.barChart('#ordinal-bar-chart');\r\n    var volumeChart = dc.barChart('#monthly-volume-chart');\r\n    var moveChart = dc.lineChart('#monthly-move-chart');\r\n    orBarChrt\r\n      .width(500)\r\n      .height(150)\r\n      .dimension(dRegion)\r\n      .group(revRegion)\r\n      .elasticY(true)\r\n      .x(d3.scale.ordinal())\r\n      .xUnits(dc.units.ordinal);\r\n\r\n    moveChart\r\n      .renderArea(true)\r\n      .width(990)\r\n      .height(200)\r\n      .transitionDuration(1000)\r\n      .margins({top: 30, right: 50, bottom: 25, left: 40})\r\n      .dimension(dMonth)\r\n      .mouseZoomable(false)\r\n      .rangeChart(volumeChart)\r\n      .x(d3.time.scale().domain([new Date(2015, 0, 1), new Date(2017, 11, 31)]))\r\n      .round(d3.time.month.round)\r\n      .xUnits(d3.time.months)\r\n      .elasticY(true)\r\n      .renderHorizontalGridLines(true)\r\n      .legend(dc.legend().x(800).y(10).itemHeight(13).gap(5))\r\n      .brushOn(false)\r\n      .group(revRegion, 'Monthly Index Average')\r\n      .valueAccessor(function (d) {\r\n        return d.value.revenueDollar;\r\n      });\r\n\r\n      volumeChart\r\n        .width(990) /* dc.barChart('#monthly-volume-chart', 'chartGroup'); */\r\n        .height(40)\r\n        .margins({top: 0, right: 50, bottom: 20, left: 40})\r\n        .dimension(dMonth)\r\n        .group(ebiMonth)\r\n        .centerBar(true)\r\n        .gap(1)\r\n        .x(d3.time.scale().domain([new Date(2015, 0, 1), new Date(2017, 11, 31)]))\r\n        .round(d3.time.month.round)\r\n        .alwaysUseRounding(true)\r\n        .xUnits(d3.time.months);\r\n    orBarChrt.render();\r\n    volumeChart.render();\r\n    moveChart.render();\r\n\r\n  }\r\n})();\r\n\n/**\r\n * @author v.lugovksy\r\n * created on 16.12.2015\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n      .controller('CurrentKpiCtrl', CurrentKpiCtrl);\r\n\r\n  function CurrentKpiCtrl ($scope, $window, $stateParams) {\r\n    var _ = $window._;\r\n    var kNdx = $scope.$parent.n;\r\n    var sParm = _.camelCase($stateParams.type.replace(' ',''));\r\n    $scope.perKpi = {\r\n      data: [],\r\n      label: []\r\n    };\r\n    $scope.kpiName = $stateParams.type;\r\n    var metrics = [\r\n      {\r\n        name: 'revenue',\r\n        type: 'zCurrency',\r\n        value: 'revenueDollar'\r\n      },\r\n      {\r\n        name: 'ebitPercent',\r\n        type: 'zPercent',\r\n        sub: 'ebitPercentScore'\r\n      },\r\n      {\r\n        name: 'iph',\r\n        type: 'zNumber',\r\n        sub: 'avgTktVolume'\r\n      },\r\n      {\r\n        name: 'costPerTkt',\r\n        type: 'currency',\r\n        sub: 'tktVolume'\r\n      },\r\n      {\r\n        name: 'ebitPerTkt',\r\n        type: 'currency',\r\n        sub: 'ebitMin'\r\n      },\r\n      {\r\n        name: 'revPerHead',\r\n        type: 'currency',\r\n        sub: 'avgTktFte'\r\n      }\r\n    ];\r\n\r\n    _.forEach(kNdx.perMonth.all(), function(val, key) {\r\n      $scope.perKpi.label.push(val.key.getFullYear() + '-' + val.key.toDateString().split(' ')[1]);\r\n      $scope.perKpi.data.push(val.value[sParm]);\r\n    });\r\n\r\n    $scope.perKpi.options = {\r\n      fill: false,\r\n      backgroundColor: 'rgba(151, 187, 205, 0.1)',\r\n      scales: {\r\n        yAxes: [\r\n          {\r\n            fill: false,\r\n            ticks: {\r\n              callback: function (val, ind, vals) {\r\n                var numFormat = _.filter(metrics, ['name', sParm])[0];\r\n                if (_.lowerCase(numFormat.type).indexOf('percent') !== -1) {\r\n                  return val.toPrecision(2) + '%';\r\n                } else if (_.lowerCase(numFormat.type).indexOf('currency') !== -1) {\r\n                  return '$' + val.toPrecision(2);\r\n                } else {\r\n                  return val.toString();\r\n                }\r\n              },\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        ],\r\n        xAxes: [\r\n          {\r\n            fill: false\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n})();\r\n\n/**\r\n * @author rykn0wxx\r\n * created on 31 01 2017\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n      .directive('currentPerformance', currentPerformance);\r\n\r\n  /** @ngInject */\r\n  function currentPerformance() {\r\n    return {\r\n      restrict: 'E',\r\n      controller: 'CurrentPerformanceCtrl',\r\n      templateUrl: 'app/pages/version/executive/currentPerformance/currentPerformance.html'\r\n    };\r\n  }\r\n})();\r\n\n/**\r\n * @author v.lugovksy\r\n * created on 16.12.2015\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n      .controller('CurrentPerformanceCtrl', CurrentPerformanceCtrl);\r\n\r\n  /** @ngInject */\r\n  function CurrentPerformanceCtrl($scope, $timeout, $window, $filter, baConfig, baUtil, urlUtil, csmMedia) {\r\n    var pieColor = baUtil.hexToRGB(baConfig.colors.defaultText, 0.2);\r\n    var ndx = $window.crossfilter;\r\n    var _ = $window._;\r\n    var d3 = $window.d3;\r\n    var o = this;\r\n    o.$scope = $scope;\r\n    $scope.charts = [];\r\n    var zData = $scope.$resolve.collection.zData;\r\n    var zClient = $scope.$resolve.collection.zClient;\r\n    var zRegion = $scope.$resolve.collection.zRegion;\r\n\r\n    var metrics = [\r\n      {\r\n        name: 'revenue',\r\n        type: 'zCurrency',\r\n        sub: 'revenueScore'\r\n      },\r\n      {\r\n        name: 'ebitPercent',\r\n        type: 'zPercent',\r\n        sub: 'ebitPercentScore'\r\n      },\r\n      {\r\n        name: 'iph',\r\n        type: 'zNumber',\r\n        sub: 'avgTktVolume'\r\n      },\r\n      {\r\n        name: 'costPerTkt',\r\n        type: 'currency',\r\n        sub: 'tktVolume'\r\n      },\r\n      {\r\n        name: 'ebitPerTkt',\r\n        type: 'currency',\r\n        sub: 'ebitMin'\r\n      },\r\n      {\r\n        name: 'revPerHead',\r\n        type: 'currency',\r\n        sub: 'avgTktFte'\r\n      }\r\n    ];\r\n\r\n    var tmpId = null;\r\n    _.map(zData, function (val, ind) {\r\n      tmpId = _.filter(zClient, ['id', val.clientId])[0].regionId;\r\n      val.clientName = _.filter(zClient, ['id', val.clientId])[0].code;\r\n      val.regionName = _.filter(zRegion, ['id', tmpId])[0].name;\r\n      val.global = 'global';\r\n    });\r\n\r\n    var n = $scope.n = {};\r\n    n.ndx = ndx(zData);\r\n    n.dimMonth = n.ndx.dimension(function (d) {return d.repmonth;});\r\n    n.global = n.ndx.dimension(function (d) {return d.global;});\r\n    n.dimRegion = n.ndx.dimension(function (d) {return d.regionName;});\r\n    n.dimClient = n.ndx.dimension(function (d) {return d.clientName;});\r\n    n.perRegion = n.dimRegion.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perMonth = n.dimMonth.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perGlobal = n.global.group().reduce(grpAdd,grpRemove,grpBase);\r\n    n.perClient = n.dimClient.group().reduce(grpAdd,grpRemove,grpBase);\r\n    updateValues();\r\n\r\n    function getRandomArbitrary(min, max) {\r\n      return Math.random() * (max - min) + min;\r\n    }\r\n\r\n    function loadPieCharts() {\r\n      $('.chart').each(function () {\r\n        var chart = $(this);\r\n        chart.easyPieChart({\r\n          easing: 'easeOutBounce',\r\n          onStep: function (from, to, percent) {\r\n            $(this.el).find('.percent').text(Math.round(percent));\r\n          },\r\n          barColor: chart.attr('rel'),\r\n          trackColor: 'rgba(0,0,0,0)',\r\n          size: 84,\r\n          scaleLength: 0,\r\n          animation: 2000,\r\n          lineWidth: 9,\r\n          lineCap: 'round',\r\n        });\r\n      });\r\n\r\n      $('.refresh-data').on('click', function () {\r\n        updatePieCharts();\r\n      });\r\n    }\r\n\r\n    function updatePieCharts() {\r\n      $('.pie-charts .chart').each(function(index, chart) {\r\n        $(chart).data('easyPieChart').update(getRandomArbitrary(55, 90));\r\n      });\r\n    }\r\n\r\n    function updateValues () {\r\n      $scope.charts = [];\r\n      _.forEach(metrics, function(v, i) {\r\n      \tvar tmp = {\r\n          icon: null,\r\n          color: pieColor,\r\n          description: _.startCase(v.name),\r\n      \t\ttype: v.type,\r\n          sub: {name: v.sub, data: _.round(_.at(n.perGlobal.all()[0].value, v.sub)[0],2)},\r\n      \t\tstats: $filter(v.type)(_.at(n.perGlobal.all()[0].value, v.name)[0]),\r\n      \t\tregions: {}\r\n      \t}\r\n        var ztmp = {\r\n          regData: [],\r\n          regLabel: []\r\n        };\r\n      \t_.forEach(n.perRegion.all(), function(val, ind) {\r\n          ztmp.regLabel.push(val.key);\r\n          ztmp.regData.push(_.round(_.at(val.value, v.name)[0],2));\r\n      \t});\r\n        tmp.regions.data = ztmp.regData;\r\n        tmp.regions.label = ztmp.regLabel;\r\n      \t$scope.charts.push(tmp);\r\n        $scope.zGlobal = n.perGlobal.all();\r\n      });\r\n      // $timeout(function () {\r\n      //   $scope.$apply(function() {\r\n      //     loadPieCharts();\r\n      //     updatePieCharts();\r\n      //   });\r\n      // }, 1000);\r\n    }\r\n\r\n    function grpAdd (p, v) {\r\n      ++p.count;\r\n      p.ebit += +v.ebitDollar;\r\n      p.ebitMin = Math.min(p.ebitMin, v.ebitDollar);\r\n      p.ebitMax = Math.max(p.ebitMax, v.ebitDollar);\r\n      p.ebitScore = Math.round((( v.ebitDollar - p.ebitMin) / (p.ebitMax - p.ebitMin))*100) / 100;\r\n\r\n      p.revenue += +v.revenueDollar;\r\n      p.revenueMin = Math.min(p.revenueMin, v.revenueDollar);\r\n      p.revenueMax = Math.max(p.revenueMax, v.revenueDollar);\r\n      p.revenueScore = Math.round((( v.revenueDollar - p.revenueMin) / (p.revenueMax - p.revenueMin))*100) / 100;\r\n\r\n      p.ebitPercent = p.ebit/p.revenue;\r\n      p.ebitPercentScore = p.ebitScore / p.revenueScore;\r\n\r\n      p.expense = p.revenue - p.ebit;\r\n      p.avgExpense = p.expense / p.count;\r\n\r\n      p.tktVolume += +v.ticketVolume;\r\n      p.avgTktVolume = p.tktVolume / p.count;\r\n\r\n      p.tktFte += +v.fte;\r\n      p.avgTktFte = p.tktFte / p.count;\r\n\r\n      p.iph = p.tktVolume/p.tktFte;\r\n\r\n      p.costPerTkt = p.expense / p.tktVolume;\r\n      p.ebitPerTkt = p.ebit / p.tktVolume;\r\n      p.revPerHead = p.revenue / p.tktFte;\r\n      return p;\r\n    };\r\n\r\n    function grpRemove (p, v) {\r\n      --p.count;\r\n      p.ebit -= +v.ebitDollar;\r\n      p.ebitMin = Math.min(p.ebitMin, v.ebitDollar);\r\n      p.ebitMax = Math.max(p.ebitMax, v.ebitDollar);\r\n      p.ebitScore = Math.round((( v.ebitDollar - p.ebitMin) / (p.ebitMax - p.ebitMin))*100) / 100;\r\n\r\n      p.revenue -= +v.revenueDollar;\r\n      p.revenueMin = Math.min(p.revenueMin, v.revenueDollar);\r\n      p.revenueMax = Math.max(p.revenueMax, v.revenueDollar);\r\n      p.revenueScore = Math.round((( v.revenueDollar - p.revenueMin) / (p.revenueMax - p.revenueMin))*100) / 100;\r\n\r\n      p.ebitPercent = p.ebit/p.revenue;\r\n      p.ebitPercentScore = p.ebitScore / p.revenueScore;\r\n\r\n      p.expense = p.revenue - p.ebit;\r\n      p.avgExpense = p.expense / p.count;\r\n\r\n      p.tktVolume -= +v.ticketVolume;\r\n      p.avgTktVolume = p.tktVolume / p.count;\r\n\r\n      p.tktFte -= +v.fte;\r\n      p.avgTktFte = p.tktFte / p.count;\r\n\r\n      p.iph = p.tktVolume/p.tktFte;\r\n\r\n      p.costPerTkt = p.expense / p.tktVolume;\r\n      p.ebitPerTkt = p.ebit / p.tktVolume;\r\n      p.revPerHead = p.revenue / p.tktFte;\r\n      return p;\r\n    }\r\n\r\n    function grpBase () {\r\n      return {\r\n        count: 0,\r\n        ebit: 0,\r\n        ebitMin: 0,\r\n        ebitMax: 0,\r\n        ebitScore: 0,\r\n\r\n        revenue: 0,\r\n        revenueMin: 0,\r\n        revenueMax: 0,\r\n        revenueScore: 0,\r\n\r\n        ebitPercent: 0,\r\n        ebitPercentScore: 0,\r\n\r\n        expense: 0,\r\n        avgExpense: 0,\r\n\r\n        tktVolume: 0,\r\n        avgTktVolume: 0,\r\n\r\n        tktFte: 0,\r\n        avgTktFte: 0,\r\n\r\n        iph: 0,\r\n\r\n        costPerTkt: 0,\r\n        ebitPerTkt: 0,\r\n        revPerHead: 0\r\n      }\r\n    }\r\n\r\n    $scope.datePicker = {\r\n      date : {\r\n        startDate: null,\r\n        endDate: null,\r\n        mode: 'month'\r\n      }\r\n    };\r\n\r\n    $scope.toOpen = toOpen;\r\n    $scope.opened = false;\r\n    $scope.format = 'yyyy MMM';\r\n    $scope.options = {\r\n      maxMode: 'month',\r\n      minMode: 'month',\r\n      mode: 'month',\r\n    };\r\n\r\n    $scope.med = {\r\n      xs: csmMedia('xs'),\r\n      sm: csmMedia('sm')\r\n    };\r\n    $scope.$watch(function() {\r\n      $scope.med = {\r\n        xs: csmMedia('xs'),\r\n        sm: csmMedia('sm')\r\n      };\r\n    });\r\n\r\n\r\n\r\n    function toOpen () {\r\n      $scope.opened = true;\r\n    }\r\n\r\n    $scope.$watch('opened', function(nVal, oVal, sc) {\r\n      if (!nVal && sc.dt) {\r\n        var prevVal = new Date(sc.dt);\r\n        $timeout(function() {\r\n          sc.$apply(function () {\r\n            sc.n.dimMonth.filterFunction(function (d) {\r\n              return sc.dt.getMonth() === d.getMonth() && sc.dt.getFullYear() === d.getFullYear();\r\n            });\r\n            updateValues();\r\n          });\r\n        },10);\r\n      }\r\n    }, true);\r\n    $scope.ch = {\r\n      labels : ['aaa','bbb','ccc','ddd','eee'],\r\n      data : [1,2,3,4,3],\r\n      options: {\r\n        scales: {\r\n          xAxes: [{\r\n            display: false\r\n          }],\r\n          yAxes: [{\r\n            display: false\r\n          }]\r\n        },\r\n        tooltips: {\r\n          enabled: true,\r\n          custom: customTp\r\n        }\r\n      }\r\n    };\r\n\r\n    function customTp (tooltip) {\r\n      var tooltipEl = document.getElementById('chartjs-tooltip');\r\n      if (!tooltipEl) {\r\n\t\t\t\ttooltipEl = document.createElement('div');\r\n\t\t\t\ttooltipEl.id = 'chartjs-tooltip';\r\n\t\t\t\ttooltipEl.innerHTML = \"<table></table>\"\r\n\t\t\t\tdocument.body.appendChild(tooltipEl);\r\n\t\t\t}\r\n      // Hide if no tooltip\r\n\t\t\tif (tooltip.opacity === 0) {\r\n\t\t\t\ttooltipEl.style.opacity = 0;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      // Set caret Position\r\n\t\t\ttooltipEl.classList.remove('above', 'below', 'no-transform');\r\n\t\t\tif (tooltip.yAlign) {\r\n\t\t\t\ttooltipEl.classList.add(tooltip.yAlign);\r\n\t\t\t} else {\r\n\t\t\t\ttooltipEl.classList.add('no-transform');\r\n\t\t\t}\r\n      function getBody(bodyItem) {\r\n\t\t\t\treturn bodyItem.lines;\r\n\t\t\t}\r\n      // Set Text\r\n\t\t\tif (tooltip.body) {\r\n\t\t\t\tvar titleLines = tooltip.title || [];\r\n\t\t\t\tvar bodyLines = tooltip.body.map(getBody);\r\n\t\t\t\tvar innerHtml = '<thead>';\r\n\t\t\t\ttitleLines.forEach(function(title) {\r\n\t\t\t\t\tinnerHtml += '<tr><th>' + title + '</th></tr>';\r\n\t\t\t\t});\r\n\t\t\t\tinnerHtml += '</thead><tbody>';\r\n\t\t\t\tbodyLines.forEach(function(body, i) {\r\n\t\t\t\t\tvar colors = tooltip.labelColors[i];\r\n\t\t\t\t\tvar style = 'background:' + colors.backgroundColor;\r\n\t\t\t\t\tstyle += '; border-color:' + colors.borderColor;\r\n\t\t\t\t\tstyle += '; border-width: 2px';\r\n\t\t\t\t\tvar span = '<span class=\"chartjs-tooltip-key\" style=\"' + style + '\"></span>';\r\n\t\t\t\t\tinnerHtml += '<tr><td>' + span + body + '</td></tr>';\r\n\t\t\t\t});\r\n\t\t\t\tinnerHtml += '</tbody>';\r\n\t\t\t\tvar tableRoot = tooltipEl.querySelector('table');\r\n\t\t\t\ttableRoot.innerHTML = innerHtml;\r\n\t\t\t}\r\n      var position = this._chart.canvas.getBoundingClientRect();\r\n\t\t\t// Display, position, and set styles for font\r\n\t\t\ttooltipEl.style.opacity = 1;\r\n\t\t\ttooltipEl.style.left = position.left + tooltip.caretX + 'px';\r\n\t\t\ttooltipEl.style.top = position.top + tooltip.caretY + 'px';\r\n\t\t\ttooltipEl.style.fontFamily = tooltip._fontFamily;\r\n\t\t\ttooltipEl.style.fontSize = tooltip.fontSize;\r\n\t\t\ttooltipEl.style.fontStyle = tooltip._fontStyle;\r\n\t\t\ttooltipEl.style.padding = tooltip.yPadding + 'px ' + tooltip.xPadding + 'px';\r\n    }\r\n  }\r\n\r\n\r\n  angular.module('BlurAdmin.pages.version.executive')\r\n        .service('dashboardPieChart', dashboardPieChart);\r\n\r\n    /** @ngInject */\r\n    function dashboardPieChart() {\r\n\r\n    }\r\n})();\r\n\n/* Minified js for jQuery BackTop */\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module('BlurAdmin').run(['$templateCache', function($templateCache) {$templateCache.put('app/pages/dashboard/dashboard.html','<section><div class=\"row\"><dashboard-block></dashboard-block></div></section>');\n$templateCache.put('app/pages/init/init.html','<section class=\"content\"><div class=\"slides\"><div class=\"slide\" ng-if=\"!curUser\"><div class=\"blurb\"><div class=\"title\">API is {{apistatus}}</div></div><div class=\"xample\"><div class=\"box-mail\"><div class=\"masthead\"><input ng-model=\"apipath\" type=\"text\" placeholder=\"api base path...\"></div><div class=\"send\" ng-click=\"conCon()\"></div></div></div></div></div></section>');\n$templateCache.put('app/pages/dashboard/dashboardBlock/dashboardBlock.html','<div class=\"row\" ng-repeat=\"o in widgetObj\"><div class=\"col-md-8\"><div class=\"widget sky-bg\"><div class=\"widget-icon widget-icon-top to-left\"><div class=\"row-flex\"><div class=\"flex-20 hide-xs\"></div><div class=\"flex-50 flex-last\"><h2 class=\"bold\">{{ o.metric | toTitleCase }}</h2></div><div class=\"flex-20 flex-last\"><h4 class=\"italic\">Global</h4></div><div class=\"flex-10 flex-last\"><h2 class=\"bold-title\">{{ o.global }}</h2></div></div></div><div class=\"widget-content to-center\"><div class=\"row\"><div class=\"col-md-3\" ng-repeat=\"r in o.regions\"><h3>{{ r.value }}</h3><h4 class=\"bold\">{{ r.name }}</h4></div></div></div></div></div><div class=\"col-md-4\"><div id=\"pie-chart-value\"></div></div></div>');\n$templateCache.put('app/pages/version/executive/executive.html','<div class=\"row\"><div class=\"col-xlg-6 col-md-12 col-sm-6\"><p class=\"input-group\"><span class=\"input-group-btn\"><button ng-click=\"toOpen()\" class=\"btn btn-primary pull-right btn-daterange\" id=\"daterange-btn\"><span ng-if=\"!dt\" style=\"min-width:140px; display:block;\"><i class=\"fa fa-calendar fa-fw\"></i> Select Month Coverage <i class=\"fa fa-caret-down fa-fw\"></i></span> <span ng-if=\"dt\" style=\"min-width:140px; display:block;\"><i class=\"fa fa-calendar fa-fw\"></i> {{dt | date:\\'yyyy MMM\\' }} <i class=\"fa fa-caret-down fa-fw\"></i></span></button></span> <input type=\"text\" class=\"hide form-control inp-daterange\" uib-datepicker-popup=\"{{format}}\" datepicker-options=\"options\" ng-model=\"dt\" is-open=\"opened\" ng-required=\"true\" close-text=\"Close\" alt-input-formats=\"altInputFormats\" show-button-bar=\"false\"></p></div></div><current-performance></current-performance><div class=\"row\"><dimensional-view></dimensional-view></div>');\n$templateCache.put('app/theme/components/backTop/backTop.html','<i class=\"fa fa-angle-up back-top\" id=\"backTop\" title=\"Back to Top\"></i>');\n$templateCache.put('app/theme/components/baSidebar/ba-sidebar.html','<aside class=\"al-sidebar\" ng-swipe-right=\"$baSidebarService.setMenuCollapsed(false)\" ng-swipe-left=\"$baSidebarService.setMenuCollapsed(true)\" ng-mouseleave=\"hoverElemTop=selectElemTop\"><ul class=\"al-sidebar-list\" slimscroll=\"{height: \\'{{menuHeight}}px\\'}\" slimscroll-watch=\"menuHeight\"><li ng-repeat=\"item in ::menuItems\" class=\"al-sidebar-list-item\" ng-class=\"::{\\'with-sub-menu\\': item.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"item\"><a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"item.stateRef || \\'\\'\" ng-href=\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\" ng-if=\"::!item.subMenu\" class=\"al-sidebar-list-link\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::item.subMenu\" class=\"al-sidebar-list-link\" ba-ui-sref-toggler=\"\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span> <b class=\"fa fa-angle-down\" ui-sref-active=\"fa-angle-up\" ng-if=\"::item.subMenu\"></b></a><ul ng-if=\"::item.subMenu\" class=\"al-sidebar-sublist\" ng-class=\"{\\'slide-right\\': item.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-repeat=\"subitem in ::item.subMenu\" ng-class=\"::{\\'with-sub-menu\\': subitem.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"subitem\" class=\"ba-sidebar-sublist-item\"><a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::subitem.subMenu\" ba-ui-sref-toggler=\"\" class=\"al-sidebar-list-link subitem-submenu-link\"><span>{{ ::subitem.title }}</span> <b class=\"fa\" ng-class=\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\" ng-if=\"::subitem.subMenu\"></b></a><ul ng-if=\"::subitem.subMenu\" class=\"al-sidebar-sublist subitem-submenu-list\" ng-class=\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-mouseenter=\"hoverItem($event, item)\" ng-repeat=\"subSubitem in ::subitem.subMenu\" ui-sref-active=\"selected\"><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::subSubitem.disabled\" class=\"al-sidebar-list-link\">{{ ::subSubitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"subSubitem.stateRef || \\'\\'\" ng-if=\"::!subSubitem.disabled\" ng-href=\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::(!subitem.subMenu && subitem.disabled)\" class=\"al-sidebar-list-link\">{{ ::subitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" target=\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\" ng-if=\"::(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \\'\\'\" ng-href=\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\"sidebar-hover-elem\" ng-style=\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\" ng-class=\"{\\'show-hover-elem\\': showHoverElem }\"></div></aside>');\n$templateCache.put('app/theme/components/baWizard/baWizard.html','<div class=\"ba-wizard\"><div class=\"ba-wizard-navigation-container\"><div ng-repeat=\"t in $baWizardController.tabs\" class=\"ba-wizard-navigation {{$baWizardController.tabNum == $index ? \\'active\\' : \\'\\'}}\" ng-click=\"$baWizardController.selectTab($index)\">{{t.title}}</div></div><div class=\"progress ba-wizard-progress\"><div class=\"progress-bar progress-bar-danger active\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" ng-style=\"{width: $baWizardController.progress + \\'%\\'}\"></div></div><div class=\"steps\" ng-transclude=\"\"></div><nav><ul class=\"pager ba-wizard-pager\"><li class=\"previous\"><button ng-disabled=\"$baWizardController.isFirstTab()\" ng-click=\"$baWizardController.previousTab()\" type=\"button\" class=\"btn btn-primary\"><span aria-hidden=\"true\">&larr;</span> previous</button></li><li class=\"next\"><button ng-disabled=\"$baWizardController.isLastTab()\" ng-click=\"$baWizardController.nextTab()\" type=\"button\" class=\"btn btn-primary\">next <span aria-hidden=\"true\">&rarr;</span></button></li></ul></nav></div>');\n$templateCache.put('app/theme/components/baWizard/baWizardStep.html','<section ng-show=\"selected\" class=\"step\" ng-transclude=\"\"></section>');\n$templateCache.put('app/theme/components/contentTop/contentTop.html','<div class=\"content-top clearfix\"><h1 class=\"al-title\">{{ activePageTitle }}</h1><ul class=\"breadcrumb al-breadcrumb\"><li><a href=\"#/dashboard\">Home</a></li><li>{{ activePageTitle }}</li></ul></div>');\n$templateCache.put('app/theme/components/msgCenter/msgCenter.html','<ul class=\"al-msg-center clearfix\"><li uib-dropdown=\"\"><a href=\"\" uib-dropdown-toggle=\"\"><i class=\"fa fa-bell-o\"></i><span>5</span><div class=\"notification-ring\"></div></a><div uib-dropdown-menu=\"\" class=\"top-dropdown-menu\"><i class=\"dropdown-arr\"></i><div class=\"header clearfix\"><strong>Notifications</strong> <a href=\"\">Mark All as Read</a> <a href=\"\">Settings</a></div><div class=\"msg-list\"><a href=\"\" class=\"clearfix\" ng-repeat=\"msg in notifications\"><div class=\"img-area\"><img ng-class=\"{\\'photo-msg-item\\' : !msg.image}\" ng-src=\"{{::( msg.image || (users[msg.userId].name | profilePicture) )}}\"></div><div class=\"msg-area\"><div ng-bind-html=\"getMessage(msg)\"></div><span>{{ msg.time }}</span></div></a></div><a href=\"\">See all notifications</a></div></li><li uib-dropdown=\"\"><a href=\"\" class=\"msg\" uib-dropdown-toggle=\"\"><i class=\"fa fa-envelope-o\"></i><span>5</span><div class=\"notification-ring\"></div></a><div uib-dropdown-menu=\"\" class=\"top-dropdown-menu\"><i class=\"dropdown-arr\"></i><div class=\"header clearfix\"><strong>Messages</strong> <a href=\"\">Mark All as Read</a> <a href=\"\">Settings</a></div><div class=\"msg-list\"><a href=\"\" class=\"clearfix\" ng-repeat=\"msg in messages\"><div class=\"img-area\"><img class=\"photo-msg-item\" ng-src=\"{{::( users[msg.userId].name | profilePicture )}}\"></div><div class=\"msg-area\"><div>{{ msg.text }}</div><span>{{ msg.time }}</span></div></a></div><a href=\"\">See all messages</a></div></li></ul>');\n$templateCache.put('app/theme/components/pageTop/pageTop.html','<div class=\"page-top clearfix\" scroll-position=\"scrolled\" max-height=\"50\" ng-class=\"{\\'scrolled\\': scrolled}\"><a href=\"#/dashboard\" class=\"al-logo clearfix\"><span>Stefanini</span></a> <a href=\"\" class=\"collapse-menu-link ion-navicon\" ba-sidebar-toggle-menu=\"\"></a><div class=\"pull-left\"><span class=\"al-subname\" ng-if=\"$baSidebarService.isMenuCollapsed()\">KPI</span> <span class=\"al-subname\" ng-if=\"!$baSidebarService.isMenuCollapsed()\">Key Performance Indicators</span></div><div class=\"user-profile clearfix\"><div class=\"al-user-profile\"><img ng-src=\"{{::( \\'stefLogo\\' | profilePicture )}}\"></div></div></div>');\n$templateCache.put('app/theme/components/progressBarRound/progressBarRound.html','<svg class=\"center-block progress-bar-round\" width=\"200\" height=\"200\"><circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"#F8F8FF\" stroke-width=\"8\"></circle><circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" id=\"loader\" class=\"\" stroke=\"#209e91\" stroke-width=\"8\" stroke-dasharray=\"0,20000\" transform=\"rotate(-90,100,100)\" stroke-linecap=\"round\"></circle><text text-anchor=\"middle\" class=\"loading\" x=\"100\" y=\"90\">Loading...</text><text class=\"percentage\" text-anchor=\"middle\" x=\"100\" y=\"130\">{{progress}}%</text></svg>');\n$templateCache.put('app/theme/components/widgets/widgets.html','<div class=\"widgets\"><div ng-repeat=\"widgetBlock in ngModel\" ng-class=\"{\\'row\\': widgetBlock.widgets.length > 1}\"><div ng-repeat=\"widgetCol in widgetBlock.widgets\" ng-class=\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\" ng-model=\"widgetCol\" class=\"widgets-block\"><div ba-panel=\"\" ba-panel-title=\"{{::widget.title}}\" ng-repeat=\"widget in widgetCol\" ba-panel-class=\"with-scroll {{widget.panelClass}}\"><div ng-include=\"widget.url\"></div></div></div></div></div>');\n$templateCache.put('app/theme/inputs/baSwitcher/baSwitcher.html','<label class=\"switcher-container\"><input type=\"checkbox\" ng-model=\"switcherValue\"><div class=\"switcher\" ng-class=\"::switcherStyle\"><div class=\"handle-container\"><span class=\"handle handle-on\">ON</span> <span class=\"handle\"></span> <span class=\"handle handle-off\">OFF</span></div></div></label>');\n$templateCache.put('app/pages/version/executive/currentPerformance/currentKpi.html','<div class=\"row\"><div class=\"col-md-6\"><h4>{{ kpiName }}</h4></div></div><div class=\"kpi-chart\"><canvas id=\"polar-area\" class=\"chartjs chart-line\" chart-data=\"perKpi.data\" chart-labels=\"perKpi.label\" chart-options=\"perKpi.options\"></canvas></div>');\n$templateCache.put('app/pages/version/executive/currentPerformance/currentPerformance.html','<div class=\"pie-charts\"><div class=\"pie-chart-item-container\" ng-repeat=\"chart in charts\"><div ba-panel=\"\"><div class=\"panel-item\"><h3 class=\"md-title\">{{ ::chart.stats }}</h3><p>{{ ::chart.description }}</p></div><div class=\"panel-chart\"><canvas id=\"polar-area\" class=\"chartjs chart-bar\" chart-data=\"chart.regions.data\" chart-labels=\"chart.regions.label\" chart-options=\"ch.options\"></canvas></div><a class=\"link-footer\" ui-sref=\"trending.executive.kpi({type: chart.description})\">{{ ::chart.description }}</a></div></div></div><main ui-view=\"\"></main>');\n$templateCache.put('app/pages/version/executive/dimensionalView/dimensionalView.html','<section class=\"content\"><div id=\"ordinal-bar-chart\"><span>Ordinal Bar Chart</span> <a class=\"reset\" href=\"/\" style=\"display: none;\">reset</a><br><span class=\"reset\" style=\"display: none;\">Current filter: <span class=\"filter\"></span></span><div class=\"clear\"></div></div><div class=\"row\"><div id=\"monthly-move-chart\"><strong>Monthly Index Abs Move & Volume/500,000 Chart</strong> <span class=\"reset\" style=\"display: none;\">range: <span class=\"filter\"></span></span> <a class=\"reset\" href=\"javascript:moveChart.filterAll();volumeChart.filterAll();dc.redrawAll();\" style=\"display: none;\">reset</a><div class=\"clearfix\"></div></div></div><div class=\"row\"><div id=\"monthly-volume-chart\"></div><p class=\"muted pull-right\" style=\"margin-right: 15px;\">select a time range to zoom in</p></div></section>');}]);"],"sourceRoot":"/source/"}