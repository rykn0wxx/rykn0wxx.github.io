/**
 * @author v.lugovsky
 * created on 15.12.2015
 */
!function(){"use strict";angular.module("BlurAdmin.theme",["BlurAdmin.theme.datacube","ngMaterial","toastr","chart.js","angular-chartist","angular.morris-chart","textAngular","BlurAdmin.theme.components","BlurAdmin.theme.inputs"])}(),function(){"use strict";function e(e,t,n,i){e.otherwise("/dashboards"),i.setBaseUrl("http://172.19.7.36:3000").setEnv("dist");var r=n.colors;t.setOptions({chartColors:[r.primary,r.danger,r.warning,r.success,r.info,r.default,r.primaryDark,r.successDark,r.warningLight,r.successLight,r.primaryLight],responsive:!0,maintainAspectRatio:!1,animation:{duration:1e3},scale:{gridLines:{color:r.border},scaleLabel:{display:!1}}}),t.setOptions("Line",{datasetFill:!1}),t.setOptions("bar",{tooltips:{enabled:!1}})}e.$inject=["$urlRouterProvider","ChartJsProvider","baConfigProvider","DataProviderProvider"],angular.module("BlurAdmin.pages",["ui.router","ngCookies","chart.js","angularCharts","highcharts-ng","BlurAdmin.pages.dashboards","BlurAdmin.pages.rest","BlurAdmin.pages.dashboardv2","BlurAdmin.pages.drilldownv2","BlurAdmin.pages.custom"]).config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme.components",[])}(),function(){"use strict";angular.module("BlurAdmin.theme.inputs",[])}(),function(){"use strict";function e(e){e.state("custom",{url:"/custom",templateUrl:"app/pages/custom/custom.html",title:"Custom View",sidebarMeta:{icon:"ion-android-laptop",order:1e3},resolve:{collection:["restFactory","$q",function(e,t){var n=t.defer();return e.all("executives").getList().then(function(e){n.resolve(e.plain())}),n.promise}]},controller:["$scope","$window","collection",function(e,t,n){var i=t.crossfilter,r=t._,a=t.d3,o=n,l=a.time.format("%m/%d/%Y");r.map(o,function(e,t){e.id=t,e.dd=l.parse(e.repmonth),e.month=a.time.month(e.dd),e.year=a.time.year(e.dd).getFullYear()}),e.collection=i(o)}]})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.custom",[]).config(e)}(),function(){"use strict";function e(e){e.state("dashboards",{url:"/dashboards",name:"dashboards",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0,title:"Dashboard - X",sidebarMeta:{icon:"ion-android-laptop",order:700}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.dashboards",["BlurAdmin.pages.dashboards.executive"]).config(e)}(),function(){"use strict";function e(e){e.state("dashboardv2",{url:"/dashboardv2",name:"dashboardv2",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0,title:"Dashboard",sidebarMeta:{icon:"ion-earth",order:150}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.dashboardv2",["BlurAdmin.pages.dashboardv2.executive"]).config(e)}(),function(){"use strict";function e(e){e.state("drilldown",{url:"/drilldown",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0,name:"drilldown",title:"Drilldown",sidebarMeta:{icon:"ion-cube",order:100}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.drilldown",["BlurAdmin.pages.drilldown.perKpi","BlurAdmin.pages.drilldown.perRegion"]).config(e)}(),function(){"use strict";function e(e){e.state("drilldown2",{url:"/drilldown2",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0,name:"drilldown2",title:"Trending",sidebarMeta:{icon:"ion-ios-speedometer-outline",order:200},resolve:{dataSource:["dataService",function(e){return e}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.drilldownv2",["BlurAdmin.pages.drilldownv2.perKpi"]).config(e)}(),function(){"use strict";function e(e){e.state("rest",{url:"/rest",templateUrl:"app/pages/rest/rest.html",name:"restdemo",title:"Drilldown",sidebarMeta:{icon:"ion-grid",order:400},resolve:{collection:["restFactory","$q",function(e,t){var n=t.defer();return e.all("executives").getList().then(function(e){n.resolve(e.plain())}),n.promise}]},controller:"RestCtrl",controllerAs:"vmRest"}).state("rest.one",{url:"/one",templateUrl:"app/pages/rest/restone/restone.html",name:"restone",title:"RestOne",controller:"RestOneCtrl",controllerAs:"vmRestOne"})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.rest",[]).config(e)}(),function(){"use strict";function e(e){e.state("dashboards.executive",{url:"/dashboards/executive",name:"dashboardExecutive",templateUrl:"app/pages/dashboards/executive/executive.html",title:"Executive",controller:"ExecutiveCtrl",controllerAs:"vmExecutive",sidebarMeta:{order:100},resolve:{collection:["$rootScope","$q","DataProvider",function(e,t,n){if(void 0===e.globals.data){var i=n.retrieveData("clients"),r=n.retrieveData("regions"),a=n.retrieveData("rawexecs",!0),o=t.all({zClient:i,zRegion:r,zData:a}).then(function(e){return e});return o}return e.globals.data}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.dashboards.executive",[]).config(e)}(),function(){"use strict";function e(e){e.state("dashboardv2.executive",{url:"/executive",name:"executive",templateUrl:"app/pages/dashboardv2/executive/executive.html",title:"Executive",controller:"Dash2ExecutiveCtrl",controllerAs:"vmDash2ExecutiveCtrl",sidebarMeta:{order:251},resolve:{collection:["dataService",function(e){return e}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.dashboardv2.executive",[]).config(e)}(),function(){"use strict";function e(e){e.state("drilldown.perKpi",{url:"/{kpi}",name:"drilldownKpi",templateUrl:"app/pages/drilldown/perKpi/perKpi.html",title:"K P I",controller:"PerKpiCtrl",controllerAs:"vmPerKpi",sidebarMeta:{order:150},resolve:{collection:["$rootScope","$q","DataProvider",function(e,t,n){if(void 0===e.globals.data){var i=n.retrieveData("clients"),r=n.retrieveData("regions"),a=n.retrieveData("rawexecs",!0),o=t.all({zClient:i,zRegion:r,zData:a}).then(function(e){return e});return o}return e.globals.data}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.drilldown.perKpi",[]).config(e)}(),function(){"use strict";function e(e){e.state("drilldown.perRegion",{url:"/{region}",name:"drilldownRegion",templateUrl:"app/pages/drilldown/perRegion/perRegion.html",title:"Regional",controller:"PerRegionCtrl",controllerAs:"vmPerRegion",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.drilldown.perRegion",[]).config(e)}(),function(){"use strict";function e(e){e.state("drilldown2.perKpi",{url:"/{kpi}",name:"drilldownv2Kpi",templateUrl:"app/pages/drilldownv2/perKpi/perKpi.html",title:"Executive",controller:"DrillV2KpiCtrl",controllerAs:"vmDrillv2Kpi",sidebarMeta:{order:301}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.drilldownv2.perKpi",[]).config(e)}(),angular.module("BlurAdmin",["ngAnimate","ui.bootstrap","ui.sortable","ui.router","toastr","smart-table","xeditable","ui.slimscroll","ngJsTree","angular-progress-button-styles","ui.knob","daterangepicker","BlurAdmin.theme","BlurAdmin.pages"]),function(){"use strict";function e(e,n,i,r,a){i.decorator("$uiViewScroll",t),r.theme("default").primaryPalette("blue-grey").accentPalette("grey").warnPalette("pink").backgroundPalette("blue-grey"),a.disableWarnings()}function t(e,t,n){return function(i){n.hasAttr(i,"autoscroll-body-top")?t():e(i)}}e.$inject=["baConfigProvider","colorHelper","$provide","$mdThemingProvider","$mdAriaProvider"],t.$inject=["$delegate","$anchorScroll","baUtil"],angular.module("BlurAdmin.theme").config(e)}(),function(){"use strict";function e(e){var r={theme:{blur:!1},colors:{default:t.default,defaultText:t.defaultText,border:t.border,borderDark:t.borderDark,primary:n.primary,info:n.info,success:n.success,warning:n.warning,danger:n.danger,primaryLight:e.tint(n.primary,30),infoLight:e.tint(n.info,30),successLight:e.tint(n.success,30),warningLight:e.tint(n.warning,30),dangerLight:e.tint(n.danger,30),primaryDark:e.shade(n.primary,15),infoDark:e.shade(n.info,15),successDark:e.shade(n.success,15),warningDark:e.shade(n.warning,15),dangerDark:e.shade(n.danger,15),dashboard:{blueStone:i.blueStone,surfieGreen:i.surfieGreen,silverTree:i.silverTree,gossip:i.gossip,white:i.white}}};return r.changeTheme=function(e){angular.merge(r.theme,e)},r.changeColors=function(e){angular.merge(r.colors,e)},r.$get=function(){return delete r.$get,r},r}e.$inject=["colorHelper"];var t={default:"#ffffff",defaultText:"#666666",border:"#dddddd",borderDark:"#aaaaaa"},n={primary:"#005eb8",info:"#0262bb",success:"#00a378",warning:"#a34f00",danger:"#c81a14"},i={blueStone:"#005562",surfieGreen:"#0e8174",silverTree:"#6eba8c",gossip:"#b9f2a1",white:"#10c4b5"};angular.module("BlurAdmin.theme").provider("baConfig",e)}(),function(){"use strict";function e(e,t,n){function i(e){return e.toString(16)}function r(e){return parseInt(e,16)}for(var a="#",o=1;o<7;o+=2){var l=r(e.substr(o,2)),s=r(t.substr(o,2)),c=i(Math.floor(s+(l-s)*(n/100)));a+=("0"+c).slice(-2)}return a}var t="assets/img/";angular.module("BlurAdmin.theme").constant("layoutSizes",{resWidthCollapseSidebar:1200,resWidthHideSidebar:500}).constant("layoutPaths",{images:{root:t,profile:t+"app/profile/",amMap:"assets/img/theme/vendor/ammap//dist/ammap/images/",amChart:"assets/img/theme/vendor/amcharts/dist/amcharts/images/"}}).constant("colorHelper",{tint:function(t,n){return e("#ffffff",t,n)},shade:function(t,n){return e("#000000",t,n)}}).constant("metrics",{executive:[{field:"revenue",metric:"Revenue",format:"formatMoney",precision:0,misc:"$"},{field:"ebitPercent",metric:"EBIT %",format:"formatNumber",precision:2,misc:"%"},{field:"iph",metric:"IPH",format:"formatNumber",precision:0,misc:""},{field:"sla",metric:"SLA Attainment",format:"formatNumber",precision:0,misc:"%"},{field:"costPerTkt",metric:"Cost p/Incident",format:"formatMoney",precision:2,misc:"$"},{field:"ebitPerTkt",metric:"EBIT p/Incident",format:"formatMoney",precision:2,misc:"$"},{field:"revPerHead",metric:"Revenue p/Head",format:"formatMoney",precision:0,misc:"$"}]})}(),function(){"use strict";function e(e,t,n,i,r,a,o){var l=window.Highcharts,s=[i.loadAmCharts(),e(2e3)];t.globals={},t.globals.isLoggedIn=!1;var c=o;c.blur&&(c.mobile?s.unshift(i.loadImg(n.images.root+"blur-bg-mobile.jpg")):(s.unshift(i.loadImg(n.images.root+"blur-bg.jpg")),s.unshift(i.loadImg(n.images.root+"blur-bg-blurred.jpg")))),r.all(s).then(function(){t.$pageFinishedLoading=!0}),e(function(){t.$pageFinishedLoading||(t.$pageFinishedLoading=!0)},2e3),l.theme={chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#313035"],[1,"#515054"]]},style:{fontFamily:"Roboto",fontSize:"12px"}},lang:{contextButtonTitle:"ACA context menu",decimalPoint:".",downloadJPEG:"Export as JPG",downloadPDF:"Export as PDF",downloadSVG:"Export as SVG",drillUpText:"Back to {series.name}",loading:"This will be awesome...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],noData:"No data to display",numericSymbols:["k","M","G","T","P","E"],printChart:"Export Chart",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],thousandsSep:",",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},credits:{enabled:!0,href:"mailto:ariel.andrade@stefanini.com?subject=Stefanini Dashboard Query",text:"Created by ACAndrade",style:{fontSize:"10px",fontFamily:"Roboto, sans-serif",color:"rgba(255,255,255,0.2)"}},title:{style:{fontFamily:"Roboto, sans-serif",color:"rgba(255,255,255,0.8)",textTransform:"uppercase",fontSize:"16px",fontWeight:"medium"}},subtitle:{style:{textTransform:"uppercase",fontSize:"12px",fontFamily:"Roboto, sans-serif",fontStyle:"italic",color:"rgba(255,255,255,0.4)"}},legend:{itemStyle:{color:"rgba(255,255,255,0.5)",fontWeight:300},itemHiddenStyle:{color:"rgba(255,255,255,0.1)"}},plotOptions:{bar:{borderWidth:1,borderColor:"rgba(0,0,0,0.1)"},series:{borderWidth:1,borderColor:"rgba(0,0,0,0.1)",groupPadding:.01,dataLabels:{style:{backgroundColor:"rgba(0,0,0,0.4)",color:"rgba(255,255,255,0.7)"}}},column:{groupPadding:.1,pointPadding:.05,borderWidth:0,borderColor:"rgba(0,0,0,0.1)",borderRadius:1,states:{hover:{enabled:!0}},dataLabels:{style:{backgroundColor:"rgba(0,0,0,0.4)",color:"rgb(255,0,0)"}}},spline:{lineWidth:2,marker:{lineWidth:2,fillColor:"#fff",lineColor:"#484343",symbol:"circle"},dataLabels:{style:{color:"#808080",fontWeight:"regular",fontSize:"10px",fontFamily:"Roboto, sans-serif"}}},line:{lineWidth:1}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.5)",style:{fontSize:"11px",color:"#F0F0F0"}},yAxis:{gridLineColor:"rgba(0,0,0,0.1)",labels:{style:{color:"rgba(255,255,255,0.4)"}},lineColor:"rgba(0,0,0,0.1)",lineWidth:0,tickColor:"rgba(0,0,0,0.4)",title:{style:{color:"rgba(255,255,255,0.5)"},text:null}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px"}},lineColor:"rgba(0,0,0,0.1)",lineWidth:0,tickColor:"rgba(0,0,0,0.4)",title:{style:{color:"rgba(255,255,255,0.5)"}}},exporting:{buttons:{contextButton:{menuItems:[{text:"Export to PNG (small)",onclick:function(){this.exportChart({width:250})}},{text:"Export to PNG (large)",onclick:function(){this.exportChart()},separator:!1},{text:"Export as SVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})},separator:!1}]}}},colors:["#5DA3E7","#686868","#75E95D","#F9953A","#7077FF","#F15A60","#E4D354","#B8D2EC","#D98880","#87CEFA","#CCCCCC","#E7B2D4"]},l.setOptions(l.theme),t.$baSidebarService=a,t.globals.isLoggedIn=!0}e.$inject=["$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings"],angular.module("BlurAdmin.theme").run(e)}(),function(){"use strict";function e(e){var t=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(navigator.userAgent.toLowerCase()),n=t?"mobile":"",i=e.theme.blur?"blur-theme":"";return angular.element(document.body).addClass(n).addClass(i),{blur:e.theme.blur,mobile:t}}e.$inject=["baConfig"],angular.module("BlurAdmin.theme").service("themeLayoutSettings",e)}(),function(){"use strict";function e(e){angular.extend(e,{closeButton:!0,closeHtml:"<button>&times;</button>",timeOut:5e3,autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}e.$inject=["toastrConfig"],angular.module("BlurAdmin.theme.components").config(e)}(),function(){"use strict";function e(e){return{link:function(t,n){e(function(){function t(t){e(function(){n.html(t)},30)}var i=n.attr("new-value"),r=parseInt(n.html());if(i>r)for(var a=r;a<=i;a++)t(a);else for(var o=r;o>=i;o--)t(o);e(function(){n.next().find("i").addClass("show-arr")},500)},3500)}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("animatedChange",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t){t.bind("keydown",function(e){var t=e.target;$(t).height(0);var n=$(t)[0].scrollHeight;n=n<16?16:n,$(t).height(n)}),setTimeout(function(){var e=t;$(e).height(0);var n=$(e)[0].scrollHeight;n=n<16?16:n,$(e).height(n)},0)}}}angular.module("BlurAdmin.theme").directive("autoExpand",e)}(),function(){"use strict";function e(e,t){return{link:function(n,i,r){var a=t(r.autoFocus);n.$watch(a,function(t){t===!0&&e(function(){i[0].focus(),i[0].select()})}),i.bind("blur",function(){n.$apply(a.assign(n,!1))})}}}e.$inject=["$timeout","$parse"],angular.module("BlurAdmin.theme").directive("autoFocus",e)}(),function(){"use strict";function e(e,t){function n(e,t,n,i){e.initRun=!1;var r=i[0],a=i[1];r.$viewChangeListeners.push(function(){a.updateRoot(r.$modelValue)}),e.$watch(function(){return r.$modelValue},function(t,n){isNaN(t)||e.initRun||(a.updateRoot(r.$modelValue),e.initRun=!0)},!0)}function i(e,t,n,i,r,a,o,l,s){var c=this;c.updateRoot=function(e){s.globals.filterMonth=e}}return i.$inject=["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope"],{restrict:"C",require:["ngModel","inpDaterange"],controller:i,controllerAs:"vmBtnDate",link:n}}e.$inject=["$timeout","$parse"],angular.module("BlurAdmin.theme").directive("inpDaterange",e)}(),function(){"use strict";function e(){return{restrict:"AE",templateUrl:function(e,t){return t.includeWithScope}}}angular.module("BlurAdmin.theme").directive("includeWithScope",e)}(),function(){"use strict";function e(e){return{restrict:"EA",template:"<div></div>",replace:!0,scope:{min:"=",max:"=",type:"@",prefix:"@",maxPostfix:"@",prettify:"=",prettifySeparator:"@",grid:"=",gridMargin:"@",postfix:"@",step:"@",hideMinMax:"@",hideFromTo:"@",from:"=",to:"=",disable:"=",onChange:"=",onFinish:"=",values:"=",timeout:"@"},link:function(t,n){n.ionRangeSlider({min:t.min,max:t.max,type:t.type,prefix:t.prefix,maxPostfix:t.maxPostfix,prettify_enabled:t.prettify,prettify_separator:t.prettifySeparator,grid:t.grid,gridMargin:t.gridMargin,postfix:t.postfix,step:t.step,hideMinMax:t.hideMinMax,hideFromTo:t.hideFromTo,from:t.from,to:t.to,disable:t.disable,onChange:t.onChange,onFinish:t.onFinish,values:t.values}),t.$watch("min",function(t){e(function(){n.data("ionRangeSlider").update({min:t})})},!0),t.$watch("max",function(t){e(function(){n.data("ionRangeSlider").update({max:t})})}),t.$watch("from",function(t){e(function(){n.data("ionRangeSlider").update({from:t})})}),t.$watch("to",function(t){e(function(){n.data("ionRangeSlider").update({to:t})})}),t.$watch("disable",function(t){e(function(){n.data("ionRangeSlider").update({disable:t})})})}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("ionSlider",e)}(),function(){"use strict";function e(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile()})}}}angular.module("BlurAdmin.theme").directive("ngFileSelect",e)}(),function(){"use strict";function e(){return{scope:{scrollPosition:"=",maxHeight:"="},link:function(e){$(window).on("scroll",function(){var t=$(window).scrollTop()>e.maxHeight;t!==e.prevScrollTop&&e.$apply(function(){e.scrollPosition=t}),e.prevScrollTop=t})}}}angular.module("BlurAdmin.theme").directive("scrollPosition",e)}(),function(){"use strict";function e(){return{scope:{trackWidth:"=",minWidth:"="},link:function(e,t){e.trackWidth=$(t).width()<e.minWidth,e.prevTrackWidth=e.trackWidth,$(window).resize(function(){var n=$(t).width()<e.minWidth;n!==e.prevTrackWidth&&e.$apply(function(){e.trackWidth=n}),e.prevTrackWidth=n})}}}angular.module("BlurAdmin.theme").directive("trackWidth",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(n,i){var r=1e3;t.$pageFinishedLoading&&(r=100),e(function(){i.removeClass("full-invisible"),i.addClass("animated zoomIn")},r)}}}e.$inject=["$timeout","$rootScope"],angular.module("BlurAdmin.theme").directive("zoomIn",e)}(),function(){"use strict";function e(e){var t={},n=0,i=100,r=!1;return{setProgress:function(e){if(e>i)throw Error("Progress can't be greater than max");n=e},getProgress:function(){return n},open:function(){if(r)throw Error("Progress modal opened now");t=e.open({animation:!0,templateUrl:"app/pages/ui/modals/progressModal/progressModal.html",size:"sm",keyboard:!1,backdrop:"static"}),r=!0},close:function(){if(!r)throw Error("Progress modal is not active");t.close(),r=!1}}}e.$inject=["$uibModal"],angular.module("BlurAdmin.theme").factory("baProgressModal",e)}(),function(){"use strict";function e(){this.isDescendant=function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1},this.hexToRGB=function(e,t){var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return"rgba("+n+", "+i+", "+r+", "+t+")"},this.hasAttr=function(e,t){var n=$(e).attr(t);return"undefined"!=typeof n&&n!==!1}}angular.module("BlurAdmin.theme").service("baUtil",e)}(),function(){"use script";function e(e){var t=e._,n=e.d3,i=n.time.format("%m/%d/%Y"),r={dimension:function(e,n){var r={d:function(t){return i.parse(t[e])},n:function(n){return t.number(n[e])},s:function(t){return""+t[e]}};return r[n]},grpAdd:function(e,t){return++e.count,e.ebit+=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue+=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue*100,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume+=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte+=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e},grpRemove:function(e,t){return--e.count,e.ebit-=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue-=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue*100,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume-=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte-=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e},grpBase:function(){return{count:0,ebit:0,ebitMin:0,ebitMax:0,ebitScore:0,revenue:0,revenueMin:0,revenueMax:0,revenueScore:0,ebitPercent:0,ebitPercentScore:0,expense:0,avgExpense:0,tktVolume:0,avgTktVolume:0,tktFte:0,avgTktFte:0,iph:0,costPerTkt:0,ebitPerTkt:0,revPerHead:0}},grpAddWithTrend:function(e){var n=this;return function(r,a){var o=i.parse(a[e]).yyyymmm();return r[o]=r[o]||{},++r[o].count,t.isUndefined(r[o].init)&&(r[o]=grpBase(),r[o].init=!0),r[o]=n.grpAdd(r[o],a),r}},grpRemoveWithTrend:function(e){var t=this;return function(n,i){var r=dFormat.parse(i[e]).yyyymmm();return n[r]=n[r],n[r]=t.grpRemove(n[r],i),n}}},a={stdDate:n.time.format("%m/%d/%Y")};return{ndx:r,dtx:a}}angular.module("BlurAdmin.theme").factory("calcUtil",e),e.$inject=["$window"]}(),function(){"use strict";function e(e,t){function n(e){var t=u[e];angular.isUndefined(t)&&(t=u[e]=i(e));var n=p[t];return angular.isUndefined(n)&&(n=r(t)),n}function i(e){return g.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}function r(e){var n=d[e];return n||(n=d[e]=t.matchMedia(e)),n.addListener(a),p[n.media]=!!n.matches}function a(t){e.$evalAsync(function(){p[t.media]=!!t.matches})}function o(e){return d[e]}function l(e,t){for(var n=0;n<g.MEDIA_PRIORITY.length;n++){var i=g.MEDIA_PRIORITY[n];if(d[u[i]].matches){var r=c(e,t+"-"+i);if(e[r])return e[r]}}return e[c(e,t)]}function s(e,t,n){var i=[];return e.forEach(function(e){var r=c(t,e);angular.isDefined(t[r])&&i.push(t.$observe(r,angular.bind(void 0,n,null)));for(var a in $mdConstant.MEDIA)r=c(t,e+"-"+a),angular.isDefined(t[r])&&i.push(t.$observe(r,angular.bind(void 0,n,a)))}),function(){i.forEach(function(e){e()})}}function c(e,t){return m[t]||(m[t]=e.$normalize(t))}var u={},d={},p={},m={},g={MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print",custom:"(min-width: 767px)"},MEDIA_PRIORITY:["custom","xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return n.getResponsiveAttribute=l,n.getQuery=o,n.watchResponsiveAttributes=s,n}e.$inject=["$rootScope","$window"],angular.module("BlurAdmin.theme").factory("csmMedia",e)}(),function(){"use strict";angular.module("BlurAdmin.theme.datacube",["restangular","ui.grid","ui.grid.cellNav","ui.grid.edit","ui.grid.resizeColumns","ui.grid.pinning","ui.grid.selection","ui.grid.moveColumns","ui.grid.grouping","ui.grid.pagination"]).config(["RestangularProvider",function(e){e.setDefaultHeaders({Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json",cache:!0}),e.setBaseUrl("http://172.19.7.36:3000")}]).factory("restFactory",["Restangular",function(e){return e.withConfig(function(e){e.setRestangularFields({id:"id"})})}]).provider("Datacube",[function(){var e=window.crossfilter,t=window._,n=window.d3,i={};i.init=function(e,t){e.configuration=t,t.shortMonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.ndx=null,t.sourceData=t.sourceData||[],t.dimensions=t.dimensions||[],t.activeGroup=t.activeGroup||[],t.activeFilters=t.activeFilters||[],Date.prototype.yyyymmm=function(){var e=this.getFullYear().toString(),n=this.getMonth().toString();return e+"-"+t.shortMonth[n]},Date.prototype.y2m3=function(){var e=this.getFullYear().toString(),n=this.getMonth().toString();return e.slice(2)+"-"+t.shortMonth[n]};var n=function(){};n.prototype.init=function(e){return this.config=e,this},t.baseFactoryCreator=n};var r={};i.init(this,r),this.$get=["restFactory","$q","$timeout",function(a,o,l){function s(r){function l(t){return null!==r.ndx&&r.ndx.remove(),r.sourceData=t.plain(),r.ndx=e(t.plain()),r}function s(e){if(!e)return[];var t=o.defer();return a.all(e).getList().then(function(e){t.resolve(l(e))}),t.promise}function c(e){var n;return t.forEach($,function(i){var r=i(e);t.isNull(r)||(n=r)}),n}function u(e,t){return++e.count,e.ebit+=+t.ebit,e.ebitMin=Math.min(e.ebitMin,t.ebit),e.ebitMax=Math.max(e.ebitMax,t.ebit),e.ebitScore=Math.round((t.ebit-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue+=+t.revenue,e.revenueMin=Math.min(e.revenueMin,t.revenue),e.revenueMax=Math.max(e.revenueMax,t.revenue),e.revenueScore=Math.round((t.revenue-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue*100,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume+=+t.ticket,e.avgTktVolume=e.tktVolume/e.count,e.tktFte+=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function d(e,t){return--e.count,e.ebit-=+t.ebit,e.ebitMin=Math.min(e.ebitMin,t.ebit),e.ebitMax=Math.max(e.ebitMax,t.ebit),e.ebitScore=Math.round((t.ebit-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue-=+t.revenue,e.revenueMin=Math.min(e.revenueMin,t.revenue),e.revenueMax=Math.max(e.revenueMax,t.revenue),e.revenueScore=Math.round((t.revenue-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue*100,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume-=+t.ticket,e.avgTktVolume=e.tktVolume/e.count,e.tktFte-=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function p(){return{count:0,ebit:0,ebitMin:0,ebitMax:0,ebitScore:0,revenue:0,revenueMin:0,revenueMax:0,revenueScore:0,ebitPercent:0,ebitPercentScore:0,expense:0,avgExpense:0,tktVolume:0,avgTktVolume:0,tktFte:0,avgTktFte:0,iph:0,costPerTkt:0,ebitPerTkt:0,revPerHead:0}}function m(e,n,i){var a=function(e,n){var i={d:function(t){return w.parse(t[e])},n:function(n){return t.number(n[e])},s:function(t){return""+t[e]}};return i[n]},o=r.ndx.dimension(a(n,i));return r.dimensions.push({name:e,fld:n,dimension:o}),o}function g(e,n){var i=t.filter(r.dimensions,["name",e])[0].dimension;return i.filterFunction(n),t.includes(r.activeFilters,e)||r.activeFilters.push(e),r}function f(e,t){return r.activeGroup.push({name:e,group:t}),t}function h(e){return t.filter(r.dimensions,["name",e])[0].dimension}function b(e){return t.filter(r.activeGroup,["name",e])[0].group}var v={},w=n.time.format("%m/%d/%Y"),y=new r.baseFactoryCreator;y.init(r);var $=[function(e){return t.isNaN(t.toNumber(e))?null:"numeric"},function(e){var t=Date.parse(e);return"Invalid Date"===t||null===t||isNaN(t)||e.length<5||void 0===e.length?null:"date"},function(e){return t.isString(e)||t.isNaN(t.toNumber(e))?"string":null}];return i.init(v,r),v.createNdx=t.bind(l,v),v.getData=t.bind(s,v),v.detectDataType=t.bind(c,v),v.grpAdd=t.bind(u,v),v.grpRemove=t.bind(d,v),v.grpBase=t.bind(p,v),v.addDimension=t.bind(m,v),v.addFilter=t.bind(g,v),v.addGroup=t.bind(f,v),v.getGroup=t.bind(b,v),v.getDimension=t.bind(h,v),v}return s(r)}]}]).service("dataService",["Datacube","$window",function(e,t){function n(t){var n=r(t),a=n.dimension(function(e){return e.global}),l=n.dimension(function(e){return e.region_name});i.perGlobal=a.group().reduce(function(t,n){var i=o.parse(n.repmonth).yyyymmm();return t[i]=t[i]||{},++t[i].count,_.isUndefined(t[i].init)&&(t[i]=e.grpBase(),t[i].init=!0),t[i]=e.grpAdd(t[i],n),t[i].orderMonth=_.sum([o.parse(n.repmonth).getFullYear(),o.parse(n.repmonth).getMonth()]),t},function(t,n){var i=o.parse(n.repmonth).yyyymmm();return t[i]=t[i],--t[i].count,t[i]=e.grpRemove(t[i],n),t[i].orderMonth=_.sum([o.parse(n.repmonth).getFullYear(),o.parse(n.repmonth).getMonth()]),t},function(){return{}}),i.perRegion=l.group().reduce(function(t,n){var i=o.parse(n.repmonth).yyyymmm();return t[i]=t[i]||{},++t[i].count,_.isUndefined(t[i].init)&&(t[i]=e.grpBase(),t[i].init=!0),t[i]=e.grpAdd(t[i],n),t[i].orderMonth=_.sum([o.parse(n.repmonth).getFullYear(),o.parse(n.repmonth).getMonth()]),t},function(t,n){var i=o.parse(n.repmonth).yyyymmm();return t[i]=t[i],--t[i].count,t[i]=e.grpRemove(t[i],n),t[i].orderMonth=_.sum([o.parse(n.repmonth).getFullYear(),o.parse(n.repmonth).getMonth()]),t},function(){return{}})}var i=this,r=t.crossfilter,a=t.d3,o=a.time.format("%m/%d/%Y");e.getData("executives").then(function(t){i.source=t.sourceData,i.all=e.addGroup("all",t.ndx.groupAll()),i.dimMonth=e.addDimension("dimMonth","repmonth","d"),i.grpMonth=e.addGroup("grpMonth",i.dimMonth.group()),i.dimRegion=e.addDimension("dimRegion","region_name","s"),i.grpRegion=e.addGroup("grpRegion",i.dimRegion.group()),i.oneRegion=e.addGroup("oneRegion",i.dimRegion.group().reduce(e.grpAdd,e.grpRemove,e.grpBase)),i.dimGlobal=e.addDimension("dimGlobal","global","s"),i.grpGlobal=e.addGroup("grpGlobal",i.dimGlobal.group()),i.oneGlobal=e.addGroup("oneGlobal",i.dimGlobal.group().reduce(e.grpAdd,e.grpRemove,e.grpBase)),i.dimClient=e.addDimension("dimClient","client_name","s"),i.grpClient=e.addGroup("grpClient",i.dimClient.group()),i.oneClient=e.addGroup("oneClient",i.dimClient.group().reduce(e.grpAdd,e.grpRemove,e.grpBase)),n(t.sourceData)}),i.dc=e}]).run(["dataService",function(e){console.log(e)}])}(),function(){"use strict";function e(){var e=window._,t=window.d3,n=(window.crossfilter,{});n.init=function(t,n){t.configuration=n,n.baseUrl=e.isUndefined(n.baseUrl)?"/":n.baseUrl,t.setBaseUrl=function(e){return n.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this};var i=["env","dist","prod"];n.env="dev",t.setEnv=function(t){if(!e.isUndefined(t))return n.env=e.includes(i,t.toLowerCase())?n.env=t.toLowerCase():n.env,this},n.shortMonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};var i={};n.init(this,i),this.$get=["$http","$q",function(r,a){function o(i){function r(t){var n;return e.forEach(d,function(i){var r=i(t);e.isNull(r)||(n=r)}),n}function o(t,n){return t?(e.map(t,function(t,i){e.map(t,function(i,a){if(n){var o=r(i);"date"===o?i=""+i.toDateString():"numeric"===o&&(i=+e.toNumber(i))}e.camelCase(a)!==a?(t[e.camelCase(a)]=i,delete t[a]):t[a]=i})}),t):[]}function l(e,n){if(!e)return[];var r=a.defer();return t.json(i.baseUrl+"/"+e).header("Accept","application/vnd.api+json").header("Content-Type","application/vnd.api+json").get(function(e,t){r.resolve(o(t,n))}),r.promise}function s(){console.log("run initSrvce");
var e=l("clients"),t=l("regions"),n=l("rawexecs",!0),i=a.all({zClient:e,zRegion:t,zData:n}).then(function(e){return e});return i}function c(n){var i=null,r=t.time.format("%m/%d/%Y");return e.map(n.zData,function(t,a){i=e.filter(n.zClient,["id",t.clientId])[0].regionId,t.clientName=e.filter(n.zClient,["id",t.clientId])[0].code,t.regionName=e.filter(n.zRegion,["id",i])[0].name,t.global="global",t.zDate=r.parse(t.repmonth)}),n}var u={},d=[function(t){return e.isNaN(e.toNumber(t))?null:"numeric"},function(e){var t=Date.parse(e);return"Invalid Date"===t||null===t||isNaN(t)||e.length<5||void 0===e.length?null:"date"},function(t){return e.isString(t)||e.isNaN(e.toNumber(t))?"string":null}];return Date.prototype.yyyymmm=function(){var e=this.getFullYear().toString(),t=this.getMonth().toString();return e+"-"+i.shortMonth[t]},s().then(function(e){u.appData=c(e),console.log(u)}),n.init(u,i),u.retrieveData=e.bind(l,u),u}return o(i)}]}angular.module("BlurAdmin.theme").provider("DataProvider",e)}(),function(){"use strict";function e(e){var t=function(e,t,n){return function(){n.$apply(function(){t.resolve(e.result)})}},n=function(e,t,n){return function(){n.$apply(function(){t.reject(e.result)})}},i=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},r=function(e,r){var a=new FileReader;return a.onload=t(a,e,r),a.onerror=n(a,e,r),a.onprogress=i(a,r),a},a=function(t,n){var i=e.defer(),a=r(i,n);return a.readAsDataURL(t),i.promise};return{readAsDataUrl:a}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("fileReader",e)}(),function(){"use strict";function e(e){return{loadImg:function(t){var n=e.defer(),i=new Image;return i.src=t,i.onload=function(){n.resolve()},n.promise},loadAmCharts:function(){var t=e.defer();return AmCharts.ready(function(){t.resolve()}),t.promise}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("preloader",e)}(),function(){"use strict";angular.module("BlurAdmin.theme.restangular",["restangular"],["RestangularProvider",function(e){e.setDefaultHeaders({Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json",cache:!0}),e.setBaseUrl("http://localhost:3000")}]).factory("resties",["Restangular",function(e){return e.withConfig(function(e){e.setRestangularFields({id:"id"})})}]).service("deService",function(){return this.called=function(){console.log("deService called")},this})}(),function(){"use strict";function e(e){return{start:function(t,n,i){function r(){return t(n,i)}var a=r();angular.element(e).bind("focus",function(){a&&t.cancel(a),a=r()}),angular.element(e).bind("blur",function(){a&&t.cancel(a)})}}}e.$inject=["$window"],angular.module("BlurAdmin.theme").service("stopableInterval",e)}(),function(){"use strict";function e(e,t,n){function i(e){var t=[],n=new Date;return a.forEach(e,function(e,i){var o={};a.map(e,function(e,t){t.indexOf("month")!==-1?(n=new Date(86400*(e-25568)*1e3-72e6),o[a.camelCase(t)]=r.time.month(n)):o[a.camelCase(t)]=e}),t.push(o)}),t}var r=n.d3,a=n._,o={dev:"localhost:3000",own:"172.19.7.101:3000",dst:"172.19.7.36:3000"};return{getJson:function(n,r){if(a.isUndefined(n))return[];var l=e.defer(),s=r?o[r]:o.dev;return t({method:"GET",url:"http://"+s+"/"+n,headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}).then(function(e){l.resolve(i(e.data))}),l.promise}}}e.$inject=["$q","$http","$window"],angular.module("BlurAdmin.theme").factory("urlUtil",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o){function l(e){var t=[];return s.forEach(e,function(e,n){s.forEach(e.values,function(n,i){s.forEach(n.values,function(i,r){var a={region:e.key,client:n.key,month:i.key};s.forEach(i.values,function(e,t){a[t]=e}),t.push(a)})})}),t}var s=t._,c=t.d3,u=(t.crossfilter,t.dc,t.accounting,this);u.$scope=e;var d=c.time.format("%m/%d/%Y");e.gridOptions={},e.gridOptions.data=[],e.gridOptions.enableCellEditOnFocus=!1,e.gridOptions.enableColumnResizing=!0,e.gridOptions.enableFiltering=!0,e.gridOptions.enableGridMenu=!0,e.gridOptions.showGridFooter=!0,e.gridOptions.showColumnFooter=!0,e.gridOptions.fastWatch=!0,e.gridOptions.paginationPageSize=25,e.gridOptions.enablePaginationControls=!1,e.gridOptions.onRegisterApi=function(t){e.gridApi=t},e.gridOptions.rowIdentity=function(e){return e.id},e.gridOptions.getRowIdentity=function(e){return e.id},e.gridOptions.columnDefs=[{name:"Month",field:"month",sort:{priority:0,direction:"desc"},grouping:{groupPriority:0},type:"date",cellFilter:'date:"yyyy MMM"'},{name:"Region",field:"region",sort:{priority:1,direction:"desc"},grouping:{groupPriority:1}},{name:"Client",field:"client"},{name:"Revenue",field:"revenue",cellFilter:"currency:0",footerCellFilter:"currency",aggregationType:r.aggregationTypes.sum},{name:"EBIT %",field:"ebit",type:"number",cellFilter:"number:2",footerCellFilter:"number",aggregationType:r.aggregationTypes.avg,treeAggregationType:a.aggregation.AVG},{name:"IPH ",field:"iph",type:"number",cellFilter:"number",footerCellFilter:"number",aggregationType:r.aggregationTypes.avg,treeAggregationType:a.aggregation.AVG},{name:"Cost p/Incident ",field:"costpertkt",type:"currency",cellFilter:"currency",footerCellFilter:"currency",aggregationType:r.aggregationTypes.avg,treeAggregationType:a.aggregation.AVG},{name:"EBIT p/Incident ",field:"ebitpertkt",type:"currency",cellFilter:"currency",footerCellFilter:"currency",aggregationType:r.aggregationTypes.avg,treeAggregationType:a.aggregation.AVG},{name:"Revenue p/Head ",field:"revperhead",type:"currency",cellFilter:"currency",footerCellFilter:"currency",aggregationType:r.aggregationTypes.avg,treeAggregationType:a.aggregation.AVG}],e.lang="",e.pageLang="en",e.setNewLang=function(){e.pageLang=e.lang,i.setCurrentLang(e.pageLang),e.gridApi.core.refresh()};var p=c.nest().key(function(e){return e.region_name}).key(function(e){return e.client_name}).key(function(e){return d.parse(e.repmonth)}).rollup(function(e){return{revenue:c.sum(e,function(e){return parseFloat(e.revenue)}),ebit:c.sum(e,function(e){return parseFloat(e.ebit)})/c.sum(e,function(e){return parseFloat(e.revenue)}),iph:c.sum(e,function(e){return parseFloat(e.ticket)})/c.sum(e,function(e){return parseFloat(e.fte)}),costpertkt:(c.sum(e,function(e){return parseFloat(e.revenue)})-c.sum(e,function(e){return parseFloat(e.ebit)}))/c.sum(e,function(e){return parseFloat(e.ticket)}),ebitpertkt:c.sum(e,function(e){return parseFloat(e.ebit)})/c.sum(e,function(e){return parseFloat(e.ticket)}),revperhead:c.sum(e,function(e){return parseFloat(e.revenue)})/c.sum(e,function(e){return parseFloat(e.fte)})}}).entries(o);e.flatNest=l(p),s.forEach(e.flatNest,function(t,n){t.id=n,t.month=Date.parse(t.month),e.gridOptions.data.push(t)}),n(function(){angular.element(document.getElementsByClassName("grid")[0]).css("min-height","450px")},1)}e.$inject=["$scope","$window","$timeout","i18nService","uiGridConstants","uiGridGroupingConstants","collection"],angular.module("BlurAdmin.pages.rest").controller("RestCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/backTop/backTop.html",controller:function(){$("#backTop").backTop({position:200,speed:100})}}}angular.module("BlurAdmin.theme.components").directive("backTop",e)}(),function(){"use strict";function e(e,t){return angular.extend({},e,{template:function(n,i){var r='<div  class="panel '+(t.theme.blur?"panel-blur":"")+" full-invisible "+(i.baPanelClass||"");return r+='" zoom-in '+(t.theme.blur?"ba-panel-blur":"")+">",r+=e.template(n,i),r+="</div>"}})}e.$inject=["baPanel","baConfig"],angular.module("BlurAdmin.theme").directive("baPanel",e)}(),function(){"use strict";function e(){return{restrict:"A",transclude:!0,template:function(e,t){var n='<div class="csm-panel-body" ng-transclude></div>';if(t.baPanelTitle){var i='<div class="panel-heading clearfix"><h3 class="panel-title">'+t.baPanelTitle+"</h3></div>";n=i+n}return n}}}angular.module("BlurAdmin.theme").factory("baPanel",e)}(),function(){"use strict";function e(e,t,n){var i;return e.bodyBgLoad().then(function(){i=e.getBodyBgImageSizes()}),t.addEventListener("resize",function(){i=e.getBodyBgImageSizes()}),{restrict:"A",link:function(r,a){function o(){i&&a.css({backgroundSize:Math.round(i.width)+"px "+Math.round(i.height)+"px",backgroundPosition:Math.floor(i.positionX)+"px "+Math.floor(i.positionY)+"px"})}n.$isMobile||(e.bodyBgLoad().then(function(){setTimeout(o)}),t.addEventListener("resize",o),r.$on("$destroy",function(){t.removeEventListener("resize",o)}))}}}e.$inject=["baPanelBlurHelper","$window","$rootScope"],angular.module("BlurAdmin.theme").directive("baPanelBlur",e)}(),function(){"use strict";function e(e){var t=e.defer(),n=getComputedStyle(document.body,":before"),i=new Image;i.src=n.backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2"),i.onerror=function(){t.reject()},i.onload=function(){t.resolve()},this.bodyBgLoad=function(){return t.promise},this.getBodyBgImageSizes=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;if(!(e<=640)){var n,r,a=i.height/i.width,o=t/e;return o>a?(n=t,r=t/a):(r=e,n=e*a),{width:r,height:n,positionX:(e-r)/2,positionY:(t-n)/2}}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("baPanelBlurHelper",e)}(),function(){"use strict";function e(e){return angular.extend({},e,{link:function(e,t,n){t.addClass("panel panel-white"),n.baPanelClass&&t.addClass(n.baPanelClass)}})}e.$inject=["baPanel"],angular.module("BlurAdmin.theme").directive("baPanelSelf",e)}(),function(){"use strict";function e(e,t,n,i){var r=$(window);return{restrict:"E",templateUrl:"app/theme/components/baSidebar/ba-sidebar.html",controller:"BaSidebarCtrl",link:function(i,a){function o(i){n.isDescendant(a[0],i.target)||i.originalEvent.$sidebarEventProcessed||t.isMenuCollapsed()||!t.canSidebarBeHidden()||(i.originalEvent.$sidebarEventProcessed=!0,e(function(){t.setMenuCollapsed(!0)},10))}function l(){var e=t.shouldMenuBeCollapsed(),n=s();e==t.isMenuCollapsed()&&i.menuHeight==n||i.$apply(function(){i.menuHeight=n,t.setMenuCollapsed(e)})}function s(){return a[0].childNodes[0].clientHeight-84}i.menuHeight=a[0].childNodes[0].clientHeight-84,r.on("click",o),r.on("resize",l),i.$on("$destroy",function(){r.off("click",o),r.off("resize",l)})}}}e.$inject=["$timeout","baSidebarService","baUtil","layoutSizes"],angular.module("BlurAdmin.theme.components").directive("baSidebar",e)}(),function(){"use strict";function e(){var e=[];this.addStaticItem=function(){e.push.apply(e,arguments)},this.$get=["$state","layoutSizes",function(t,n){function i(){function i(){return t.get().filter(function(e){return e.sidebarMeta}).map(function(e){var t=e.sidebarMeta;return{name:e.name,title:e.title,level:(e.name.match(/\./g)||[]).length,order:t.order,icon:t.icon,stateRef:e.name}}).sort(function(e,t){return 100*(e.level-t.level)+e.order-t.order})}function r(){return window.innerWidth<=n.resWidthCollapseSidebar}function a(){return window.innerWidth<=n.resWidthHideSidebar}var o=r();this.getMenuItems=function(){var t=i(),n=t.filter(function(e){return 0==e.level});return n.forEach(function(e){var n=t.filter(function(t){return 1==t.level&&0===t.name.indexOf(e.name)});e.subMenu=n.length?n:null}),n.concat(e)},this.shouldMenuBeCollapsed=r,this.canSidebarBeHidden=a,this.setMenuCollapsed=function(e){o=e},this.isMenuCollapsed=function(){return o},this.toggleMenuCollapsed=function(){o=!o},this.getAllStateRefsRecursive=function(e){function t(e){e.subMenu&&e.subMenu.forEach(function(e){e.stateRef&&n.push(e.stateRef),t(e)})}var n=[];return t(e),n}}return new i}],this.$get.$inject=["$state","layoutSizes"]}angular.module("BlurAdmin.theme.components").provider("baSidebarService",e)}(),function(){"use strict";function e(e,t){e.menuItems=t.getMenuItems(),e.defaultSidebarState=e.menuItems[0].stateRef,e.hoverItem=function(t){e.showHoverElem=!0,e.hoverElemHeight=t.currentTarget.clientHeight;var n=66;e.hoverElemTop=t.currentTarget.getBoundingClientRect().top-n},e.$on("$stateChangeSuccess",function(){t.canSidebarBeHidden()&&t.setMenuCollapsed(!0)})}e.$inject=["$scope","baSidebarService"],angular.module("BlurAdmin.theme.components").controller("BaSidebarCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n){n.on("click",function(n){n.originalEvent.$sidebarEventProcessed=!0,t.$apply(function(){e.toggleMenuCollapsed()})})}}}function t(e){return{restrict:"A",link:function(t,n){n.on("click",function(n){n.originalEvent.$sidebarEventProcessed=!0,e.isMenuCollapsed()||t.$apply(function(){e.setMenuCollapsed(!0)})})}}}function n(){return{restrict:"A",controller:"BaSidebarTogglingItemCtrl"}}function i(e,t,n,i,r){function a(e){return e&&s.some(function(t){return 0==e.name.indexOf(t)})}var o=this,l=o.$$menuItem=e.$eval(n.baSidebarTogglingItem);if(l&&l.subMenu&&l.subMenu.length){o.$$expandSubmenu=function(){console.warn("$$expandMenu should be overwritten by baUiSrefTogglingSubmenu")},o.$$collapseSubmenu=function(){console.warn("$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu")};var s=r.getAllStateRefsRecursive(l);o.$expand=function(){o.$$expandSubmenu(),t.addClass("ba-sidebar-item-expanded")},o.$collapse=function(){o.$$collapseSubmenu(),t.removeClass("ba-sidebar-item-expanded")},o.$toggle=function(){t.hasClass("ba-sidebar-item-expanded")?o.$collapse():o.$expand()},a(i.current)&&t.addClass("ba-sidebar-item-expanded"),e.$on("$stateChangeStart",function(e,n){!a(n)&&t.hasClass("ba-sidebar-item-expanded")&&(o.$collapse(),t.removeClass("ba-sidebar-item-expanded"))}),e.$on("$stateChangeSuccess",function(e,n){a(n)&&!t.hasClass("ba-sidebar-item-expanded")&&(o.$expand(),t.addClass("ba-sidebar-item-expanded"))})}}function r(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(e,t,n,i){i.$$expandSubmenu=function(){t.slideDown()},i.$$collapseSubmenu=function(){t.slideUp()}}}}function a(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(t,n,i,r){n.on("click",function(){e.isMenuCollapsed()?(t.$apply(function(){e.setMenuCollapsed(!1)}),r.$expand()):r.$toggle()})}}}e.$inject=["baSidebarService"],t.$inject=["baSidebarService"],i.$inject=["$scope","$element","$attrs","$state","baSidebarService"],r.$inject=["$state"],a.$inject=["baSidebarService"],angular.module("BlurAdmin.theme.components").directive("baSidebarToggleMenu",e).directive("baSidebarCollapseMenu",t).directive("baSidebarTogglingItem",n).controller("BaSidebarTogglingItemCtrl",i).directive("baUiSrefTogglingSubmenu",r).directive("baUiSrefToggler",a)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,templateUrl:"app/theme/components/baWizard/baWizard.html",controllerAs:"$baWizardController",controller:"baWizardCtrl"}}angular.module("BlurAdmin.theme.components").directive("baWizard",e)}(),function(){"use strict";function e(e){function t(){n.progress=(n.tabNum+1)/n.tabs.length*100}var n=this;n.tabs=[],n.tabNum=0,n.progress=0,n.addTab=function(e){e.setPrev(n.tabs[n.tabs.length-1]),n.tabs.push(e),n.selectTab(0)},e.$watch(angular.bind(n,function(){return n.tabNum}),t),n.selectTab=function(e){n.tabs[n.tabNum].submit(),n.tabs[e].isAvailiable()&&(n.tabNum=e,n.tabs.forEach(function(e,t){t==n.tabNum?e.select(!0):e.select(!1)}))},n.isFirstTab=function(){return 0==n.tabNum},n.isLastTab=function(){return n.tabNum==n.tabs.length-1},n.nextTab=function(){n.selectTab(n.tabNum+1)},n.previousTab=function(){n.selectTab(n.tabNum-1)}}e.$inject=["$scope"],angular.module("BlurAdmin.theme.components").controller("baWizardCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,require:"^baWizard",scope:{form:"="},templateUrl:"app/theme/components/baWizard/baWizardStep.html",link:function(e,t,n,i){function r(t){t?e.selected=!0:e.selected=!1}function a(){e.form&&e.form.$setSubmitted(!0)}function o(){return!e.form||e.form.$valid}function l(){return!c.prevTab||c.prevTab.isComplete()}function s(e){c.prevTab=e}e.selected=!0;var c={title:n.title,select:r,submit:a,isComplete:o,isAvailiable:l,prevTab:void 0,setPrev:s};i.addTab(c)}}}angular.module("BlurAdmin.theme.components").directive("baWizardStep",e)}(),function(){"use strict";function e(e,t){var n=t.jQuery;return{restrict:"A",require:"ngModel",scope:{data:"="},link:function(t,i,r,a){var o=this;o.timeout=null,o.$timeout=e;var l={height:"70",barWidth:15,barSpacing:5,barColor:"#3366ce",negBarColor:"#undefined ",zeroColor:"#"};l.type=r.type||"bar",t.$watch("data",function(e,t,n){e!==t&&s()}),t.$watch(r.opts,function(e,t,n){e!==t&&s()});var s=function(){var e;r.opts&&angular.extend(l,angular.fromJson(r.opts)),e=angular.isString(a.$viewValue)?a.$viewValue.replace(/(^,)|(,$)/g,""):a.$viewValue;var t=angular.isArray(e)?e:e.split(",");o.timeout=o.$timeout(function(){n(i).sparkline(t,l)},300,!1)}}}}angular.module("BlurAdmin.theme.components").directive("jqSpark",e),e.$inject=["$timeout","$window"]}(),function(){"use strict";function e(e,t,n){return{restrict:"E",templateUrl:"app/theme/components/contentTop/contentTop.html",link:function(e){e.$watch(function(){n.activePageTitle=t.current.title})}}}e.$inject=["$location","$state","$rootScope"],angular.module("BlurAdmin.theme.components").directive("contentTop",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/theme/components/pageTop/pageTop.html",link:function(t){t.aaa=e}}}e.$inject=["csmMedia"],angular.module("BlurAdmin.theme.components").directive("pageTop",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/msgCenter/msgCenter.html",controller:"MsgCenterCtrl"}}angular.module("BlurAdmin.theme.components").directive("msgCenter",e)}(),function(){"use strict";function e(e,t){e.users={0:{name:"Vlad"},1:{name:"Kostya"},2:{name:"Andrey"},3:{name:"Nasta"}},e.notifications=[{userId:0,template:"&name posted a new article.",time:"1 min ago"},{userId:1,template:"&name changed his contact information.",time:"2 hrs ago"},{image:"assets/img/shopping-cart.svg",template:"New orders received.",time:"5 hrs ago"},{userId:2,template:"&name replied to your comment.",time:"1 day ago"},{userId:3,template:"Today is &name's birthday.",time:"2 days ago"},{image:"assets/img/comments.svg",template:"New comments on your post.",time:"3 days ago"},{userId:1,template:"&name invited you to join the event.",time:"1 week ago"}],e.messages=[{userId:3,text:"After you get up and running, you can place Font Awesome icons just about...",time:"1 min ago"},{userId:0,text:"You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.",time:"2 hrs ago"},{userId:1,text:"Want to request new icons? Here's how. Need vectors or want to use on the...",time:"10 hrs ago"},{userId:2,text:"Explore your passions and discover new ones by getting involved. Stretch your...",time:"1 day ago"},{userId:3,text:"Get to know who we are - from the inside out. From our history and culture, to the...",time:"1 day ago"},{userId:1,text:"Need some support to reach your goals? Apply for scholarships across a variety of...",time:"2 days ago"},{userId:0,text:"Wrap the dropdown's trigger and the dropdown menu within .dropdown, or...",time:"1 week ago"}],e.getMessage=function(n){var i=n.template;return(n.userId||0===n.userId)&&(i=i.replace("&name","<strong>"+e.users[n.userId].name+"</strong>")),t.trustAsHtml(i)}}e.$inject=["$scope","$sce"],angular.module("BlurAdmin.theme.components").controller("MsgCenterCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/theme/components/progressBarRound/progressBarRound.html",link:function(t,n,i){function r(){var i=n.find("#loader")[0];i.setAttribute("stroke-dasharray",180*e.getProgress()*Math.PI/100+", 20000"),t.progress=e.getProgress()}t.baProgressDialog=e,t.$watch(function(){return e.getProgress()},r)}}}e.$inject=["baProgressModal"],angular.module("BlurAdmin.theme.components").directive("progressBarRound",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{ngModel:"="},templateUrl:"app/theme/components/widgets/widgets.html",replace:!0}}angular.module("BlurAdmin.theme.components").directive("widgets",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+t}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("appImage",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+"theme/icon/kameleon/"+t+".svg"}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("kameleonImg",e)}(),function(){"use strict";function e(e){return function(t,n){return n=n||"png",e.images.profile+t+"."+n}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("profilePicture",e)}(),function(){"use strict";function e(){return function(e){return e?String(e).replace(/<[^>]+>/gm,""):""}}angular.module("BlurAdmin.theme").filter("plainText",e)}(),function(){"use strict";function e(e){var t=e.replace(/^\s*/,"");return t=t.replace(/^[a-z]|[^\s][A-Z]/g,function(e,t){return 0===t?e.toUpperCase():e.substr(0,1)+" "+e.substr(1).toUpperCase()})}function t(){return function(t){return e(t)}}e.$inject=["string"],angular.module("BlurAdmin.theme").constant("toTitleCase",e).filter("toTitleCase",t)}(),function(){"use strict";function e(e){var t=window._;return function(n){return angular.isNumber(n)?e("currency")(t.round(n),"$",0):n}}e.$inject=["$filter"],angular.module("BlurAdmin.theme").filter("zCurrency",e)}(),function(){"use strict";function e(){var e=window._;return function(t){return angular.isNumber(t)?e.round(t):t}}angular.module("BlurAdmin.theme").filter("zNumber",e)}(),function(){"use strict";function e(){var e=window._;return function(t){return angular.isNumber(t)?e.round(e.multiply(t,100),2)+"%":t}}angular.module("BlurAdmin.theme").filter("zPercent",e)}(),function(){"use strict";function e(){return{templateUrl:"app/theme/inputs/baSwitcher/baSwitcher.html",scope:{switcherStyle:"@",switcherValue:"="}}}angular.module("BlurAdmin.theme.inputs").directive("baSwitcher",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{setData:"="},controller:"DcBarMonthCtrl",templateUrl:"app/pages/custom/dcBarMonth/dcBarMonth.tmpl.html"}}e.$inject=["$timeout"],angular.module("BlurAdmin.pages.custom").directive("dcBarMonth",e)}(),function(){"use strict";function e(e,t,n){function i(){e.winwidth=o(window).width()}var r=(t.crossfilter,t._,t.d3),a=t.dc,o=t.jQuery,l=this,s=1359,c=200;l.$scope=e;var u=a.barChart("#bar-month");e.winwidth=0,e.clearFilter=function(){n(function(){u.filterAll(),a.redrawAll()},1)};var d=(r.time.format("%m/%d/%Y"),e.setData),p=d,m=p.groupAll(),g=p.dimension(function(e){return r.time.month(e.month)}),f=g.group().reduceCount();u.elasticY(!0).width(650).height(180).x(r.time.scale().domain([new Date("1/1/2015"),new Date("12/1/2016")])).round(r.time.month.round).xUnits(r.time.months).brushOn(!1).dimension(g).group(f).on("pretransition",function(e){e.selectAll("rect.bar").on("click",function(t){console.log(t),e.filter(null).filter(t.data.key).redrawGroup()})}),u.render(),e.$on("$destroy",function(){p.remove(),m.dispose(),f.dispose(),g.dispose()}),e.$watch("winwidth",function(e,t){e!==t&&n(function(){var n=e>t,i=Math.abs(e-t)/t;if(e===s)u.width(200);else if(n&&e!==s){var r=c+c*i;r=r>=c?c:r,u.width(r)}else if(!n&&e!==s){var r=c-c*i;r=r<=150?150:r,u.width(r)}u.redraw()},1)},!0),o(window).on("resize",function(t){e.$apply(function(){e.winwidth=o(window).width()})}),i()}e.$inject=["$scope","$window","$timeout"],angular.module("BlurAdmin.pages.custom").controller("DcBarMonthCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{setData:"="},controller:"DcPieQuarterCtrl",templateUrl:"app/pages/custom/dcPieQuarter/dcPieQuarter.tmpl.html"}}e.$inject=["$timeout"],angular.module("BlurAdmin.pages.custom").directive("dcPieQuarter",e)}(),function(){"use strict";function e(e,t,n){function i(){e.winwidth=o(window).width()}var r=(t.crossfilter,t._,t.d3),a=t.dc,o=t.jQuery,l=this,s=1359,c=200;l.$scope=e;var u=a.pieChart("#pie-quarter");e.winwidth=0,e.clearFilter=function(){n(function(){u.filterAll(),a.redrawAll()},1)};var d=(r.time.format("%m/%d/%Y"),e.setData),p=d,m=p.groupAll(),g=p.dimension(function(e){var t=e.dd.getMonth();return t<=2?"Q1":t>2&&t<=5?"Q2":t>5&&t<=8?"Q3":"Q4"}),f=g.group().reduceCount();u.width(180).height(180).radius(80).innerRadius(30).dimension(g).group(f).label(function(e){if(u.hasFilter()&&!u.hasFilter(e.key))return e.key+"(0%)";var t=e.key;return m.value()&&(t+="("+Math.floor(e.value/m.value()*100)+"%)"),t}),u.render(),e.$on("$destroy",function(){p.remove(),m.dispose(),f.dispose(),g.dispose()}),e.$watch("winwidth",function(e,t){e!==t&&n(function(){var n=e>t,i=Math.abs(e-t)/t;if(e===s)u.width(200);else if(n&&e!==s){var r=c+c*i;r=r>=c?c:r,u.width(r)}else if(!n&&e!==s){var r=c-c*i;r=r<=150?150:r,u.width(r)}u.redraw()},1)},!0),o(window).on("resize",function(t){e.$apply(function(){e.winwidth=o(window).width()})}),i()}e.$inject=["$scope","$window","$timeout"],angular.module("BlurAdmin.pages.custom").controller("DcPieQuarterCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{setData:"="},controller:"DcPieYearCtrl",templateUrl:"app/pages/custom/dcPieYear/dcPieYear.tmpl.html"}}e.$inject=["$timeout"],angular.module("BlurAdmin.pages.custom").directive("dcPieYear",e)}(),function(){"use strict";function e(e,t,n){function i(){e.winwidth=o(window).width()}var r=(t.crossfilter,t._,t.d3),a=t.dc,o=t.jQuery,l=this,s=1359,c=200;l.$scope=e;var u=a.pieChart("#pie-year");e.winwidth=0,e.clearFilter=function(){n(function(){u.filterAll(),a.redrawAll()},1)};var d=(r.time.format("%m/%d/%Y"),e.setData),p=d,m=p.groupAll(),g=p.dimension(function(e){return e.year}),f=g.group().reduceCount();u.width(180).height(180).radius(80).innerRadius(30).dimension(g).group(f).label(function(e){if(u.hasFilter()&&!u.hasFilter(e.key))return e.key+"(0%)";var t=e.key;return m.value()&&(t+="("+Math.floor(e.value/m.value()*100)+"%)"),t}),u.render(),e.$on("$destroy",function(){p.remove(),m.dispose(),f.dispose(),g.dispose()}),e.$watch("winwidth",function(e,t){e!==t&&n(function(){var n=e>t,i=Math.abs(e-t)/t;if(e===s)u.width(200);else if(n&&e!==s){var r=c+c*i;r=r>=c?c:r,u.width(r)}else if(!n&&e!==s){var r=c-c*i;r=r<=150?150:r,u.width(r)}u.redraw()},1)},!0),o(window).on("resize",function(t){e.$apply(function(){e.winwidth=o(window).width()})}),i()}e.$inject=["$scope","$window","$timeout"],angular.module("BlurAdmin.pages.custom").controller("DcPieYearCtrl",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o){function l(){e.opened=!0}var s=this;s.$scope=e;var c=(t.crossfilter,t._),u=t.d3,d=(t.accounting,null),p=0,m=u.time.format("%m/%d/%Y");c.map(n.zData,function(e,t){d=c.filter(n.zClient,["id",e.clientId])[0].regionId,e.clientName=c.filter(n.zClient,["id",e.clientId])[0].code,e.regionName=c.filter(n.zRegion,["id",d])[0].name,e.global="global",e.zDate=m.parse(e.repmonth),p=c.max([p,e.zDate])}),e.zData=n.zData,e.curMonth=p,void 0===o.globals.data&&(o.globals.data=n.zData),e.datePicker={date:{startDate:null,endDate:null,mode:"month"}},e.toOpen=l,e.opened=!1,e.format="yyyy MMM",e.options={maxMode:"month",minMode:"month",mode:"month"},e.$watch("opened",function(e,t,n){if(!e&&!n.curMonth&&e!==t){new Date(n.curMonth);o.curMonth=new Date(n.curMonth),renderXfilter()}},!0)}e.$inject=["$scope","$window","collection","$timeout","metrics","calcUtil","$rootScope"],angular.module("BlurAdmin.pages.dashboards.executive").controller("ExecutiveCtrl",e)}(),function(){"use strict";function e(e,t,n,i){function r(){e.opened=!0}var a=t._,o=this;o.$scope=e,e.collection=n;var l=n.dc.getDimension("dimMonth").group().reduceCount().all();e.curMonth=a.isUndefined(i.globals.filterMonth)?a.max(a.map(l,"key")):i.globals.filterMonth,e.datePicker={date:{startDate:null,endDate:null,mode:"month"}},e.toOpen=r,e.opened=!1,e.format="yyyy MMM",e.options={maxMode:"month",minMode:"month",mode:"month"}}e.$inject=["$scope","$window","collection","$rootScope"],angular.module("BlurAdmin.pages.dashboardv2.executive").controller("Dash2ExecutiveCtrl",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o){var l=this;l.$scope=e,e.metricsTableData=[{image:"app/browsers/chrome.svg",browser:"Google Chrome",visits:"10,392",isVisitsUp:!0,purchases:"4,214",isPurchasesUp:!0,percent:"45%",isPercentUp:!0},{image:"app/browsers/firefox.svg",browser:"Mozilla Firefox",visits:"7,873",isVisitsUp:!0,purchases:"3,031",isPurchasesUp:!1,percent:"28%",isPercentUp:!0},{image:"app/browsers/ie.svg",browser:"Internet Explorer",visits:"5,890",isVisitsUp:!1,purchases:"2,102",isPurchasesUp:!1,percent:"17%",isPercentUp:!1},{image:"app/browsers/safari.svg",browser:"Safari",visits:"4,001",isVisitsUp:!1,purchases:"1,001",isPurchasesUp:!1,percent:"14%",isPercentUp:!0},{image:"app/browsers/opera.svg",browser:"Opera",visits:"1,833",isVisitsUp:!0,purchases:"83",isPurchasesUp:!0,percent:"5%",isPercentUp:!1}]}e.$inject=["$scope","$window","$rootScope","$timeout","metrics","calcUtil","$stateParams"],angular.module("BlurAdmin.pages.drilldown.perKpi").controller("PerKpiCtrl",e)}(),function(){"use strict";function e(e,t){var n=this;n.$scope=e,console.log(t)}angular.module("BlurAdmin.pages.drilldown.perRegion").controller("PerRegionCtrl",e),e.$inject=["$scope","$stateParams"]}(),function(){"use strict";function e(){return{restrict:"E",scope:{selKpi:"=",monthFilter:"=",upctrl:"="},controller:"MiniBlocksCtrl as vmMiniBlocks",templateUrl:"app/pages/drilldownv2/miniBlocks/miniBlocks.tmpl.html"}}angular.module("BlurAdmin.pages.drilldownv2").directive("miniBlocks",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o){function l(){e.toanimate=!0,s.clearTimeout(),s.timeout=s.$timeout(function(){s.clearTimeout(),e.$apply(function(){n.dc.addFilter("dimMonth",function(t){return t.getMonth()===e.monthFilter.getMonth()&&t.getFullYear()===e.monthFilter.getFullYear()}),s.init(),s.$scope.toanimate=!1})},100)}var s=this,c=this;s.$scope=e,s.ndx=t.crossfilter,s._=t._,s.d3=t.d3,s.acc=t.accounting,s.ds=n,s.$timeout=a,s.timeout=null;r.dtx.stdDate;e.monthFilter=o.globals.filterMonth,e.metrics=_.cloneDeep(i.executive),e.regionMetrics=[],e.currentGlobal=[],e.inBoxInfo=[],e.sellKpi=0===e.selKpi.length?"revenue":e.selKpi.metric,c.trendGlobal=_.cloneDeep(n.perGlobal.all()),c.trendRegion=_.cloneDeep(n.perRegion.all()),e.zRegion=n.oneRegion.all(),e.$watch(function(){return o.globals.filterMonth},function(e,t){l()}),e.zBuildSeries=function(t){e.upctrl.$scope.addSeries(t)},e.$watch("selKpi",function(e,t){e!==t&&l()})}angular.module("BlurAdmin.pages.drilldownv2").controller("MiniBlocksCtrl",e),e.prototype.init=function(){var e=this;e.$scope.currentGlobal=e.ds.oneGlobal.all()[0],e.$scope.regionMetrics=e.ds.oneRegion.all();var t=e.prevGlobal();e.clearTimeout(),e.timeout=e.$timeout(function(){e.clearTimeout(),e.updateMetricModel(t),e.updateInbox()},100)},e.prototype.updateInbox=function(){var e=this;e.$scope.inBoxInfo=[];var t=_.filter(e.$scope.metrics,["metric",e.$scope.selKpi.metric])[0];_.forEach(t.regions,function(t,n){var i={name:n,data:t[0],icon:t[1]?"ion-arrow-up-c":"ion-arrow-down-c"};e.$scope.inBoxInfo.push(i)})},e.prototype.prevGlobal=function(){var e=this,t=e.$scope.monthFilter,n=new Date(t);return n.setMonth(t.getMonth()-1),e.trendGlobal[0].value[n.yyyymmm()]},e.prototype.updateMetricModel=function(e){var t=this;return _.map(t.$scope.metrics,function(n){"formatMoney"===n.format?n.global=t.acc.formatMoney(t.$scope.currentGlobal.value[n.field],"$",n.precision):n.global=t.acc.formatNumber(t.$scope.currentGlobal.value[n.field],n.precision,",")+n.misc,n.indicator=e[n.field]>t.$scope.currentGlobal.value[n.field]?"fa-arrow-down slideInDown color-red-light":"fa-arrow-up slideInUp color-lime-dark",n.trendGlobal=t.createArrForTrend(t.trendGlobal[0],n),n.regions=t.groupRegionPerMetric(t.$scope.regionMetrics,n)}),t.$scope.metrics},e.prototype.groupRegionPerMetric=function(e,t){var n=this,i={},r=n.$scope.monthFilter,a=new Date(r);return a.setMonth(r.getMonth()-1),_.forEach(e,function(e,r){var o=n.prevRegion(e.key,a.yyyymmm(),t.field);"formatMoney"===t.format?i[e.key]=[n.acc.formatMoney(e.value[t.field],"$",t.precision),_.gt(e.value[t.field],o)]:i[e.key]=[n.acc.formatNumber(e.value[t.field],t.precision,",")+t.misc,_.gt(e.value[t.field],o)];
}),i},e.prototype.prevRegion=function(e,t,n){var i=this,r="value."+t+"."+n,a=_.filter(i.trendRegion,["key",e])[0];return _.at(a,[r])[0]},e.prototype.createArrForTrend=function(e,t){var n=[];return _.filter(e.value,function(e,i){n.push(e[t.field]<1?_.round(e[t.field],3):_.round(e[t.field],0))}),n},e.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.$timeout.cancel(e.timeout),e.timeout=null)},e.$inject=["$scope","$window","dataService","metrics","calcUtil","$timeout","$rootScope"]}(),function(){"use strict";function e(e,t,n,i,r,a,o,l){function s(){e.opened=!0}function c(e){return function(){a(e).toggle()}}function u(e,t){var n=[],i=[],r=[],a=y(e),o=$(t);return _.forEach(a.value,function(e,t){n.push(t),i.push(e[o.field])}),r.push({id:"csm"+_.lowerCase(a.key),name:_.upperCase(a.key),data:i}),{categories:n,series:r,kpi:o}}function d(t){var n=[],i=y(t);_.forEach(i.value,function(t,i){n.push([i,t[e.kpiSelected.field]])}),e.chartConfig.series.push({name:t,id:"csm"+_.lowerCase(t),data:n,type:"spline"})}var p=this;p.$scope=e;var m=t.dc,g=t.d3,f=t.crossfilter,h=g.time.format("%m/%d/%Y");e.kpiSelected=0===i.kpi.length?_.filter(l.executive,["field","revenue"])[0]:_.filter(l.executive,["field",i.kpi])[0];var b=r.dc.getDimension("dimMonth").group().reduceCount().all();e.curMonth=_.isUndefined(n.globals.filterMonth)?_.max(_.map(b,"key")):n.globals.filterMonth,e.datePicker={date:{startDate:null,endDate:null,mode:"month"}},e.toOpen=s,e.opened=!1,e.format="yyyy MMM",e.options={maxMode:"month",minMode:"month",mode:"month"},e.toggleLeft=c("left"),e.toggleRight=c("right");var v=_.cloneDeep(r.perRegion.all()),w=_.cloneDeep(r.perGlobal.all());e.metrics=l.executive;var y=function(e){var t=_.filter(v,["key",e])[0];return void 0===t?w[0]:t},$=function(e){var t=_.filter(l.executive,["field",e])[0];return void 0===t?_.filter(l.executive,["field","revenue"])[0]:t};e.buildSeries=function(t,n){var i=u(t,n),r=a("right").isOpen();e.chartConfig.series=i.series,e.chartConfig.xAxis.categories=i.categories,e.chartConfig.title.text=i.kpi.metric,r&&a("right").toggle(),o(function(){e.kpiSelected=i.kpi},1e3)},e.addSeries=function(t){var n=e.chartConfig.series,i=_.filter(n,["id","csm"+_.lowerCase(t)])[0];void 0!==i?_.remove(n,function(e){return e.id===i.id}):d(t)},e.altSeries=u(!0,e.kpiSelected.field),e.chartSeries=[{name:"Some data",data:[1,2,4,7,3]},{name:"Some data 3",data:[3,1,null,5,2],connectNulls:!0},{name:"Some data 2",data:[5,2,2,3,5],type:"column"},{name:"My Super Column",data:[1,1,2,3,2],type:"column"}],o(function(){e.chartConfig.series=e.altSeries.series,e.chartConfig.xAxis.categories=e.altSeries.categories},100),e.chartConfig={options:{chart:{type:"column"},plotOptions:{series:{stacking:""}}},xAxis:{categories:null},series:e.chartSeries,title:{text:null},credits:{enabled:!0},loading:!1,size:{},func:function(e){o(function(){e.reflow()},200)}};var M=f(r.dc.configuration.sourceData),x=M.dimension(function(e){return e.region_name}),k=x.group().reduce(r.dc.grpAdd,r.dc.grpRemove,r.dc.grpBase),A=M.dimension(function(e){return e.client_name}),C=A.group().reduce(function(e,t){var n=h.parse(t.repmonth).yyyymmm();return e[n]=e[n]||{},++e[n].count,_.isUndefined(e[n].init)&&(e[n]=r.dc.grpBase(),e[n].init=!0),e[n]=r.dc.grpAdd(e[n],t),e[n].orderMonth=_.sum([h.parse(t.repmonth).getFullYear(),h.parse(t.repmonth).getMonth()]),e},function(e,t){var n=h.parse(t.repmonth).yyyymmm();return e[n]=e[n],--e[n].count,e[n]=r.dc.grpRemove(e[n],t),e[n].orderMonth=_.sum([h.parse(t.repmonth).getFullYear(),h.parse(t.repmonth).getMonth()]),e},function(){return{}});e.$watch("kpiSelected",function(e,t){console.log(e,t)},!0);var S=m.pieChart("#regionPie");S.width(300).height(300).dimension(x).group(k).valueAccessor(function(t){return+t.value[e.kpiSelected.field]}).innerRadius(50),S.render(),console.log(C.all())}angular.module("BlurAdmin.pages.drilldownv2.perKpi").controller("DrillV2KpiCtrl",e),e.$inject=["$scope","$window","$rootScope","$stateParams","dataService","$mdSidenav","$timeout","metrics"]}(),function(){"use strict";function e(e){var t=this;t.$scope=e}e.$inject=["$scope"],angular.module("BlurAdmin.pages.rest").controller("RestOneCtrl",e)}(),!function(e){e.fn.backTop=function(t){var n=this,i=e.extend({position:400,speed:500,color:"white"},t),r=i.position,a=i.speed,o=i.color;n.addClass("white"==o?"white":"red"==o?"red":"green"==o?"green":"black"),n.css({right:40,bottom:40,position:"fixed"}),e(document).scroll(function(){var t=e(window).scrollTop();t>=r?n.fadeIn(a):n.fadeOut(a)}),n.click(function(){e("html, body").animate({scrollTop:0},{duration:1200})})}}(jQuery),function(){"use strict";function e(){return{restrict:"E",scope:{globalData:"="},controller:"GlobalBlock2Ctrl",templateUrl:"app/pages/dashboards/executive/globalBlock/globalBlock.tmpl.html",controllerAs:"vmGlobalBlock2"}}angular.module("BlurAdmin.pages.dashboards.executive").directive("globalBlock2",e)}(),function(){"use strict";function e(e,t,n,i,r,a){var o=this;o.$scope=e,o.ndx=t.crossfilter,o._=t._,o.d3=t.d3,o.acc=t.accounting,o.$timeout=i,o.timeout=null;var l=a.ndx.dimension,s=a.ndx.grpAdd,c=a.ndx.grpRemove,u=a.ndx.grpBase,d=(a.ndx.grpAddWithTrend,a.ndx.grpRemoveWithTrend,a.dtx.stdDate);e.metrics=_.cloneDeep(r.executive),e.regionMetrics=[],e.currentGlobal=[];var p={};p.ndx=o.ndx(e.globalData),p.all=p.ndx.groupAll(),p.dimMonth=p.ndx.dimension(l("repmonth","d")),p.grpMonth=p.dimMonth.group(),p.dimRegion=p.ndx.dimension(l("regionName","s")),p.grpRegion=p.dimRegion.group(),p.fupRegion=p.dimRegion.group().reduce(s,c,u),p.perRegion=p.grpRegion.reduce(function(e,t){var n=d.parse(t.repmonth).yyyymmm();return e[n]=e[n]||{},++e[n].count,_.isUndefined(e[n].init)&&(e[n]=u(),e[n].init=!0),e[n]=s(e[n],t),e[n].orderMonth=_.sum([d.parse(t.repmonth).getFullYear(),d.parse(t.repmonth).getMonth()]),e},function(e,t){var n=d.parse(t.repmonth).yyyymmm();return e[n]=e[n],e[n]=c(e[n],t),e[n].orderMonth=_.sum([d.parse(t.repmonth).getFullYear(),d.parse(t.repmonth).getMonth()]),e},function(){return{}}),p.dimGlobal=p.ndx.dimension(l("global","s")),p.grpGlobal=p.dimGlobal.group(),p.fupGlobal=p.dimGlobal.group().reduce(s,c,u),p.perGlobal=p.grpGlobal.reduce(function(e,t){var n=d.parse(t.repmonth).yyyymmm();return e[n]=e[n]||{},++e[n].count,_.isUndefined(e[n].init)&&(e[n]=u(),e[n].init=!0),e[n]=s(e[n],t),e[n].orderMonth=_.sum([d.parse(t.repmonth).getFullYear(),d.parse(t.repmonth).getMonth()]),e},function(e,t){var n=d.parse(t.repmonth).yyyymmm();return e[n]=e[n],e[n]=c(e[n],t),e[n].orderMonth=_.sum([d.parse(t.repmonth).getFullYear(),d.parse(t.repmonth).getMonth()]),e},function(){return{}}),e.data=o.n=p,e.trendRegionMonth=_.cloneDeep(p.perRegion.all()),e.trendGlobalMonth=_.cloneDeep(p.perGlobal.all()),e.$watch(function(){return e.$parent.curMonth},function(t,i,r){t!==i&&(n.curMonth=e.$parent.curMonth,r.vmGlobalBlock.init())},!0),o.init(),void 0===n.globals.data&&(n.globals.data=e.data),void 0===n.globals.ndx&&(n.globals.ndx=e.data)}angular.module("BlurAdmin.pages.dashboards.executive").controller("GlobalBlock2Ctrl",e),e.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.$timeout.cancel(e.timeout),e.timeout=null)},e.prototype.init=function(){var e=this,t=e.$scope.$parent.curMonth;e.clearTimeout(),e.timeout=e.$timeout(function(){e.clearTimeout(),e.n.dimMonth.filterFunction(function(e){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}),e.updateGlobal()},1)},e.prototype.updateGlobal=function(){var e=this;e.$scope.currentGlobal=e.n.fupGlobal.all()[0],e.$scope.regionMetrics=e.n.fupRegion.all(),e.renderApply()},e.prototype.renderApply=function(){var e=this;e.clearTimeout(),e.timeout=e.$timeout(function(){e.clearTimeout();var t=e.prevGlobal();e.updateMetricModel(t)},100)},e.prototype.updateMetricModel=function(e){var t=this;return _.map(t.$scope.metrics,function(n){"formatMoney"===n.format?n.global=t.acc.formatMoney(t.$scope.currentGlobal.value[n.field],"$",n.precision):n.global=t.acc.formatNumber(t.$scope.currentGlobal.value[n.field],n.precision,",")+n.misc,n.indicator=e[n.field]>t.$scope.currentGlobal.value[n.field]?"fa-arrow-down slideInDown color-red-light":"fa-arrow-up slideInUp color-lime-dark",n.trendGlobal=t.createArrForTrend(t.$scope.trendGlobalMonth[0],n),n.regions=t.groupRegionPerMetric(t.$scope.regionMetrics,n)}),t.$scope.metrics},e.prototype.createArrForTrend=function(e,t){var n=[];return _.filter(e.value,function(e,i){n.push(e[t.field]<1?_.round(e[t.field],3):_.round(e[t.field],0))}),n},e.prototype.groupRegionPerMetric=function(e,t){var n=this,i={},r=n.$scope.$parent.curMonth,a=new Date(r);return a.setMonth(r.getMonth()-1),_.forEach(e,function(e,r){var o=n.prevRegion(e.key,a.yyyymmm(),t.field);"formatMoney"===t.format?i[e.key]=[n.acc.formatMoney(e.value[t.field],"$",t.precision),_.gt(e.value[t.field],o)]:i[e.key]=[n.acc.formatNumber(e.value[t.field],t.precision,",")+t.misc,_.gt(e.value[t.field],o)]}),i},e.prototype.prevRegion=function(e,t,n){var i=this,r="value."+t+"."+n,a=_.filter(i.$scope.trendRegionMonth,["key",e])[0];return _.at(a,[r])[0]},e.prototype.prevGlobal=function(){var e=this,t=e.$scope.$parent.curMonth,n=new Date(t);return n.setMonth(t.getMonth()-1),e.$scope.trendGlobalMonth[0].value[n.yyyymmm()]},e.$inject=["$scope","$window","$rootScope","$timeout","metrics","calcUtil"]}(),function(){"use strict";function e(){return{restrict:"E",scope:{globalData:"="},controller:"MiniBlockCtrl",templateUrl:"app/pages/drilldown/perKpi/miniBlock/miniBlock.tmpl.html"}}angular.module("BlurAdmin.pages.drilldown").directive("miniBlock",e)}(),function(){"use strict";function e(e,t,n,i,r){var a=t._,o=["fa-recycle","fa-eraser","fa-file-movie-o","fa-bar-chart-o","fa-camera-retro","fa-table","fa-coffee","fa-flag","fa-life-ring","fa-ban","fa-mobile-phone","fa-bookmark-o","fa-wheelchair","fa-thumbs-up","fa-keyboard-o","fa-expand","fa-weixin","fa-leanpub","fa-quote-left","fa-bicycle"],l=["APAC","EMEA","North America","LATAM"];e.forInfoBox=[],e.state=r;var s=a.cloneDeep(o);a.forEach(l,function(t){var n=a.sample(s);e.forInfoBox.push({name:t,data:a.random(10,1e3),icon:n}),a.remove(s,function(e){return e===n})}),e.curMonth=n.curMonth}e.$inject=["$scope","$window","$rootScope","$timeout","$stateParams"],angular.module("BlurAdmin.pages.drilldown").controller("MiniBlockCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{globalData:"=",monthFilter:"="},controller:"GlobalBlockCtrl",templateUrl:"app/pages/dashboardv2/executive/globalBlock/globalBlock.tmpl.html",controllerAs:"vmGlobalBlock"}}angular.module("BlurAdmin.pages.dashboardv2.executive").directive("globalBlock",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o){var l=this,s=this;l.$scope=e,l.ndx=t.crossfilter,l._=t._,l.d3=t.d3,l.acc=t.accounting,l.ds=o,l.$timeout=i,l.timeout=null;a.dtx.stdDate;e.metrics=_.cloneDeep(r.executive),e.regionMetrics=[],e.currentGlobal=[],e.zRegion="asd",s.trendGlobal=_.cloneDeep(o.perGlobal.all()),s.trendRegion=_.cloneDeep(o.perRegion.all()),e.zData=o.oneRegion.all(),e.$watch("monthFilter",function(t,n,r){_.isDate(t)&&!_.isUndefined(t)&&i(function(){e.$apply(function(){o.dc.addFilter("dimMonth",function(t){return t.getMonth()===e.monthFilter.getMonth()&&t.getFullYear()===e.monthFilter.getFullYear()}),l.init()})},100)})}angular.module("BlurAdmin.pages.dashboardv2.executive").controller("GlobalBlockCtrl",e),e.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.$timeout.cancel(e.timeout),e.timeout=null)},e.prototype.init=function(){var e=this;e.$scope.currentGlobal=e.ds.oneGlobal.all()[0],e.$scope.regionMetrics=e.ds.oneRegion.all();var t=e.prevGlobal();e.clearTimeout(),e.timeout=e.$timeout(function(){e.clearTimeout(),e.updateMetricModel(t)},100)},e.prototype.updateGlobal=function(){var e=this;e.$scope.currentGlobal=e.n.fupGlobal.all()[0],e.$scope.regionMetrics=e.n.fupRegion.all(),e.renderApply()},e.prototype.renderApply=function(){var e=this;e.clearTimeout(),e.timeout=e.$timeout(function(){e.clearTimeout();var t=e.prevGlobal();e.updateMetricModel(t)},100)},e.prototype.updateMetricModel=function(e){var t=this;return _.map(t.$scope.metrics,function(n){"formatMoney"===n.format?n.global=t.acc.formatMoney(t.$scope.currentGlobal.value[n.field],"$",n.precision):n.global=t.acc.formatNumber(t.$scope.currentGlobal.value[n.field],n.precision,",")+n.misc,n.indicator=e[n.field]>t.$scope.currentGlobal.value[n.field]?"fa-arrow-down slideInDown color-red-light":"fa-arrow-up slideInUp color-lime-dark",n.trendGlobal=t.createArrForTrend(t.trendGlobal[0],n),n.regions=t.groupRegionPerMetric(t.$scope.regionMetrics,n)}),t.$scope.metrics},e.prototype.createArrForTrend=function(e,t){var n=[];return _.filter(e.value,function(e,i){n.push(e[t.field]<1?_.round(e[t.field],3):_.round(e[t.field],0))}),n},e.prototype.groupRegionPerMetric=function(e,t){var n=this,i={},r=n.$scope.monthFilter,a=new Date(r);return a.setMonth(r.getMonth()-1),_.forEach(e,function(e,r){var o=n.prevRegion(e.key,a.yyyymmm(),t.field);"formatMoney"===t.format?i[e.key]=[n.acc.formatMoney(e.value[t.field],"$",t.precision),_.gt(e.value[t.field],o)]:i[e.key]=[n.acc.formatNumber(e.value[t.field],t.precision,",")+t.misc,_.gt(e.value[t.field],o)]}),i},e.prototype.prevRegion=function(e,t,n){var i=this,r="value."+t+"."+n,a=_.filter(i.trendRegion,["key",e])[0];return _.at(a,[r])[0]},e.prototype.prevGlobal=function(){var e=this,t=e.$scope.monthFilter,n=new Date(t);return n.setMonth(t.getMonth()-1),e.trendGlobal[0].value[n.yyyymmm()]},e.$inject=["$scope","$window","$rootScope","$timeout","metrics","calcUtil","dataService"]}(),angular.module("BlurAdmin").run(["$templateCache",function(e){e.put("app/pages/custom/custom.html",'<section class="animated zoomIn"><div class="row"><dc-pie-year set-data="collection"></dc-pie-year><dc-pie-quarter set-data="collection"></dc-pie-quarter></div></section>'),e.put("app/pages/rest/mdtable.tmpl.html",'<div class="panel-body panel-default table-responsive"><table id="tblone" class="table table-hover table-condensed" md-colresize="md-colresize"><thead><tr class="md-table-headers-row header black-muted-bg"><th class="md-table-header" ng-repeat="h in headers"><a href="#" ng-if="handleSort(h.field)" ng-click="reverse=!reverse;order(h.field,reverse)">{{h.name}} <i class="ion-android-arrow-dropup" ng-show="reverse &amp;&amp; h.field == predicate"></i><i class="ion-android-arrow-dropdown" ng-show="!reverse &amp;&amp; h.field == predicate"></i></a><span ng-if="!handleSort(h.field)">{{h.name}}</span></th><th class="md-table-header"></th></tr></thead><tbody><tr class="md-table-content-row" ng-repeat="c in content | filter:filters | startFrom:tablePage*count | limitTo: count"><td><div class="md-table-thumbs" ng-repeat="h in headers" ng-if="h.field == thumbs"><div style="background-image:url({{c.thumb}})"></div></div></td><td class="md-table-content" ng-repeat="h in headers" ng-class="customClass[h.field]" ng-if="h.field != thumbs">{{(h.field.indexOf(\'date\') > 0) ? $filter(\'date\')(c[h.field]) : c[h.field];}}</td><td class="md-table-td-more"><md-button aria-label="Info"><i class="ion-android-more-vertical"></i></md-button></td></tr></tbody></table></div>'),e.put("app/pages/rest/rest.html",'<section class="panel-primary animated zoomIn"><div class="container-fluid no-padding"><div id="grid1" ui-grid="gridOptions" ui-grid-pagination="" ui-grid-resize-columns="" ui-grid-pinning="" ui-grid-move-columns="" ui-grid-grouping="" class="grid"></div><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h4 flex="" md-truncate="">Current page: {{ gridApi.pagination.getPage() }} of {{ gridApi.pagination.getTotalPages() }}</h4><md-button class="md-raised md-accent md-hue-2" ng-click="gridApi.pagination.previousPage()"><md-icon class="ion-chevron-left" style="line-height:24px;font-size:24px"></md-icon></md-button><md-button class="md-raised md-accent md-hue-2" ng-click="gridApi.pagination.nextPage()"><md-icon class="ion-chevron-right" style="line-height:24px;font-size:24px"></md-icon></md-button></div></md-toolbar></div></section>'),e.put("app/pages/dashboards/executive/executive.html",'<div class="row"><div class="col-xlg-6 col-md-12 col-sm-6"><p class="input-group"><span class="input-group-btn"><button ng-click="toOpen()" class="btn btn-primary pull-right btn-daterange" id="daterange-btn"><span ng-if="!curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> Select Month Coverage <i class="fa fa-caret-down fa-fw"></i></span> <span ng-if="curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> {{curMonth | date:\'yyyy MMM\' }} <i class="fa fa-caret-down fa-fw"></i></span></button></span> <input type="text" class="hide form-control inp-daterange" uib-datepicker-popup="{{format}}" datepicker-options="options" ng-model="curMonth" is-open="opened" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false"></p></div></div><div class="row"><div class="col-md-12"><global-block global-data="zData"></global-block></div></div>'),e.put("app/pages/custom/dcBarMonth/dcBarMonth.tmpl.html",'<div id="bar-month" class="dc-chart"><span class="md-body-2">Records by Months</span> <a href="#" ng-click="clearFilter()" class="reset" style="display: none;">reset</a><div class="clearfix"></div></div>'),e.put("app/pages/custom/dcPieQuarter/dcPieQuarter.tmpl.html",'<div id="pie-quarter" class="dc-chart"><span class="md-body-2">Records by Quarter</span> <a href="#" ng-click="clearFilter()" class="reset" style="display: none;">reset</a><div class="clearfix"></div></div>'),e.put("app/pages/custom/dcPieYear/dcPieYear.tmpl.html",'<div id="pie-year" class="dc-chart"><span class="md-body-2">Records by Year</span> <a href="#" ng-click="clearFilter()" class="reset" style="display: none;">reset</a><div class="clearfix"></div></div>'),e.put("app/pages/drilldown/perKpi/perKpi.html",'<div class="row"><div class="col-xlg-6 col-md-12 col-sm-6"><p class="input-group"><span class="input-group-btn"><button ng-click="toOpen()" class="btn btn-primary pull-right btn-daterange" id="daterange-btn"><span ng-if="!curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> Select Month Coverage <i class="fa fa-caret-down fa-fw"></i></span> <span ng-if="curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> {{curMonth | date:\'yyyy MMM\' }} <i class="fa fa-caret-down fa-fw"></i></span></button></span> <input type="text" class="hide form-control inp-daterange" uib-datepicker-popup="{{format}}" datepicker-options="options" ng-model="curMonth" is-open="opened" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false"></p></div></div><mini-block global-data="data"></mini-block><div class="row"><div class="col-md-12" ba-panel="" ba-panel-title="KPI1"><div class="row"><div class="col-md-8" ba-panel="" ba-panel-class="with-scroll"><div class="chartjs-canvas-holder-third-row"><canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" chart-click="changeData"></canvas></div></div><div class="col-md-4"><div class="horizontal-scroll"><button class="btn">KPI</button> <button class="btn">KPI1</button> <button class="btn">KPI3</button> <button class="btn">asdasg</button> <button class="btn">rsrhr</button></div></div></div></div><div class="col-md-12" ba-panel="" ba-panel-title="Detailed Projects"><div class="row"><div class="col-md-8" ba-panel="" ba-panel-class="with-scroll"><div class="chartjs-canvas-holder-third-row"><canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" chart-click="changeData"></canvas></div></div></div></div><div class="row"><div class="col-md-12"><div class="horizontal-scroll"><table class="table table-hover"><thead><tr class="black-muted-bg"><th class="browser-icons"></th><th>Browser</th><th class="align-right">Visits</th><th class="table-arr"></th><th class="align-right">Purchases</th><th class="table-arr"></th><th class="align-right">%</th><th class="table-arr"></th></tr></thead><tbody><tr ng-repeat="item in metricsTableData" class="no-top-border"><td><img ng-src="{{::( item.image | appImage )}}" width="20" height="20"></td><td ng-class="nowrap">{{item.browser}}</td><td class="align-right">{{item.visits}}</td><td class="table-arr"><i ng-class="{\'icon-up\': item.isVisitsUp, \'icon-down\': !item.isVisitsUp }"></i></td><td class="align-right">{{item.purchases}}</td><td class="table-arr"><i ng-class="{\'icon-up\': item.isPurchasesUp, \'icon-down\': !item.isPurchasesUp }"></i></td><td class="align-right">{{item.percent}}</td><td class="table-arr"><i ng-class="{\'icon-up\': item.isPercentUp, \'icon-down\': !item.isPercentUp }"></i></td></tr></tbody></table></div></div></div></div>'),e.put("app/pages/drilldown/perRegion/perRegion.html","<h3>hey.... got to think i am the</h3><br><h2>per Region page....</h2>"),e.put("app/pages/drilldownv2/miniBlocks/miniBlocks.tmpl.html",'<div class="col-md-3 col-sm-6 col-xs-12 animated boxitem" ng-repeat="blk in inBoxInfo"><div class="info-box green-soft-bg"><span class="info-box-icon"><i class="fa {{blk.icon}}"></i></span><div class="info-box-content"><span class="info-box-text md-title" ng-click="zBuildSeries(blk.name)">{{ blk.name }}</span> <span class="info-box-number md-subhead">{{ blk.data }}</span></div></div></div>'),e.put("app/pages/drilldownv2/perKpi/perKpi.html",'<div class="row"><div class="col-xs-6"><p class="input-group"><span class="input-group-btn"><button ng-click="toOpen()" class="btn btn-primary pull-right btn-daterange" id="daterange-btn"><span ng-if="!curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> Select Month Coverage <i class="fa fa-caret-down fa-fw"></i></span> <span ng-if="curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> {{curMonth | date:\'yyyy MMM\' }} <i class="fa fa-caret-down fa-fw"></i></span></button></span> <input type="text" class="hide form-control inp-daterange" uib-datepicker-popup="{{format}}" datepicker-options="options" ng-model="curMonth" is-open="opened" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false"></p></div><div class="col-xs-6"><div class="pull-right"><div class="md-whiteframe-4dp layout-align-center-center metric-label"><span class="md-subhead">{{ kpiSelected.metric }}</span></div></div></div></div><div class="row"><div ba-panel="" ba-panel-class="clearfix panel-transparent" class="col-md-12"><mini-blocks sel-kpi="kpiSelected" month-filter="curMonth" upctrl="vmDrillv2Kpi"></mini-blocks></div></div><div class="row"><div ba-panel="" ba-panel-class="clearfix panle-transparent" class="col-md-12"><md-sidenav class="md-sidenav-right" md-component-id="right" md-whiteframe="8"><md-toolbar class="md-theme-indigo"><h3 class="md-toolbar-tools">Metrics</h3></md-toolbar><md-content layout="column" layout-align="center start"><p>Select a metric to view trend.</p><div flex="" ng-repeat="m in metrics"><md-button ng-click="buildSeries(true, m.field)" class="md-accent md-raised md-hue-3">{{m.metric}}</md-button></div></md-content></md-sidenav><md-whiteframe class="md-whiteframe-4dp visual-block" flex="" layout="" layout-align="center center"><div class="toggler" layout="row" layout-align="end start"><md-button class="md-fab md-fab-top-right md-mini md-warn" ng-click="toggleRight()"><md-icon><i class="fa fa-navicon" style="display:block; line-height: 24px;"></i></md-icon></md-button></div><div class="toggler-content hc-container" layout="row"><highchart id="chart1" config="chartConfig" width="100%;"></highchart></div></md-whiteframe></div></div>'),e.put("app/pages/dashboardv2/executive/executive.html",'<div class="row"><div class="col-xlg-6 col-md-12 col-sm-6"><p class="input-group"><span class="input-group-btn"><button ng-click="toOpen()" class="btn btn-primary pull-right btn-daterange" id="daterange-btn"><span ng-if="!curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> Select Month Coverage <i class="fa fa-caret-down fa-fw"></i></span> <span ng-if="curMonth" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> {{curMonth | date:\'yyyy MMM\' }} <i class="fa fa-caret-down fa-fw"></i></span></button></span> <input type="text" class="hide form-control inp-daterange" uib-datepicker-popup="{{format}}" datepicker-options="options" ng-model="curMonth" is-open="opened" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false"></p></div></div><div class="row"><div ba-panel="" ba-panel-class="panel-transparent" class="col-md-12"><global-block global-data="collection" month-filter="curMonth"></global-block></div></div>'),e.put("app/pages/rest/restone/restone.html","<p>content of restone</p>"),e.put("app/theme/components/backTop/backTop.html",'<i class="fa fa-angle-up back-top" id="backTop" title="Back to Top"></i>'),e.put("app/theme/components/baSidebar/ba-sidebar.html",'<aside class="al-sidebar" ng-swipe-right="$baSidebarService.setMenuCollapsed(false)" ng-swipe-left="$baSidebarService.setMenuCollapsed(true)" ng-mouseleave="hoverElemTop=selectElemTop"><ul class="al-sidebar-list" slimscroll="{height: \'{{menuHeight}}px\'}" slimscroll-watch="menuHeight"><li ng-repeat="item in ::menuItems" class="al-sidebar-list-item" ng-class="::{\'with-sub-menu\': item.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="item"><a ng-mouseenter="hoverItem($event, item)" ui-state="item.stateRef || \'\'" ng-href="{{::(item.fixedHref ? item.fixedHref: \'\')}}" ng-if="::!item.subMenu" class="al-sidebar-list-link"><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter="hoverItem($event, item)" ng-if="::item.subMenu" class="al-sidebar-list-link" ba-ui-sref-toggler=""><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span> <b class="fa fa-angle-down" ui-sref-active="fa-angle-up" ng-if="::item.subMenu"></b></a><ul ng-if="::item.subMenu" class="al-sidebar-sublist" ng-class="{\'slide-right\': item.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-repeat="subitem in ::item.subMenu" ng-class="::{\'with-sub-menu\': subitem.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="subitem" class="ba-sidebar-sublist-item"><a ng-mouseenter="hoverItem($event, item)" ng-if="::subitem.subMenu" ba-ui-sref-toggler="" class="al-sidebar-list-link subitem-submenu-link"><span>{{ ::subitem.title }}</span> <b class="fa" ng-class="{\'fa-angle-up\': subitem.expanded, \'fa-angle-down\': !subitem.expanded}" ng-if="::subitem.subMenu"></b></a><ul ng-if="::subitem.subMenu" class="al-sidebar-sublist subitem-submenu-list" ng-class="{expanded: subitem.expanded, \'slide-right\': subitem.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-mouseenter="hoverItem($event, item)" ng-repeat="subSubitem in ::subitem.subMenu" ui-sref-active="selected"><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::subSubitem.disabled" class="al-sidebar-list-link">{{ ::subSubitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" ui-state="subSubitem.stateRef || \'\'" ng-if="::!subSubitem.disabled" ng-href="{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \'\')}}">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::(!subitem.subMenu && subitem.disabled)" class="al-sidebar-list-link">{{ ::subitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" target="{{::(subitem.blank ? \'_blank\' : \'_self\')}}" ng-if="::(!subitem.subMenu && !subitem.disabled)" ui-state="subitem.stateRef || \'\'" ng-href="{{::(subitem.fixedHref ? subitem.fixedHref: \'\')}}">{{ ::subitem.title}}</a></li></ul></li></ul><div class="sidebar-hover-elem" ng-style="{top: hoverElemTop + \'px\', height: hoverElemHeight + \'px\'}" ng-class="{\'show-hover-elem\': showHoverElem }"></div></aside>'),e.put("app/theme/components/baWizard/baWizard.html",'<div class="ba-wizard"><div class="ba-wizard-navigation-container"><div ng-repeat="t in $baWizardController.tabs" class="ba-wizard-navigation {{$baWizardController.tabNum == $index ? \'active\' : \'\'}}" ng-click="$baWizardController.selectTab($index)">{{t.title}}</div></div><div class="progress ba-wizard-progress"><div class="progress-bar progress-bar-danger active" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{width: $baWizardController.progress + \'%\'}"></div></div><div class="steps" ng-transclude=""></div><nav><ul class="pager ba-wizard-pager"><li class="previous"><button ng-disabled="$baWizardController.isFirstTab()" ng-click="$baWizardController.previousTab()" type="button" class="btn btn-primary"><span aria-hidden="true">&larr;</span> previous</button></li><li class="next"><button ng-disabled="$baWizardController.isLastTab()" ng-click="$baWizardController.nextTab()" type="button" class="btn btn-primary">next <span aria-hidden="true">&rarr;</span></button></li></ul></nav></div>'),e.put("app/theme/components/baWizard/baWizardStep.html",'<section ng-show="selected" class="step" ng-transclude=""></section>'),e.put("app/theme/components/contentTop/contentTop.html",'<div class="content-top clearfix"><h1 class="al-title">{{ activePageTitle }}</h1><ul class="breadcrumb al-breadcrumb"><li><a href="#/dashboard">Home</a></li><li>{{ activePageTitle }}</li></ul></div>'),e.put("app/theme/components/msgCenter/msgCenter.html",'<ul class="al-msg-center clearfix"><li uib-dropdown=""><a href="" uib-dropdown-toggle=""><i class="fa fa-bell-o"></i><span>5</span><div class="notification-ring"></div></a><div uib-dropdown-menu="" class="top-dropdown-menu"><i class="dropdown-arr"></i><div class="header clearfix"><strong>Notifications</strong> <a href="">Mark All as Read</a> <a href="">Settings</a></div><div class="msg-list"><a href="" class="clearfix" ng-repeat="msg in notifications"><div class="img-area"><img ng-class="{\'photo-msg-item\' : !msg.image}" ng-src="{{::( msg.image || (users[msg.userId].name | profilePicture) )}}"></div><div class="msg-area"><div ng-bind-html="getMessage(msg)"></div><span>{{ msg.time }}</span></div></a></div><a href="">See all notifications</a></div></li><li uib-dropdown=""><a href="" class="msg" uib-dropdown-toggle=""><i class="fa fa-envelope-o"></i><span>5</span><div class="notification-ring"></div></a><div uib-dropdown-menu="" class="top-dropdown-menu"><i class="dropdown-arr"></i><div class="header clearfix"><strong>Messages</strong> <a href="">Mark All as Read</a> <a href="">Settings</a></div><div class="msg-list"><a href="" class="clearfix" ng-repeat="msg in messages"><div class="img-area"><img class="photo-msg-item" ng-src="{{::( users[msg.userId].name | profilePicture )}}"></div><div class="msg-area"><div>{{ msg.text }}</div><span>{{ msg.time }}</span></div></a></div><a href="">See all messages</a></div></li></ul>'),e.put("app/theme/components/pageTop/pageTop.html",'<div class="page-top clearfix" scroll-position="scrolled" max-height="50" ng-class="{\'scrolled\': scrolled}"><a href="#/dashboard" class="al-logo clearfix"><span>Stefanini</span></a> <a href="" class="collapse-menu-link ion-navicon" ba-sidebar-toggle-menu=""></a><div class="pull-left"><span class="al-subname" ng-if="$baSidebarService.isMenuCollapsed()">KPI</span> <span class="al-subname" ng-if="!$baSidebarService.isMenuCollapsed()">Key Performance Indicators</span></div><div class="user-profile clearfix"><div class="al-user-profile"><img ng-src="{{::( \'stefLogo\' | profilePicture )}}"></div></div></div>'),e.put("app/theme/components/progressBarRound/progressBarRound.html",'<svg class="center-block progress-bar-round" width="200" height="200"><circle cx="100" cy="100" r="90" fill="none" stroke="#F8F8FF" stroke-width="8"></circle><circle cx="100" cy="100" r="90" fill="none" id="loader" class="" stroke="#209e91" stroke-width="8" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" stroke-linecap="round"></circle><text text-anchor="middle" class="loading" x="100" y="90">Loading...</text><text class="percentage" text-anchor="middle" x="100" y="130">{{progress}}%</text></svg>'),
e.put("app/theme/components/widgets/widgets.html",'<div class="widgets"><div ng-repeat="widgetBlock in ngModel" ng-class="{\'row\': widgetBlock.widgets.length > 1}"><div ng-repeat="widgetCol in widgetBlock.widgets" ng-class="{\'col-md-6\': widgetBlock.widgets.length === 2}" ng-model="widgetCol" class="widgets-block"><div ba-panel="" ba-panel-title="{{::widget.title}}" ng-repeat="widget in widgetCol" ba-panel-class="with-scroll {{widget.panelClass}}"><div ng-include="widget.url"></div></div></div></div></div>'),e.put("app/theme/inputs/baSwitcher/baSwitcher.html",'<label class="switcher-container"><input type="checkbox" ng-model="switcherValue"><div class="switcher" ng-class="::switcherStyle"><div class="handle-container"><span class="handle handle-on">ON</span> <span class="handle"></span> <span class="handle handle-off">OFF</span></div></div></label>'),e.put("app/pages/dashboards/executive/globalBlock/globalBlock.tmpl.html",'<div class="gb-widget white-bg" ng-repeat="m in metrics"><div class="gb-widget-icon gb-widget-icon-top bg-green-light to-left"><div class="layout-row layout-align-space-between-center"><div class="col-xs-7 col-sm-4 l-pad-20"><a class="main-title bold" ui-sref-active="active" ui-sref="drilldown.perKpi({kpi: m.field})">{{ m.metric }}</a></div><div class="col-xs-4 col-sm-4 to-center show-768 no-pad"><div class="spark-chart"><span class="animated fadeIn" jq-spark="" data="m.trendGlobal" ng-model="m.trendGlobal" opts="{{ {width:\'auto\'} }}"></span></div></div><div class="col-xs-5 col-sm-4 to-right"><span class="md-headline bold animated fadeIn">{{ m.global }} <i class="fa hidden-xs animated {{m.indicator}}"></i></span></div></div></div><div class="gb-widget-content to-center"><div class="row"><div class="reg-box col-md-3 col-sm-3 col-xs-6" ng-repeat="(reg, va) in m.regions"><span class="md-subhead animated">{{ va[0] }} <i class="animated fa" ng-class="{\'fa-arrow-up slideInUp color-lime-dark\':va[1], \'fa-arrow-down slideInDown color-red-light\':!va[1]}"></i></span><h4 class="bold">{{ reg }}</h4></div></div></div></div>'),e.put("app/pages/drilldown/perKpi/miniBlock/miniBlock.tmpl.html",'<div class="col-md-3 col-sm-6 col-xs-12" ng-repeat="blk in inBox"><div class="info-box green-soft-bg"><span class="info-box-icon"><i class="fa {{blk.icon}}"></i></span><div class="info-box-content"><span class="info-box-text">{{ blk.key }}</span> <span class="info-box-number">{{ blk.value[state.kpi] }}</span></div></div></div>'),e.put("app/pages/dashboardv2/executive/globalBlock/globalBlock.tmpl.html",'<div class="gb-widget white-bg" ng-repeat="m in metrics"><div class="gb-widget-icon gb-widget-icon-top bg-green-light to-left"><div class="layout-row layout-align-space-between-center"><div class="col-xs-7 col-sm-4 l-pad-20"><a class="main-title bold" ui-sref-active="active" ui-sref="drilldown2.perKpi({kpi: m.field})">{{ m.metric }}</a></div><div class="col-xs-4 col-sm-4 to-center show-768 no-pad"><div class="spark-chart"><span class="animated fadeIn" jq-spark="" data="m.trendGlobal" ng-model="m.trendGlobal" opts="{{ {width:\'auto\'} }}"></span></div></div><div class="col-xs-5 col-sm-4 to-right"><span class="md-headline bold animated fadeIn">{{ m.global }} <i class="fa hidden-xs animated {{m.indicator}}"></i></span></div></div></div><div class="gb-widget-content to-center"><div class="row"><div class="reg-box col-md-3 col-sm-3 col-xs-6" ng-repeat="(reg, va) in m.regions"><span class="md-subhead animated">{{ va[0] }} <i class="animated fa" ng-class="{\'fa-arrow-up slideInUp color-lime-dark\':va[1], \'fa-arrow-down slideInDown color-red-light\':!va[1]}"></i></span><h4 class="bold">{{ reg }}</h4></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-90e21a036f.js.map
