/**
 * @author rykn0wxx
 * created on 31 01 2017
 */
!function(){"use strict";function e(e,t){e.otherwise("/dashboard")}function t(e,t){var n=t.colors;e.setOptions({responsive:!0,maintainAspectRatio:!1,animation:{duration:1e3},scale:{gridLines:{color:n.border},scaleLabel:{display:!1}}}),e.setOptions("line",{datasetFill:!1}),e.setOptions("bar",{tooltips:{enabled:!1}})}e.$inject=["$urlRouterProvider","baSidebarServiceProvider"],t.$inject=["ChartJsProvider","baConfigProvider"],angular.module("BlurAdmin.pages",["ui.router","chart.js","BlurAdmin.pages.init","BlurAdmin.pages.dashboard","BlurAdmin.pages.version"]).config(e).config(t)}(),function(){"use strict";angular.module("BlurAdmin.theme",["toastr","chart.js","angular-chartist","angular.morris-chart","textAngular","BlurAdmin.theme.components","BlurAdmin.theme.inputs"])}(),function(){"use strict";function e(e){e.state("dashboard",{url:"/dashboard",template:'<div ui-view="" autoscroll="true" autoscroll-body-top="></div>',title:"Executive KPI",sidebarMeta:{icon:"ion-android-home",order:0},resolve:{collection:["urlUtil","$q",function(e,t){var n=e.getJson("clients"),i=e.getJson("regions"),r=e.getJson("rawexecs"),a=t.all({zClient:n,zRegion:i,zData:r}).then(function(e){return e});return a}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.dashboard",[]).config(e)}(),function(){"use strict";function e(e){e.state("init",{url:"/init",templateUrl:"app/pages/init/init.html",controller:"InitPageCtrl",title:"Configuration"})}function t(e,t,n,i,r){e.globals=n.get("globals")||{},e.globals.isLogedIn=!1,!e.globals.currentUser,e.$on("$locationChangeStart",function(n,i,r){"/init"!==t.path()&&!e.globals.currentUser}),e.$on("$stateChangeStart",function(t,n,i,r,a){"/init"!==n.url&&!e.globals.currentUser}),e.globals={isLoggedIn:!0,currentUser:!0}}function n(e,t,n,i,r,a,o,s){function l(){var t=a.defer();return i({method:"GET",url:"http://"+e.apipath+"/regions",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}).then(function(e){t.resolve(e)}),t.promise}e.apistatus="offline",e.apipath="localhost:3000",e.curUser=null,e.conCon=function(){l().then(function(n){e.apistatus=200===n.status?"online":"offline",angular.element(".box-mail").addClass("issent"),o(function(){200===n.status?(t.globals={isLoggedIn:!0,currentUser:!0},e.curUser=t.globals.currentUser,s.path("/dashboard")):angular.element(".box-mail").removeClass("issent")},1800)})}}e.$inject=["$stateProvider"],t.$inject=["$rootScope","$location","$cookies","$http","$state"],n.$inject=["$scope","$rootScope","$cookieStore","$http","$state","$q","$timeout","$location"],angular.module("BlurAdmin.pages.init",["ngCookies"]).config(e).run(t).controller("InitPageCtrl",n)}(),function(){"use strict";function e(e){e.state("trending",{url:"/trending",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0,title:"Trending",sidebarMeta:{icon:"ion-android-laptop",order:200},resolve:{collection:["urlUtil","$q",function(e,t){var n=e.getJson("clients"),i=e.getJson("regions"),r=e.getJson("rawexecs"),a=t.all({zClient:n,zRegion:i,zData:r}).then(function(e){return e});return a}]}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.version",["BlurAdmin.pages.version.executive"]).config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme.components",[])}(),function(){"use strict";angular.module("BlurAdmin.theme.inputs",[])}(),function(){"use strict";function e(e){e.state("trending.executive",{url:"/executive",templateUrl:"app/pages/version/executive/executive.html",title:"Executive",sidebarMeta:{order:0},resolve:{collection:["urlUtil","$q",function(e,t){var n=e.getJson("clients"),i=e.getJson("regions"),r=e.getJson("rawexecs"),a=t.all({zClient:n,zRegion:i,zData:r}).then(function(e){return e});return a}]}}).state("trending.executive.kpi",{url:"/{type}",templateUrl:"app/pages/version/executive/currentPerformance/currentKpi.html",controller:"CurrentKpiCtrl",title:"KPI"})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.pages.version.executive",[]).config(e)}(),angular.module("BlurAdmin",["ngAnimate","ui.bootstrap","ui.sortable","ui.router","ngTouch","toastr","smart-table","xeditable","ui.slimscroll","ngJsTree","angular-progress-button-styles","ui.knob","daterangepicker","BlurAdmin.theme","BlurAdmin.pages"]),function(){"use strict";function e(e,t,n){function i(e){var t=[],n=new Date;return a.forEach(e,function(e,i){var o={};a.map(e,function(e,t){t.indexOf("month")!==-1?(n=new Date(86400*(e-25568)*1e3-72e6),o[a.camelCase(t)]=r.time.month(n)):o[a.camelCase(t)]=e}),t.push(o)}),t}var r=n.d3,a=n._;return{getJson:function(n){if(a.isUndefined(n))return[];var r=e.defer();return t({method:"GET",url:"http://localhost:3000/"+n,headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}).then(function(e){r.resolve(i(e.data))}),r.promise}}}e.$inject=["$q","$http","$window"],angular.module("BlurAdmin.pages").factory("urlUtil",e)}(),function(){"use strict";function e(e,n,i){i.decorator("$uiViewScroll",t)}function t(e,t,n){return function(i){n.hasAttr(i,"autoscroll-body-top")?t():e(i)}}e.$inject=["baConfigProvider","colorHelper","$provide"],t.$inject=["$delegate","$anchorScroll","baUtil"],angular.module("BlurAdmin.theme").config(e)}(),function(){"use strict";function e(e){var r={theme:{blur:!1},colors:{default:t.default,defaultText:t.defaultText,border:t.border,borderDark:t.borderDark,primary:n.primary,info:n.info,success:n.success,warning:n.warning,danger:n.danger,primaryLight:e.tint(n.primary,30),infoLight:e.tint(n.info,30),successLight:e.tint(n.success,30),warningLight:e.tint(n.warning,30),dangerLight:e.tint(n.danger,30),primaryDark:e.shade(n.primary,15),infoDark:e.shade(n.info,15),successDark:e.shade(n.success,15),warningDark:e.shade(n.warning,15),dangerDark:e.shade(n.danger,15),dashboard:{blueStone:i.blueStone,surfieGreen:i.surfieGreen,silverTree:i.silverTree,gossip:i.gossip,white:i.white}}};return r.changeTheme=function(e){angular.merge(r.theme,e)},r.changeColors=function(e){angular.merge(r.colors,e)},r.$get=function(){return delete r.$get,r},r}e.$inject=["colorHelper"];var t={default:"#ffffff",defaultText:"#666666",border:"#dddddd",borderDark:"#aaaaaa"},n={primary:"#005eb8",info:"#0262bb",success:"#00a378",warning:"#a34f00",danger:"#c81a14"},i={blueStone:"#005562",surfieGreen:"#0e8174",silverTree:"#6eba8c",gossip:"#b9f2a1",white:"#10c4b5"};angular.module("BlurAdmin.theme").provider("baConfig",e)}(),function(){"use strict";function e(e,t,n){function i(e){return e.toString(16)}function r(e){return parseInt(e,16)}for(var a="#",o=1;o<7;o+=2){var s=r(e.substr(o,2)),l=r(t.substr(o,2)),u=i(Math.floor(l+(s-l)*(n/100)));a+=("0"+u).slice(-2)}return a}var t="assets/img/";angular.module("BlurAdmin.theme").constant("layoutSizes",{resWidthCollapseSidebar:1200,resWidthHideSidebar:500}).constant("layoutPaths",{images:{root:t,profile:t+"app/profile/",amMap:"assets/img/theme/vendor/ammap//dist/ammap/images/",amChart:"assets/img/theme/vendor/amcharts/dist/amcharts/images/"}}).constant("colorHelper",{tint:function(t,n){return e("#ffffff",t,n)},shade:function(t,n){return e("#000000",t,n)}})}(),function(){"use strict";function e(e,t,n,i,r,a,o){var s=[i.loadAmCharts(),e(1e3)],l=o;l.blur&&(l.mobile?s.unshift(i.loadImg(n.images.root+"blur-bg-mobile.jpg")):(s.unshift(i.loadImg(n.images.root+"blur-bg.jpg")),s.unshift(i.loadImg(n.images.root+"blur-bg-blurred.jpg")))),r.all(s).then(function(){t.$pageFinishedLoading=!0}),e(function(){t.$pageFinishedLoading||(t.$pageFinishedLoading=!0)},1e3),t.$baSidebarService=a}e.$inject=["$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings"],angular.module("BlurAdmin.theme").run(e)}(),function(){"use strict";function e(e){var t=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(navigator.userAgent.toLowerCase()),n=t?"mobile":"",i=e.theme.blur?"blur-theme":"";return angular.element(document.body).addClass(n).addClass(i),{blur:e.theme.blur,mobile:t}}e.$inject=["baConfig"],angular.module("BlurAdmin.theme").service("themeLayoutSettings",e)}(),function(){"use strict";function e(e){angular.extend(e,{closeButton:!0,closeHtml:"<button>&times;</button>",timeOut:5e3,autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}e.$inject=["toastrConfig"],angular.module("BlurAdmin.theme.components").config(e)}(),function(){"use strict";function e(e){return{link:function(t,n){e(function(){function t(t){e(function(){n.html(t)},30)}var i=n.attr("new-value"),r=parseInt(n.html());if(i>r)for(var a=r;a<=i;a++)t(a);else for(var o=r;o>=i;o--)t(o);e(function(){n.next().find("i").addClass("show-arr")},500)},3500)}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("animatedChange",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t){t.bind("keydown",function(e){var t=e.target;$(t).height(0);var n=$(t)[0].scrollHeight;n=n<16?16:n,$(t).height(n)}),setTimeout(function(){var e=t;$(e).height(0);var n=$(e)[0].scrollHeight;n=n<16?16:n,$(e).height(n)},0)}}}angular.module("BlurAdmin.theme").directive("autoExpand",e)}(),function(){"use strict";function e(e,t){return{link:function(n,i,r){var a=t(r.autoFocus);n.$watch(a,function(t){t===!0&&e(function(){i[0].focus(),i[0].select()})}),i.bind("blur",function(){n.$apply(a.assign(n,!1))})}}}e.$inject=["$timeout","$parse"],angular.module("BlurAdmin.theme").directive("autoFocus",e)}(),function(){"use strict";function e(e,t){function n(e,t,n,i){}function i(e,t,n,i,r,a,o,s,l){}return i.$inject=["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope"],{require:["ngModel","btnDaterange"],restrict:"E",controller:i,controllerAs:"vmBtnDate",scope:{model:"=ngModel",opts:"=options"},link:n,template:'<button type="button" class="btn btn-primary pull-left btn-daterange" id="daterange-btn"><span><i class="fa fa-calendar"></i> Date range picker </span> <i class="fa fa-caret-down"></i></button>'}}e.$inject=["$timeout","$parse"],angular.module("BlurAdmin.theme").directive("btnDaterange",e)}(),function(){"use strict";function e(){return{restrict:"AE",templateUrl:function(e,t){return t.includeWithScope}}}angular.module("BlurAdmin.theme").directive("includeWithScope",e)}(),function(){"use strict";function e(e){return{restrict:"EA",template:"<div></div>",replace:!0,scope:{min:"=",max:"=",type:"@",prefix:"@",maxPostfix:"@",prettify:"=",prettifySeparator:"@",grid:"=",gridMargin:"@",postfix:"@",step:"@",hideMinMax:"@",hideFromTo:"@",from:"=",to:"=",disable:"=",onChange:"=",onFinish:"=",values:"=",timeout:"@"},link:function(t,n){n.ionRangeSlider({min:t.min,max:t.max,type:t.type,prefix:t.prefix,maxPostfix:t.maxPostfix,prettify_enabled:t.prettify,prettify_separator:t.prettifySeparator,grid:t.grid,gridMargin:t.gridMargin,postfix:t.postfix,step:t.step,hideMinMax:t.hideMinMax,hideFromTo:t.hideFromTo,from:t.from,to:t.to,disable:t.disable,onChange:t.onChange,onFinish:t.onFinish,values:t.values}),t.$watch("min",function(t){e(function(){n.data("ionRangeSlider").update({min:t})})},!0),t.$watch("max",function(t){e(function(){n.data("ionRangeSlider").update({max:t})})}),t.$watch("from",function(t){e(function(){n.data("ionRangeSlider").update({from:t})})}),t.$watch("to",function(t){e(function(){n.data("ionRangeSlider").update({to:t})})}),t.$watch("disable",function(t){e(function(){n.data("ionRangeSlider").update({disable:t})})})}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("ionSlider",e)}(),function(){"use strict";function e(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile()})}}}angular.module("BlurAdmin.theme").directive("ngFileSelect",e)}(),function(){"use strict";function e(){return{scope:{scrollPosition:"=",maxHeight:"="},link:function(e){$(window).on("scroll",function(){var t=$(window).scrollTop()>e.maxHeight;t!==e.prevScrollTop&&e.$apply(function(){e.scrollPosition=t}),e.prevScrollTop=t})}}}angular.module("BlurAdmin.theme").directive("scrollPosition",e)}(),function(){"use strict";function e(){return{scope:{trackWidth:"=",minWidth:"="},link:function(e,t){e.trackWidth=$(t).width()<e.minWidth,e.prevTrackWidth=e.trackWidth,$(window).resize(function(){var n=$(t).width()<e.minWidth;n!==e.prevTrackWidth&&e.$apply(function(){e.trackWidth=n}),e.prevTrackWidth=n})}}}angular.module("BlurAdmin.theme").directive("trackWidth",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(n,i){var r=1e3;t.$pageFinishedLoading&&(r=100),e(function(){i.removeClass("full-invisible"),i.addClass("animated zoomIn")},r)}}}e.$inject=["$timeout","$rootScope"],angular.module("BlurAdmin.theme").directive("zoomIn",e)}(),function(){"use strict";function e(e){var t={},n=0,i=100,r=!1;return{setProgress:function(e){if(e>i)throw Error("Progress can't be greater than max");n=e},getProgress:function(){return n},open:function(){if(r)throw Error("Progress modal opened now");t=e.open({animation:!0,templateUrl:"app/pages/ui/modals/progressModal/progressModal.html",size:"sm",keyboard:!1,backdrop:"static"}),r=!0},close:function(){if(!r)throw Error("Progress modal is not active");t.close(),r=!1}}}e.$inject=["$uibModal"],angular.module("BlurAdmin.theme").factory("baProgressModal",e)}(),function(){"use strict";function e(){this.isDescendant=function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1},this.hexToRGB=function(e,t){var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return"rgba("+n+", "+i+", "+r+", "+t+")"},this.hasAttr=function(e,t){var n=$(e).attr(t);return"undefined"!=typeof n&&n!==!1}}angular.module("BlurAdmin.theme").service("baUtil",e)}(),function(){"use strict";function e(e,t){function n(e){var t=c[e];angular.isUndefined(t)&&(t=c[e]=i(e));var n=m[t];return angular.isUndefined(n)&&(n=r(t)),n}function i(e){return g.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}function r(e){var n=d[e];return n||(n=d[e]=t.matchMedia(e)),n.addListener(a),m[n.media]=!!n.matches}function a(t){e.$evalAsync(function(){m[t.media]=!!t.matches})}function o(e){return d[e]}function s(e,t){for(var n=0;n<g.MEDIA_PRIORITY.length;n++){var i=g.MEDIA_PRIORITY[n];if(d[c[i]].matches){var r=u(e,t+"-"+i);if(e[r])return e[r]}}return e[u(e,t)]}function l(e,t,n){var i=[];return e.forEach(function(e){var r=u(t,e);angular.isDefined(t[r])&&i.push(t.$observe(r,angular.bind(void 0,n,null)));for(var a in $mdConstant.MEDIA)r=u(t,e+"-"+a),angular.isDefined(t[r])&&i.push(t.$observe(r,angular.bind(void 0,n,a)))}),function(){i.forEach(function(e){e()})}}function u(e,t){return p[t]||(p[t]=e.$normalize(t))}var c={},d={},m={},p={},g={MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return n.getResponsiveAttribute=s,n.getQuery=o,n.watchResponsiveAttributes=l,n}e.$inject=["$rootScope","$window"],angular.module("BlurAdmin.theme").factory("csmMedia",e)}(),function(){"use strict";function e(e){var t=function(e,t,n){return function(){n.$apply(function(){t.resolve(e.result)})}},n=function(e,t,n){return function(){n.$apply(function(){t.reject(e.result)})}},i=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},r=function(e,r){var a=new FileReader;return a.onload=t(a,e,r),a.onerror=n(a,e,r),a.onprogress=i(a,r),a},a=function(t,n){var i=e.defer(),a=r(i,n);return a.readAsDataURL(t),i.promise};return{readAsDataUrl:a}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("fileReader",e)}(),function(){"use strict";function e(e){return{loadImg:function(t){var n=e.defer(),i=new Image;return i.src=t,i.onload=function(){n.resolve()},n.promise},loadAmCharts:function(){var t=e.defer();return AmCharts.ready(function(){t.resolve()}),t.promise}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("preloader",e)}(),function(){"use strict";function e(e){return{start:function(t,n,i){function r(){return t(n,i)}var a=r();angular.element(e).bind("focus",function(){a&&t.cancel(a),a=r()}),angular.element(e).bind("blur",function(){a&&t.cancel(a)})}}}e.$inject=["$window"],angular.module("BlurAdmin.theme").service("stopableInterval",e)}(),function(){"use strict";function e(){return{restrict:"E",controller:"DashboardBlockCtrl",templateUrl:"app/pages/dashboard/dashboardBlock/dashboardBlock.html",controllerAs:"vmdashboardCtrl"}}angular.module("BlurAdmin.pages.dashboard").directive("dashboardBlock",e)}(),function(){"use strict";function e(e,r,a){var o=this;o.$scope=e;var s=r.crossfilter,l=r._;r.d3;e.widgetObj=[],e.metrics={revenue:"zCurrency",ebitPercent:"zPercent",iph:"zNumber",costPerTkt:"currency",ebitPerTkt:"currency",revPerHead:"currency"};var u=e.$resolve.collection.zData,c=e.$resolve.collection.zClient,d=e.$resolve.collection.zRegion,m=null;l.map(u,function(e,t){m=l.filter(c,["id",e.clientId])[0].regionId,e.clientName=l.filter(c,["id",e.clientId])[0].code,e.regionName=l.filter(d,["id",m])[0].name,e.global="global"});var p={};p.ndx=s(u),p.dimMonth=p.ndx.dimension(function(e){return e.repmonth}),p.global=p.ndx.dimension(function(e){return e.global}),p.dimRegion=p.ndx.dimension(function(e){return e.regionName}),p.dimClient=p.ndx.dimension(function(e){return e.clientName}),p.perRegion=p.dimRegion.group().reduce(t,n,i),p.perMonth=p.dimMonth.group().reduce(t,n,i),p.perGlobal=p.global.group().reduce(t,n,i),p.perClient=p.dimClient.group().reduce(t,n,i),o.n=p,l.forEach(e.metrics,function(t,n){var i={metric:n,type:t,global:a(t)(l.at(p.perGlobal.all()[0].value,n)[0]),regions:[]};l.forEach(p.perRegion.all(),function(e,r){var o={};o.name=e.key,o.value=a(t)(l.at(e.value,n)[0]),i.regions.push(o)}),e.widgetObj.push(i),e.zGlobal=p.perGlobal.all()}),e.perClients=p.perClient.all(),e.perRegion=p.perRegion.all()}function t(e,t){return++e.count,e.ebit+=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue+=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume+=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte+=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function n(e,t){return--e.count,e.ebit-=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue-=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume-=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte-=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function i(){return{count:0,ebit:0,ebitMin:0,ebitMax:0,ebitScore:0,revenue:0,revenueMin:0,revenueMax:0,revenueScore:0,ebitPercent:0,ebitPercentScore:0,expense:0,avgExpense:0,tktVolume:0,avgTktVolume:0,tktFte:0,avgTktFte:0,iph:0,costPerTkt:0,ebitPerTkt:0,revPerHead:0}}e.$inject=["$scope","$window","$filter"],angular.module("BlurAdmin.pages.dashboard").controller("DashboardBlockCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/backTop/backTop.html",controller:function(){$("#backTop").backTop({position:200,speed:100})}}}angular.module("BlurAdmin.theme.components").directive("backTop",e)}(),function(){"use strict";function e(e,t){return angular.extend({},e,{template:function(n,i){var r='<div  class="panel '+(t.theme.blur?"panel-blur":"")+" full-invisible "+(i.baPanelClass||"");return r+='" zoom-in '+(t.theme.blur?"ba-panel-blur":"")+">",r+=e.template(n,i),r+="</div>"}})}e.$inject=["baPanel","baConfig"],angular.module("BlurAdmin.theme").directive("baPanel",e)}(),function(){"use strict";function e(){return{restrict:"A",transclude:!0,template:function(e,t){var n='<div class="csm-panel-body" ng-transclude></div>';if(t.baPanelTitle){var i='<div class="panel-heading clearfix"><h3 class="panel-title">'+t.baPanelTitle+"</h3></div>";n=i+n}return n}}}angular.module("BlurAdmin.theme").factory("baPanel",e)}(),function(){"use strict";function e(e,t,n){var i;return e.bodyBgLoad().then(function(){i=e.getBodyBgImageSizes()}),t.addEventListener("resize",function(){i=e.getBodyBgImageSizes()}),{restrict:"A",link:function(r,a){function o(){i&&a.css({backgroundSize:Math.round(i.width)+"px "+Math.round(i.height)+"px",backgroundPosition:Math.floor(i.positionX)+"px "+Math.floor(i.positionY)+"px"})}n.$isMobile||(e.bodyBgLoad().then(function(){setTimeout(o)}),t.addEventListener("resize",o),r.$on("$destroy",function(){t.removeEventListener("resize",o)}))}}}e.$inject=["baPanelBlurHelper","$window","$rootScope"],angular.module("BlurAdmin.theme").directive("baPanelBlur",e)}(),function(){"use strict";function e(e){var t=e.defer(),n=getComputedStyle(document.body,":before"),i=new Image;i.src=n.backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2"),i.onerror=function(){t.reject()},i.onload=function(){t.resolve()},this.bodyBgLoad=function(){return t.promise},this.getBodyBgImageSizes=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;if(!(e<=640)){var n,r,a=i.height/i.width,o=t/e;return o>a?(n=t,r=t/a):(r=e,n=e*a),{width:r,height:n,positionX:(e-r)/2,positionY:(t-n)/2}}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("baPanelBlurHelper",e)}(),function(){"use strict";function e(e){return angular.extend({},e,{link:function(e,t,n){t.addClass("panel panel-white"),n.baPanelClass&&t.addClass(n.baPanelClass)}})}e.$inject=["baPanel"],angular.module("BlurAdmin.theme").directive("baPanelSelf",e)}(),function(){"use strict";function e(e,t,n,i){var r=$(window);return{restrict:"E",templateUrl:"app/theme/components/baSidebar/ba-sidebar.html",controller:"BaSidebarCtrl",link:function(i,a){function o(i){n.isDescendant(a[0],i.target)||i.originalEvent.$sidebarEventProcessed||t.isMenuCollapsed()||!t.canSidebarBeHidden()||(i.originalEvent.$sidebarEventProcessed=!0,e(function(){t.setMenuCollapsed(!0)},10))}function s(){var e=t.shouldMenuBeCollapsed(),n=l();e==t.isMenuCollapsed()&&i.menuHeight==n||i.$apply(function(){i.menuHeight=n,t.setMenuCollapsed(e)})}function l(){return a[0].childNodes[0].clientHeight-84}i.menuHeight=a[0].childNodes[0].clientHeight-84,r.on("click",o),r.on("resize",s),i.$on("$destroy",function(){r.off("click",o),r.off("resize",s)})}}}e.$inject=["$timeout","baSidebarService","baUtil","layoutSizes"],angular.module("BlurAdmin.theme.components").directive("baSidebar",e)}(),function(){"use strict";function e(){var e=[];this.addStaticItem=function(){e.push.apply(e,arguments)},this.$get=["$state","layoutSizes",function(t,n){function i(){function i(){return t.get().filter(function(e){return e.sidebarMeta}).map(function(e){var t=e.sidebarMeta;return{name:e.name,title:e.title,level:(e.name.match(/\./g)||[]).length,order:t.order,icon:t.icon,stateRef:e.name}}).sort(function(e,t){return 100*(e.level-t.level)+e.order-t.order})}function r(){return window.innerWidth<=n.resWidthCollapseSidebar}function a(){return window.innerWidth<=n.resWidthHideSidebar}var o=r();this.getMenuItems=function(){var t=i(),n=t.filter(function(e){return 0==e.level});return n.forEach(function(e){var n=t.filter(function(t){return 1==t.level&&0===t.name.indexOf(e.name)});e.subMenu=n.length?n:null}),n.concat(e)},this.shouldMenuBeCollapsed=r,this.canSidebarBeHidden=a,this.setMenuCollapsed=function(e){o=e},this.isMenuCollapsed=function(){return o},this.toggleMenuCollapsed=function(){o=!o},this.getAllStateRefsRecursive=function(e){function t(e){e.subMenu&&e.subMenu.forEach(function(e){e.stateRef&&n.push(e.stateRef),t(e)})}var n=[];return t(e),n}}return new i}],this.$get.$inject=["$state","layoutSizes"]}angular.module("BlurAdmin.theme.components").provider("baSidebarService",e)}(),function(){"use strict";function e(e,t){e.menuItems=t.getMenuItems(),e.defaultSidebarState=e.menuItems[0].stateRef,e.hoverItem=function(t){e.showHoverElem=!0,e.hoverElemHeight=t.currentTarget.clientHeight;var n=66;e.hoverElemTop=t.currentTarget.getBoundingClientRect().top-n},e.$on("$stateChangeSuccess",function(){t.canSidebarBeHidden()&&t.setMenuCollapsed(!0)})}e.$inject=["$scope","baSidebarService"],angular.module("BlurAdmin.theme.components").controller("BaSidebarCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n){n.on("click",function(n){n.originalEvent.$sidebarEventProcessed=!0,t.$apply(function(){e.toggleMenuCollapsed()})})}}}function t(e){return{restrict:"A",link:function(t,n){n.on("click",function(n){n.originalEvent.$sidebarEventProcessed=!0,e.isMenuCollapsed()||t.$apply(function(){e.setMenuCollapsed(!0)})})}}}function n(){return{restrict:"A",controller:"BaSidebarTogglingItemCtrl"}}function i(e,t,n,i,r){function a(e){return e&&l.some(function(t){return 0==e.name.indexOf(t)})}var o=this,s=o.$$menuItem=e.$eval(n.baSidebarTogglingItem);if(s&&s.subMenu&&s.subMenu.length){o.$$expandSubmenu=function(){console.warn("$$expandMenu should be overwritten by baUiSrefTogglingSubmenu")},o.$$collapseSubmenu=function(){console.warn("$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu")};var l=r.getAllStateRefsRecursive(s);o.$expand=function(){o.$$expandSubmenu(),t.addClass("ba-sidebar-item-expanded")},o.$collapse=function(){o.$$collapseSubmenu(),t.removeClass("ba-sidebar-item-expanded")},o.$toggle=function(){t.hasClass("ba-sidebar-item-expanded")?o.$collapse():o.$expand()},a(i.current)&&t.addClass("ba-sidebar-item-expanded"),e.$on("$stateChangeStart",function(e,n){!a(n)&&t.hasClass("ba-sidebar-item-expanded")&&(o.$collapse(),t.removeClass("ba-sidebar-item-expanded"))}),e.$on("$stateChangeSuccess",function(e,n){a(n)&&!t.hasClass("ba-sidebar-item-expanded")&&(o.$expand(),t.addClass("ba-sidebar-item-expanded"))})}}function r(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(e,t,n,i){i.$$expandSubmenu=function(){t.slideDown()},i.$$collapseSubmenu=function(){t.slideUp()}}}}function a(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(t,n,i,r){n.on("click",function(){e.isMenuCollapsed()?(t.$apply(function(){e.setMenuCollapsed(!1)}),r.$expand()):r.$toggle()})}}}e.$inject=["baSidebarService"],t.$inject=["baSidebarService"],i.$inject=["$scope","$element","$attrs","$state","baSidebarService"],r.$inject=["$state"],a.$inject=["baSidebarService"],angular.module("BlurAdmin.theme.components").directive("baSidebarToggleMenu",e).directive("baSidebarCollapseMenu",t).directive("baSidebarTogglingItem",n).controller("BaSidebarTogglingItemCtrl",i).directive("baUiSrefTogglingSubmenu",r).directive("baUiSrefToggler",a)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,templateUrl:"app/theme/components/baWizard/baWizard.html",controllerAs:"$baWizardController",controller:"baWizardCtrl"}}angular.module("BlurAdmin.theme.components").directive("baWizard",e)}(),function(){"use strict";function e(e){function t(){n.progress=(n.tabNum+1)/n.tabs.length*100}var n=this;n.tabs=[],n.tabNum=0,n.progress=0,n.addTab=function(e){e.setPrev(n.tabs[n.tabs.length-1]),n.tabs.push(e),n.selectTab(0)},e.$watch(angular.bind(n,function(){return n.tabNum}),t),n.selectTab=function(e){n.tabs[n.tabNum].submit(),n.tabs[e].isAvailiable()&&(n.tabNum=e,n.tabs.forEach(function(e,t){t==n.tabNum?e.select(!0):e.select(!1)}))},n.isFirstTab=function(){return 0==n.tabNum},n.isLastTab=function(){return n.tabNum==n.tabs.length-1},n.nextTab=function(){n.selectTab(n.tabNum+1)},n.previousTab=function(){n.selectTab(n.tabNum-1)}}e.$inject=["$scope"],angular.module("BlurAdmin.theme.components").controller("baWizardCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,require:"^baWizard",scope:{form:"="},templateUrl:"app/theme/components/baWizard/baWizardStep.html",link:function(e,t,n,i){function r(t){t?e.selected=!0:e.selected=!1}function a(){e.form&&e.form.$setSubmitted(!0)}function o(){return!e.form||e.form.$valid}function s(){return!u.prevTab||u.prevTab.isComplete()}function l(e){u.prevTab=e}e.selected=!0;var u={title:n.title,select:r,submit:a,isComplete:o,isAvailiable:s,prevTab:void 0,setPrev:l};i.addTab(u)}}}angular.module("BlurAdmin.theme.components").directive("baWizardStep",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"app/theme/components/contentTop/contentTop.html",link:function(e){e.$watch(function(){e.activePageTitle=t.current.title})}}}e.$inject=["$location","$state"],angular.module("BlurAdmin.theme.components").directive("contentTop",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/msgCenter/msgCenter.html",controller:"MsgCenterCtrl"}}angular.module("BlurAdmin.theme.components").directive("msgCenter",e)}(),function(){"use strict";function e(e,t){e.users={0:{name:"Vlad"},1:{name:"Kostya"},2:{name:"Andrey"},3:{name:"Nasta"}},e.notifications=[{userId:0,template:"&name posted a new article.",time:"1 min ago"},{userId:1,template:"&name changed his contact information.",time:"2 hrs ago"},{image:"assets/img/shopping-cart.svg",template:"New orders received.",time:"5 hrs ago"},{userId:2,template:"&name replied to your comment.",time:"1 day ago"},{userId:3,template:"Today is &name's birthday.",time:"2 days ago"},{image:"assets/img/comments.svg",template:"New comments on your post.",time:"3 days ago"},{userId:1,template:"&name invited you to join the event.",time:"1 week ago"}],e.messages=[{userId:3,text:"After you get up and running, you can place Font Awesome icons just about...",time:"1 min ago"},{userId:0,text:"You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.",time:"2 hrs ago"},{userId:1,text:"Want to request new icons? Here's how. Need vectors or want to use on the...",time:"10 hrs ago"},{userId:2,text:"Explore your passions and discover new ones by getting involved. Stretch your...",time:"1 day ago"},{userId:3,text:"Get to know who we are - from the inside out. From our history and culture, to the...",time:"1 day ago"},{userId:1,text:"Need some support to reach your goals? Apply for scholarships across a variety of...",time:"2 days ago"},{userId:0,text:"Wrap the dropdown's trigger and the dropdown menu within .dropdown, or...",time:"1 week ago"}],e.getMessage=function(n){var i=n.template;return(n.userId||0===n.userId)&&(i=i.replace("&name","<strong>"+e.users[n.userId].name+"</strong>")),t.trustAsHtml(i)}}e.$inject=["$scope","$sce"],angular.module("BlurAdmin.theme.components").controller("MsgCenterCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/theme/components/pageTop/pageTop.html",link:function(t){t.aaa=e}}}e.$inject=["csmMedia"],angular.module("BlurAdmin.theme.components").directive("pageTop",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/theme/components/progressBarRound/progressBarRound.html",
link:function(t,n,i){function r(){var i=n.find("#loader")[0];i.setAttribute("stroke-dasharray",180*e.getProgress()*Math.PI/100+", 20000"),t.progress=e.getProgress()}t.baProgressDialog=e,t.$watch(function(){return e.getProgress()},r)}}}e.$inject=["baProgressModal"],angular.module("BlurAdmin.theme.components").directive("progressBarRound",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{ngModel:"="},templateUrl:"app/theme/components/widgets/widgets.html",replace:!0}}angular.module("BlurAdmin.theme.components").directive("widgets",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+t}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("appImage",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+"theme/icon/kameleon/"+t+".svg"}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("kameleonImg",e)}(),function(){"use strict";function e(e){return function(t,n){return n=n||"png",e.images.profile+t+"."+n}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("profilePicture",e)}(),function(){"use strict";function e(){return{templateUrl:"app/theme/inputs/baSwitcher/baSwitcher.html",scope:{switcherStyle:"@",switcherValue:"="}}}angular.module("BlurAdmin.theme.inputs").directive("baSwitcher",e)}(),function(){"use strict";function e(){return function(e){return e?String(e).replace(/<[^>]+>/gm,""):""}}angular.module("BlurAdmin.theme").filter("plainText",e)}(),function(){"use strict";function e(e){var t=e.replace(/^\s*/,"");return t=t.replace(/^[a-z]|[^\s][A-Z]/g,function(e,t){return 0===t?e.toUpperCase():e.substr(0,1)+" "+e.substr(1).toUpperCase()})}function t(){return function(t){return e(t)}}e.$inject=["string"],angular.module("BlurAdmin.theme").constant("toTitleCase",e).filter("toTitleCase",t)}(),function(){"use strict";function e(e){var t=window._;return function(n){return angular.isNumber(n)?e("currency")(t.round(n),"$",0):n}}e.$inject=["$filter"],angular.module("BlurAdmin.theme").filter("zCurrency",e)}(),function(){"use strict";function e(){var e=window._;return function(t){return angular.isNumber(t)?e.round(t):t}}angular.module("BlurAdmin.theme").filter("zNumber",e)}(),function(){"use strict";function e(){var e=window._;return function(t){return angular.isNumber(t)?e.round(e.multiply(t,100),2)+"%":t}}angular.module("BlurAdmin.theme").filter("zPercent",e)}(),function(){"use strict";function e(){return{restrict:"E",controller:"DimensionalViewCtrl",templateUrl:"app/pages/version/executive/dimensionalView/dimensionalView.html"}}angular.module("BlurAdmin.pages.version.executive").directive("dimensionalView",e)}(),function(){"use strict";function e(e,t,n){var i=n._,r=n.dc,a=i.cloneDeep(e.n.ndx),o=a.dimension(function(e){return e.repmonth}),s=(a.dimension(function(e){return e.global}),a.dimension(function(e){return e.regionName})),l=s.group(),u=s.group().reduceSum(function(e){return+e.revenueDollar}),c=o.group().reduceSum(function(e){return+e.ebitDollar}),d=(l.reduce(function(e,t){return++e.count,e.revenueDollar+=+t.revenueDollar,e.ebitDollar+=+t.ebitDollar,e.total+=(t.revenueDollar+(t.revenueDollar-t.ebitDollar))/2,e.avg=Math.round(e.total/e.count),e},function(e,t){return--e.count,e.revenueDollar-=+t.revenueDollar,e.ebitDollar-=+t.ebitDollar,e.total-=(t.revenueDollar+(t.revenueDollar-t.ebitDollar))/2,e.avg=e.count?Math.round(e.total/e.count):0,e},function(e,t){return{count:0,revenueDollar:0,ebitDollar:0,total:0,avg:0}}),r.barChart("#ordinal-bar-chart")),m=r.barChart("#monthly-volume-chart"),p=r.lineChart("#monthly-move-chart");d.width(500).height(150).dimension(s).group(u).elasticY(!0).x(d3.scale.ordinal()).xUnits(r.units.ordinal),p.renderArea(!0).width(990).height(200).transitionDuration(1e3).margins({top:30,right:50,bottom:25,left:40}).dimension(o).mouseZoomable(!1).rangeChart(m).x(d3.time.scale().domain([new Date(2015,0,1),new Date(2017,11,31)])).round(d3.time.month.round).xUnits(d3.time.months).elasticY(!0).renderHorizontalGridLines(!0).legend(r.legend().x(800).y(10).itemHeight(13).gap(5)).brushOn(!1).group(u,"Monthly Index Average").valueAccessor(function(e){return e.value.revenueDollar}),m.width(990).height(40).margins({top:0,right:50,bottom:20,left:40}).dimension(o).group(c).centerBar(!0).gap(1).x(d3.time.scale().domain([new Date(2015,0,1),new Date(2017,11,31)])).round(d3.time.month.round).alwaysUseRounding(!0).xUnits(d3.time.months),d.render(),m.render(),p.render()}e.$inject=["$scope","$timeout","$window"],angular.module("BlurAdmin.pages.version.executive").controller("DimensionalViewCtrl",e)}(),function(){"use strict";function e(e,t,n){var i=t._,r=e.$parent.n,a=i.camelCase(n.type.replace(" ",""));e.perKpi={data:[],label:[]},e.kpiName=n.type;var o=[{name:"revenue",type:"zCurrency",value:"revenueDollar"},{name:"ebitPercent",type:"zPercent",sub:"ebitPercentScore"},{name:"iph",type:"zNumber",sub:"avgTktVolume"},{name:"costPerTkt",type:"currency",sub:"tktVolume"},{name:"ebitPerTkt",type:"currency",sub:"ebitMin"},{name:"revPerHead",type:"currency",sub:"avgTktFte"}];i.forEach(r.perMonth.all(),function(t,n){e.perKpi.label.push(t.key.getFullYear()+"-"+t.key.toDateString().split(" ")[1]),e.perKpi.data.push(t.value[a])}),e.perKpi.options={fill:!1,backgroundColor:"rgba(151, 187, 205, 0.1)",scales:{yAxes:[{fill:!1,ticks:{callback:function(e,t,n){var r=i.filter(o,["name",a])[0];return i.lowerCase(r.type).indexOf("percent")!==-1?e.toPrecision(2)+"%":i.lowerCase(r.type).indexOf("currency")!==-1?"$"+e.toPrecision(2):e.toString()},beginAtZero:!0}}],xAxes:[{fill:!1}]}}}e.$inject=["$scope","$window","$stateParams"],angular.module("BlurAdmin.pages.version.executive").controller("CurrentKpiCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",controller:"CurrentPerformanceCtrl",templateUrl:"app/pages/version/executive/currentPerformance/currentPerformance.html"}}angular.module("BlurAdmin.pages.version.executive").directive("currentPerformance",e)}(),function(){"use strict";function e(e,t,n,i,r,a,o,s){function l(){e.charts=[],b.forEach(w,function(t,n){var r={icon:null,color:g,description:b.startCase(t.name),type:t.type,sub:{name:t.sub,data:b.round(b.at(k.perGlobal.all()[0].value,t.sub)[0],2)},stats:i(t.type)(b.at(k.perGlobal.all()[0].value,t.name)[0]),regions:{}},a={regData:[],regLabel:[]};b.forEach(k.perRegion.all(),function(e,n){a.regLabel.push(e.key),a.regData.push(b.round(b.at(e.value,t.name)[0],2))}),r.regions.data=a.regData,r.regions.label=a.regLabel,e.charts.push(r),e.zGlobal=k.perGlobal.all()})}function u(e,t){return++e.count,e.ebit+=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue+=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume+=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte+=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function c(e,t){return--e.count,e.ebit-=+t.ebitDollar,e.ebitMin=Math.min(e.ebitMin,t.ebitDollar),e.ebitMax=Math.max(e.ebitMax,t.ebitDollar),e.ebitScore=Math.round((t.ebitDollar-e.ebitMin)/(e.ebitMax-e.ebitMin)*100)/100,e.revenue-=+t.revenueDollar,e.revenueMin=Math.min(e.revenueMin,t.revenueDollar),e.revenueMax=Math.max(e.revenueMax,t.revenueDollar),e.revenueScore=Math.round((t.revenueDollar-e.revenueMin)/(e.revenueMax-e.revenueMin)*100)/100,e.ebitPercent=e.ebit/e.revenue,e.ebitPercentScore=e.ebitScore/e.revenueScore,e.expense=e.revenue-e.ebit,e.avgExpense=e.expense/e.count,e.tktVolume-=+t.ticketVolume,e.avgTktVolume=e.tktVolume/e.count,e.tktFte-=+t.fte,e.avgTktFte=e.tktFte/e.count,e.iph=e.tktVolume/e.tktFte,e.costPerTkt=e.expense/e.tktVolume,e.ebitPerTkt=e.ebit/e.tktVolume,e.revPerHead=e.revenue/e.tktFte,e}function d(){return{count:0,ebit:0,ebitMin:0,ebitMax:0,ebitScore:0,revenue:0,revenueMin:0,revenueMax:0,revenueScore:0,ebitPercent:0,ebitPercentScore:0,expense:0,avgExpense:0,tktVolume:0,avgTktVolume:0,tktFte:0,avgTktFte:0,iph:0,costPerTkt:0,ebitPerTkt:0,revPerHead:0}}function m(){e.opened=!0}function p(e){function t(e){return e.lines}var n=document.getElementById("chartjs-tooltip");if(n||(n=document.createElement("div"),n.id="chartjs-tooltip",n.innerHTML="<table></table>",document.body.appendChild(n)),0===e.opacity)return void(n.style.opacity=0);if(n.classList.remove("above","below","no-transform"),e.yAlign?n.classList.add(e.yAlign):n.classList.add("no-transform"),e.body){var i=e.title||[],r=e.body.map(t),a="<thead>";i.forEach(function(e){a+="<tr><th>"+e+"</th></tr>"}),a+="</thead><tbody>",r.forEach(function(t,n){var i=e.labelColors[n],r="background:"+i.backgroundColor;r+="; border-color:"+i.borderColor,r+="; border-width: 2px";var o='<span class="chartjs-tooltip-key" style="'+r+'"></span>';a+="<tr><td>"+o+t+"</td></tr>"}),a+="</tbody>";var o=n.querySelector("table");o.innerHTML=a}var s=this._chart.canvas.getBoundingClientRect();n.style.opacity=1,n.style.left=s.left+e.caretX+"px",n.style.top=s.top+e.caretY+"px",n.style.fontFamily=e._fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e._fontStyle,n.style.padding=e.yPadding+"px "+e.xPadding+"px"}var g=a.hexToRGB(r.colors.defaultText,.2),f=n.crossfilter,b=n._,h=(n.d3,this);h.$scope=e,e.charts=[];var v=e.$resolve.collection.zData,x=e.$resolve.collection.zClient,$=e.$resolve.collection.zRegion,w=[{name:"revenue",type:"zCurrency",sub:"revenueScore"},{name:"ebitPercent",type:"zPercent",sub:"ebitPercentScore"},{name:"iph",type:"zNumber",sub:"avgTktVolume"},{name:"costPerTkt",type:"currency",sub:"tktVolume"},{name:"ebitPerTkt",type:"currency",sub:"ebitMin"},{name:"revPerHead",type:"currency",sub:"avgTktFte"}],y=null;b.map(v,function(e,t){y=b.filter(x,["id",e.clientId])[0].regionId,e.clientName=b.filter(x,["id",e.clientId])[0].code,e.regionName=b.filter($,["id",y])[0].name,e.global="global"});var k=e.n={};k.ndx=f(v),k.dimMonth=k.ndx.dimension(function(e){return e.repmonth}),k.global=k.ndx.dimension(function(e){return e.global}),k.dimRegion=k.ndx.dimension(function(e){return e.regionName}),k.dimClient=k.ndx.dimension(function(e){return e.clientName}),k.perRegion=k.dimRegion.group().reduce(u,c,d),k.perMonth=k.dimMonth.group().reduce(u,c,d),k.perGlobal=k.global.group().reduce(u,c,d),k.perClient=k.dimClient.group().reduce(u,c,d),l(),e.datePicker={date:{startDate:null,endDate:null,mode:"month"}},e.toOpen=m,e.opened=!1,e.format="yyyy MMM",e.options={maxMode:"month",minMode:"month",mode:"month"},e.med={xs:s("xs"),sm:s("sm")},e.$watch(function(){e.med={xs:s("xs"),sm:s("sm")}}),e.$watch("opened",function(e,n,i){if(!e&&i.dt){new Date(i.dt);t(function(){i.$apply(function(){i.n.dimMonth.filterFunction(function(e){return i.dt.getMonth()===e.getMonth()&&i.dt.getFullYear()===e.getFullYear()}),l()})},10)}},!0),e.ch={labels:["aaa","bbb","ccc","ddd","eee"],data:[1,2,3,4,3],options:{scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},tooltips:{enabled:!0,custom:p}}}}function t(){}e.$inject=["$scope","$timeout","$window","$filter","baConfig","baUtil","urlUtil","csmMedia"],angular.module("BlurAdmin.pages.version.executive").controller("CurrentPerformanceCtrl",e),angular.module("BlurAdmin.pages.version.executive").service("dashboardPieChart",t)}(),!function(e){e.fn.backTop=function(t){var n=this,i=e.extend({position:400,speed:500,color:"white"},t),r=i.position,a=i.speed,o=i.color;n.addClass("white"==o?"white":"red"==o?"red":"green"==o?"green":"black"),n.css({right:40,bottom:40,position:"fixed"}),e(document).scroll(function(){var t=e(window).scrollTop();t>=r?n.fadeIn(a):n.fadeOut(a)}),n.click(function(){e("html, body").animate({scrollTop:0},{duration:1200})})}}(jQuery),angular.module("BlurAdmin").run(["$templateCache",function(e){e.put("app/pages/dashboard/dashboard.html",'<section><div class="row"><dashboard-block></dashboard-block></div></section>'),e.put("app/pages/init/init.html",'<section class="content"><div class="slides"><div class="slide" ng-if="!curUser"><div class="blurb"><div class="title">API is {{apistatus}}</div></div><div class="xample"><div class="box-mail"><div class="masthead"><input ng-model="apipath" type="text" placeholder="api base path..."></div><div class="send" ng-click="conCon()"></div></div></div></div></div></section>'),e.put("app/pages/dashboard/dashboardBlock/dashboardBlock.html",'<div class="row" ng-repeat="o in widgetObj"><div class="col-md-8"><div class="widget sky-bg"><div class="widget-icon widget-icon-top to-left"><div class="row-flex"><div class="flex-20 hide-xs"></div><div class="flex-50 flex-last"><h2 class="bold">{{ o.metric | toTitleCase }}</h2></div><div class="flex-20 flex-last"><h4 class="italic">Global</h4></div><div class="flex-10 flex-last"><h2 class="bold-title">{{ o.global }}</h2></div></div></div><div class="widget-content to-center"><div class="row"><div class="col-md-3" ng-repeat="r in o.regions"><h3>{{ r.value }}</h3><h4 class="bold">{{ r.name }}</h4></div></div></div></div></div><div class="col-md-4"><div id="pie-chart-value"></div></div></div>'),e.put("app/pages/version/executive/executive.html",'<div class="row"><div class="col-xlg-6 col-md-12 col-sm-6"><p class="input-group"><span class="input-group-btn"><button ng-click="toOpen()" class="btn btn-primary pull-right btn-daterange" id="daterange-btn"><span ng-if="!dt" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> Select Month Coverage <i class="fa fa-caret-down fa-fw"></i></span> <span ng-if="dt" style="min-width:140px; display:block;"><i class="fa fa-calendar fa-fw"></i> {{dt | date:\'yyyy MMM\' }} <i class="fa fa-caret-down fa-fw"></i></span></button></span> <input type="text" class="hide form-control inp-daterange" uib-datepicker-popup="{{format}}" datepicker-options="options" ng-model="dt" is-open="opened" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false"></p></div></div><current-performance></current-performance><div class="row"><dimensional-view></dimensional-view></div>'),e.put("app/theme/components/backTop/backTop.html",'<i class="fa fa-angle-up back-top" id="backTop" title="Back to Top"></i>'),e.put("app/theme/components/baSidebar/ba-sidebar.html",'<aside class="al-sidebar" ng-swipe-right="$baSidebarService.setMenuCollapsed(false)" ng-swipe-left="$baSidebarService.setMenuCollapsed(true)" ng-mouseleave="hoverElemTop=selectElemTop"><ul class="al-sidebar-list" slimscroll="{height: \'{{menuHeight}}px\'}" slimscroll-watch="menuHeight"><li ng-repeat="item in ::menuItems" class="al-sidebar-list-item" ng-class="::{\'with-sub-menu\': item.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="item"><a ng-mouseenter="hoverItem($event, item)" ui-state="item.stateRef || \'\'" ng-href="{{::(item.fixedHref ? item.fixedHref: \'\')}}" ng-if="::!item.subMenu" class="al-sidebar-list-link"><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter="hoverItem($event, item)" ng-if="::item.subMenu" class="al-sidebar-list-link" ba-ui-sref-toggler=""><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span> <b class="fa fa-angle-down" ui-sref-active="fa-angle-up" ng-if="::item.subMenu"></b></a><ul ng-if="::item.subMenu" class="al-sidebar-sublist" ng-class="{\'slide-right\': item.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-repeat="subitem in ::item.subMenu" ng-class="::{\'with-sub-menu\': subitem.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="subitem" class="ba-sidebar-sublist-item"><a ng-mouseenter="hoverItem($event, item)" ng-if="::subitem.subMenu" ba-ui-sref-toggler="" class="al-sidebar-list-link subitem-submenu-link"><span>{{ ::subitem.title }}</span> <b class="fa" ng-class="{\'fa-angle-up\': subitem.expanded, \'fa-angle-down\': !subitem.expanded}" ng-if="::subitem.subMenu"></b></a><ul ng-if="::subitem.subMenu" class="al-sidebar-sublist subitem-submenu-list" ng-class="{expanded: subitem.expanded, \'slide-right\': subitem.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-mouseenter="hoverItem($event, item)" ng-repeat="subSubitem in ::subitem.subMenu" ui-sref-active="selected"><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::subSubitem.disabled" class="al-sidebar-list-link">{{ ::subSubitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" ui-state="subSubitem.stateRef || \'\'" ng-if="::!subSubitem.disabled" ng-href="{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \'\')}}">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::(!subitem.subMenu && subitem.disabled)" class="al-sidebar-list-link">{{ ::subitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" target="{{::(subitem.blank ? \'_blank\' : \'_self\')}}" ng-if="::(!subitem.subMenu && !subitem.disabled)" ui-state="subitem.stateRef || \'\'" ng-href="{{::(subitem.fixedHref ? subitem.fixedHref: \'\')}}">{{ ::subitem.title}}</a></li></ul></li></ul><div class="sidebar-hover-elem" ng-style="{top: hoverElemTop + \'px\', height: hoverElemHeight + \'px\'}" ng-class="{\'show-hover-elem\': showHoverElem }"></div></aside>'),e.put("app/theme/components/baWizard/baWizard.html",'<div class="ba-wizard"><div class="ba-wizard-navigation-container"><div ng-repeat="t in $baWizardController.tabs" class="ba-wizard-navigation {{$baWizardController.tabNum == $index ? \'active\' : \'\'}}" ng-click="$baWizardController.selectTab($index)">{{t.title}}</div></div><div class="progress ba-wizard-progress"><div class="progress-bar progress-bar-danger active" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{width: $baWizardController.progress + \'%\'}"></div></div><div class="steps" ng-transclude=""></div><nav><ul class="pager ba-wizard-pager"><li class="previous"><button ng-disabled="$baWizardController.isFirstTab()" ng-click="$baWizardController.previousTab()" type="button" class="btn btn-primary"><span aria-hidden="true">&larr;</span> previous</button></li><li class="next"><button ng-disabled="$baWizardController.isLastTab()" ng-click="$baWizardController.nextTab()" type="button" class="btn btn-primary">next <span aria-hidden="true">&rarr;</span></button></li></ul></nav></div>'),e.put("app/theme/components/baWizard/baWizardStep.html",'<section ng-show="selected" class="step" ng-transclude=""></section>'),e.put("app/theme/components/contentTop/contentTop.html",'<div class="content-top clearfix"><h1 class="al-title">{{ activePageTitle }}</h1><ul class="breadcrumb al-breadcrumb"><li><a href="#/dashboard">Home</a></li><li>{{ activePageTitle }}</li></ul></div>'),e.put("app/theme/components/msgCenter/msgCenter.html",'<ul class="al-msg-center clearfix"><li uib-dropdown=""><a href="" uib-dropdown-toggle=""><i class="fa fa-bell-o"></i><span>5</span><div class="notification-ring"></div></a><div uib-dropdown-menu="" class="top-dropdown-menu"><i class="dropdown-arr"></i><div class="header clearfix"><strong>Notifications</strong> <a href="">Mark All as Read</a> <a href="">Settings</a></div><div class="msg-list"><a href="" class="clearfix" ng-repeat="msg in notifications"><div class="img-area"><img ng-class="{\'photo-msg-item\' : !msg.image}" ng-src="{{::( msg.image || (users[msg.userId].name | profilePicture) )}}"></div><div class="msg-area"><div ng-bind-html="getMessage(msg)"></div><span>{{ msg.time }}</span></div></a></div><a href="">See all notifications</a></div></li><li uib-dropdown=""><a href="" class="msg" uib-dropdown-toggle=""><i class="fa fa-envelope-o"></i><span>5</span><div class="notification-ring"></div></a><div uib-dropdown-menu="" class="top-dropdown-menu"><i class="dropdown-arr"></i><div class="header clearfix"><strong>Messages</strong> <a href="">Mark All as Read</a> <a href="">Settings</a></div><div class="msg-list"><a href="" class="clearfix" ng-repeat="msg in messages"><div class="img-area"><img class="photo-msg-item" ng-src="{{::( users[msg.userId].name | profilePicture )}}"></div><div class="msg-area"><div>{{ msg.text }}</div><span>{{ msg.time }}</span></div></a></div><a href="">See all messages</a></div></li></ul>'),e.put("app/theme/components/pageTop/pageTop.html",'<div class="page-top clearfix" scroll-position="scrolled" max-height="50" ng-class="{\'scrolled\': scrolled}"><a href="#/dashboard" class="al-logo clearfix"><span>Stefanini</span></a> <a href="" class="collapse-menu-link ion-navicon" ba-sidebar-toggle-menu=""></a><div class="pull-left"><span class="al-subname" ng-if="$baSidebarService.isMenuCollapsed()">KPI</span> <span class="al-subname" ng-if="!$baSidebarService.isMenuCollapsed()">Key Performance Indicators</span></div><div class="user-profile clearfix"><div class="al-user-profile"><img ng-src="{{::( \'stefLogo\' | profilePicture )}}"></div></div></div>'),e.put("app/theme/components/progressBarRound/progressBarRound.html",'<svg class="center-block progress-bar-round" width="200" height="200"><circle cx="100" cy="100" r="90" fill="none" stroke="#F8F8FF" stroke-width="8"></circle><circle cx="100" cy="100" r="90" fill="none" id="loader" class="" stroke="#209e91" stroke-width="8" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" stroke-linecap="round"></circle><text text-anchor="middle" class="loading" x="100" y="90">Loading...</text><text class="percentage" text-anchor="middle" x="100" y="130">{{progress}}%</text></svg>'),e.put("app/theme/components/widgets/widgets.html",'<div class="widgets"><div ng-repeat="widgetBlock in ngModel" ng-class="{\'row\': widgetBlock.widgets.length > 1}"><div ng-repeat="widgetCol in widgetBlock.widgets" ng-class="{\'col-md-6\': widgetBlock.widgets.length === 2}" ng-model="widgetCol" class="widgets-block"><div ba-panel="" ba-panel-title="{{::widget.title}}" ng-repeat="widget in widgetCol" ba-panel-class="with-scroll {{widget.panelClass}}"><div ng-include="widget.url"></div></div></div></div></div>'),e.put("app/theme/inputs/baSwitcher/baSwitcher.html",'<label class="switcher-container"><input type="checkbox" ng-model="switcherValue"><div class="switcher" ng-class="::switcherStyle"><div class="handle-container"><span class="handle handle-on">ON</span> <span class="handle"></span> <span class="handle handle-off">OFF</span></div></div></label>'),e.put("app/pages/version/executive/currentPerformance/currentKpi.html",'<div class="row"><div class="col-md-6"><h4>{{ kpiName }}</h4></div></div><div class="kpi-chart"><canvas id="polar-area" class="chartjs chart-line" chart-data="perKpi.data" chart-labels="perKpi.label" chart-options="perKpi.options"></canvas></div>'),e.put("app/pages/version/executive/currentPerformance/currentPerformance.html",'<div class="pie-charts"><div class="pie-chart-item-container" ng-repeat="chart in charts"><div ba-panel=""><div class="panel-item"><h3 class="md-title">{{ ::chart.stats }}</h3><p>{{ ::chart.description }}</p></div><div class="panel-chart"><canvas id="polar-area" class="chartjs chart-bar" chart-data="chart.regions.data" chart-labels="chart.regions.label" chart-options="ch.options"></canvas></div><a class="link-footer" ui-sref="trending.executive.kpi({type: chart.description})">{{ ::chart.description }}</a></div></div></div><main ui-view=""></main>'),e.put("app/pages/version/executive/dimensionalView/dimensionalView.html",'<section class="content"><div id="ordinal-bar-chart"><span>Ordinal Bar Chart</span> <a class="reset" href="/" style="display: none;">reset</a><br><span class="reset" style="display: none;">Current filter: <span class="filter"></span></span><div class="clear"></div></div><div class="row"><div id="monthly-move-chart"><strong>Monthly Index Abs Move & Volume/500,000 Chart</strong> <span class="reset" style="display: none;">range: <span class="filter"></span></span> <a class="reset" href="javascript:moveChart.filterAll();volumeChart.filterAll();dc.redrawAll();" style="display: none;">reset</a><div class="clearfix"></div></div></div><div class="row"><div id="monthly-volume-chart"></div><p class="muted pull-right" style="margin-right: 15px;">select a time range to zoom in</p></div></section>')}]);
//# sourceMappingURL=../maps/scripts/app-b7bce0e47a.js.map
